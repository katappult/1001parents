/*! For license information please see main.19a8071f.chunk.js.LICENSE.txt */
(this.webpackJsonp1001parents=this.webpackJsonp1001parents||[]).push([[4],{12:function(t,e,r){"use strict";r.d(e,"a",(function(){return p}));var n=r(1),a=r.n(n),o=r(138),i=r(220),c=r(58),s=r.n(c),u=r(49),l=r.n(u),p={toastError:function(t){return a.a.createElement("div",null,a.a.createElement("div",{style:{"font-size":"13px","font-weight":"bold"}},a.a.createElement("span",null,t.errorFamily),t.errorCode?a.a.createElement("span",null," - ",t.errorCode):""),a.a.createElement("div",{style:{display:"flex",margin:"0.6rem"}},a.a.createElement("i",{className:"fa fa-exclamation-triangle fa-lg",style:{"margin-top":"0.5rem"}}),a.a.createElement("div",{style:{"font-size":"13px","margin-left":"1rem"}},t.message)))},toastSuccess:function(t){return a.a.createElement("div",{className:"toast-info"},a.a.createElement("i",{className:"fa fa-check-circle fa-md"}),a.a.createElement("div",{className:"message"},t))},getValueFromUrl:function(t){var e=window.location.href;if(e.split("?").length>0){var r=l.a.parse("?"+e.split("?")[1]);return r[t]?r[t]:""}return""},getStatusesFromUrl:function(){var t=window.location.href,e=[];if(t.split("?").length>0){var r=l.a.parse("?"+t.split("?")[1])["status[]"];!Array.isArray(r)&&r?e.push(r):e=r}return e||[]},toJSONObject:function(t){var e=JSON.stringify(t);return JSON.parse(e)},getPropByString:function(t,e){if(!e)return"-";for(var r,n=e.split("."),a=0,o=n.length-1;a<o;a++){r=n[a];var i=t[r];if(void 0===i)break;t=i}return t&&t[n[a]]?t[n[a]]:""},getInputType:function(t){switch(t.type){case"string":case"text":return"text";case"textarea":return"textarea";case"yesno":return"yesno";case"bool":return"checkbox";case"radio":return"radio";case"checkbox":return"checkbox";case"email":return"email";case"tel":return"tel";case"number":return"number";case"select":return"select";case"password":return"password";case"date":return"date";case"datetime":return"datetime";case"file":return"file";default:return"text"}},indexOfItemInArray:function(t,e){var r=-1,n=0;return e.map((function(e){e.id===t.id&&(r=n),n++})),r},clone:function(t){var e=JSON.stringify(t);return JSON.parse(e)},getAttributeViewer:function(t,e){var r=t.type;if("gender"===r)return a.a.createElement(o.o,{value:e});if("bool"===r||"yesno"===r)return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"checkbox",disabled:!0,defaultChecked:e,checked:e}));if(t.staticValue)return a.a.createElement(i.a,{className:"control-value-view"},t.staticValue);if(t.displayComponent)return t.displayComponent(e);if("date"===t.type||"datetime"===t.type){var n=t.dateFormat;if(null===e||""===e)return a.a.createElement("span",null);var c=s()(e,"YYYY-MM-DD HH:mm:ss S").format(n);return a.a.createElement(i.a,{className:"control-value-view"},c)}return a.a.createElement(i.a,{className:"control-value-view"},"undefined"===String(e)?"":String(e))},getWorkingContainerName:function(t){return t.workingContainer.name},getWorkingContainerPath:function(t){return t.workingContainer.path},getWorkingContainerId:function(t){var e;return null===(e=t.workingContainer)||void 0===e?void 0:e.id},hasRoleAdmin:function(t){return h(t,["ROLE_ADMIN","ROLE_SUPERADMIN"])||f(t)},hasRoleSuperAdmin:f,hasRoleReader:function(t){if(0===t.rolesInWorkingContainer.length)return!0;return d(t,"ROLE_READER")},hasRoleUser:function(t){if(0===t.rolesInWorkingContainer.length)return!1;return d(t,"ROLE_USER")},hasRoleAnon:function(t){if(0===t.rolesInWorkingContainer.length)return!0;return d(t,"ROLE_ANON")},getRootContainerId:function(t){var e;return null===(e=t.applicationContainer)||void 0===e?void 0:e.id},getCurrentUserAccountId:function(t){return t.userAccount.id},getCurrentUserAccountOwnerId:function(t){return t.userDetails.id},getRestErrorMessage:function(t){return t?t.message:"Erreur interne, veuillez contacter le support"},isRequestError:v,isRequestSuccess:function(t){return!v(t)},getUrlVars:function(){return{}},arrayRemove:function(t,e){return t.filter((function(t){return t!=e}))},setSessionId:function(t){document.cookie="Authorization="+t+"; Max-Age=365; path=/"},katappult_core_logout:function(){document.cookie="Authorization=; Max-Age=0; Path=/"},katappult_core_loginSuccess:function(t){var e;console.log("response:: "+JSON.stringify(t));var r=t.data.links,n={};n.rolesInApplicationContainer=r.rolesInApplicationContainer.data,n.rolesInWorkingContainer=r.rolesInWorkingContainer.data,n.userPreferences=r.userPreferences.data,n.systemPreferences=null===(e=r.systemPreferences)||void 0===e?void 0:e.data,n.workingContainer=JSON.parse(r.workingContainer),n.applicationContainer=JSON.parse(r.applicationContainer),n.userAccount=JSON.parse(r.account),n.userDetails=JSON.parse(r.user),n.applicationCurrentEnvironmentName=r.applicationCurrentEnvironmentName,n.applicationFriendlyName=r.applicationFriendlyName;var a="epanon"===n.userAccount.nickName,o="epadmin"===n.userAccount.nickName;a?n.rolesInWorkingContainer=[{attributes:{key:"ROLE_ANON"}}]:o&&(n.rolesInWorkingContainer=[{attributes:{key:"ROLE_ADMIN"}},{attributes:{key:"ROLE_USER"}}]);return n},katappult_core_loginError:function(){},sessionId:function(){return y()},isLoggedIn:function(t){return m(t)||p.katappult_core_isAnonConnected(t)},getSystemPreference:function(t,e){var r;return t.systemPreferences.map((function(t){t.attributes.key===e&&(r=t.attributes.value)})),r},hasRole:d,hasAnyRole:h,katappult_core_isUserConnected:m,katappult_core_isAnonConnected:function(t){return"epanon"===t.userAccount.nickName},isLoggedInAsUser:function(t){return m(t)&&!p.katappult_core_isAnonConnected(t)},isLoggedInAsAnon:function(t){return p.katappult_core_isAnonConnected(t)},isNotLoggedIn:function(t){return!m(t)},clientContainerId:function(t){return t.workingContainer.id},getContainerSetting:function(t,e){var r="";return t.map((function(t){t.attributes.key===e&&(r=t.attributes.value)})),r},getBooleanContainerSetting:function(t,e){var r=this.getContainerSetting(t,e);if("oui"===r||"true"===r||"yes"===r||"1"===r)return!0;return!1},getApiRootURL:function(){var t,e=window&&window.location&&window.location.hostname,r=window&&window.location&&window.location.port,n=window&&window.location&&window.location.origin,a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_VERSION:"1.0-SNAPSHOT",REACT_APP_CLIENT_LOGIN_URL:"/login.xhtml",REACT_APP_ROUTER_BASE:"/",REACT_APP_CONTEXT_ROOT:"",REACT_APP_BUILD_VERSION:"",REACT_APP_BUILD_DATETIME:"202301171856",REACT_APP_CLIENT_ROOT_URL:"/home.xhtml"}).REACT_APP_PROXY_URL;t=a||(/^localhost/.test(e)&&r&&("3000"===r||"3001"===r)?"http://".concat(e,":8080/").concat(""):"".concat(n,"/").concat(""));return t},validateEmail:function(t){if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t))return!1;return!0},isServer:function(){return!("undefined"!==typeof window&&window.document&&window.document.createElement)},authorizationCookie:function(){return y()}};function h(t,e){var r=!1;return t.rolesInWorkingContainer&&t.rolesInWorkingContainer.map((function(t){e.includes(t.attributes.key)&&(r=!0)})),r}function d(t,e){var r=!1;return t.rolesInWorkingContainer&&t.rolesInWorkingContainer.map((function(t){if(t.attributes.key===e)return r=!0,!0})),r}function f(t){var e=!1;return t.rolesInApplicationContainer.map((function(t){if("ROLE_SUPERADMIN"===t.attributes.key)return e=!0,!0})),e}function m(t){var e=y();return void 0!==e&&null!=e&&"epanon"!==t.userAccount.nickName}function v(t){return!t||"error"===t.status||500===t.status||"500"===t.status||404===t.status||"404"===t.status||400===t.status||"400"===t.status||401===t.status||"401"===t.status}function y(){var t,e=null===(t=document.cookie.split("; ").find((function(t){return t.startsWith("Authorization")})))||void 0===t?void 0:t.split("=")[1];return e||""}},133:function(t,e,r){"use strict";var n=r(9),a=r(13),o=r(14),i=r(5),c=r(16),s=r(15),u=r(1),l=r.n(u),p=r(221),h=r.n(p),d=r(72),f=r(646),m=function(t){Object(c.a)(r,t);var e=Object(s.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).handleClick=n.handleClick.bind(Object(i.a)(n)),n}return Object(o.a)(r,[{key:"handleClick",value:function(){this.refs.fileUploader.click()}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,{onClick:this.handleClick,hidden:this.props.hidden},l.a.createElement("i",{className:"fa fa-upload fa-md"}),"\xa0",this.props.uploadLabel),l.a.createElement("input",{type:"file",id:"file",style:{display:"none"},accept:this.props.accept,ref:"fileUploader",onChange:this.props.onChangeFile}))}}]),r}(u.Component),v=r(28),y=r(23),g=r(12);function b(){b=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(x){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(C([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var w=function(t){Object(c.a)(r,t);var e=Object(s.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).downloadPrimaryContent=n.downloadPrimaryContent.bind(Object(i.a)(n)),n.viewPrimaryContent=n.viewPrimaryContent.bind(Object(i.a)(n)),n.onChangeFile=n.onChangeFile.bind(Object(i.a)(n)),n.deletePrimaryContent=n.deletePrimaryContent.bind(Object(i.a)(n)),n}return Object(o.a)(r,[{key:"onChangeFile",value:function(t){var e=this;t.preventDefault();var r=t.target.files[0],n=new FormData;n.append("file",r),d.a.setPrimaryContentFile(this.props.contentHolderId,n,this.props.containerId).then((function(t){g.a.isRequestError(t)?Object(y.b)(g.a.toastError(t)):(Object(y.b)(g.a.toastSuccess("Le contenu primaire a \xe9t\xe9 t\xe9l\xe9vers\xe9")),e.props.onUploadSuccess&&e.props.onUploadSuccess())}))}},{key:"deletePrimaryContent",value:function(){var t=Object(n.a)(b().mark((function t(){var e=this;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.a.deletePrimaryContent(this.props.contentHolderId,this.props.containerId).then((function(t){g.a.isRequestError(t)?y.b.error("Impossible de supprimer le contenu"):(Object(y.b)(g.a.toastSuccess("Le contenu a \xe9t\xe9 supprim\xe9")),e.props.onUploadSuccess&&e.props.onUploadSuccess())}));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"downloadPrimaryContent",value:function(){var t=Object(n.a)(b().mark((function t(e){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),r=this.props.downloadedFileName?this.props.downloadedFileName:"primary-content.txt",d.a.downloadPrimaryContent(this.props.contentHolderId,this.props.containerId).then((function(t){var e=new Blob([t],{type:"text/plain;charset=utf-8"});h.a.saveAs(e,r)}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"viewPrimaryContent",value:function(){var t=Object(n.a)(b().mark((function t(e){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),d.a.downloadPrimaryContent(this.props.contentHolderId,this.props.containerId).then((function(t){var e=new Blob([t],{type:"plain/text;charset=UTF-8"}),r=URL.createObjectURL(e);window.open(r)}));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=!!this.props.canUpload&&this.props.canUpload,e=!this.props.noContent,r=!!this.props.canDelete,n=this.props.downloadLabel?this.props.downloadLabel:"T\xe9l\xe9charger",a=this.props.uploadLabel?this.props.uploadLabel:"T\xe9l\xe9verser contenu";return t?l.a.createElement("div",{className:"btn-toolbar btn-toolbar-right"},e&&l.a.createElement(v.a,{onClick:this.downloadPrimaryContent,hidden:!this.props.canDownload},l.a.createElement("i",{className:"fa fa-download fa-sm"}),"\xa0",n),l.a.createElement(m,{hidden:!this.props.canUpdload,accept:this.props.accept,uploadLabel:a,onChangeFile:this.onChangeFile}),e&&r&&l.a.createElement(v.a,{onClick:this.deletePrimaryContent},l.a.createElement("i",{className:"fa fa-trash fa-md"}))):l.a.createElement("div",{className:"btn-toolbar btn-toolbar-right"},l.a.createElement(v.a,{onClick:this.downloadPrimaryContent,hidden:!this.props.canDownload},l.a.createElement("i",{className:"fa fa-download fa-sm"}),"\xa0",n))}}]),r}(u.Component);w.defaultProps={canDelete:!1,canUpdload:!0,canDownload:!0,canView:!0};e.a=w},138:function(t,e,r){"use strict";r.d(e,"a",(function(){return qr})),r.d(e,"v",(function(){return Vr})),r.d(e,"e",(function(){return Gr})),r.d(e,"x",(function(){return ve})),r.d(e,"q",(function(){return Dr})),r.d(e,"l",(function(){return Ce})),r.d(e,"f",(function(){return Ur})),r.d(e,"b",(function(){return ze})),r.d(e,"c",(function(){return We})),r.d(e,"d",(function(){return Je})),r.d(e,"r",(function(){return ur})),r.d(e,"t",(function(){return Sr})),r.d(e,"s",(function(){return Pr})),r.d(e,"B",(function(){return Tr})),r.d(e,"n",(function(){return Be})),r.d(e,"D",(function(){return xe})),r.d(e,"E",(function(){return Ne})),r.d(e,"y",(function(){return ye})),r.d(e,"k",(function(){return R})),r.d(e,"g",(function(){return M.a})),r.d(e,"F",(function(){return H})),r.d(e,"u",(function(){return z})),r.d(e,"j",(function(){return V.a})),r.d(e,"i",(function(){return Lt})),r.d(e,"h",(function(){return U})),r.d(e,"w",(function(){return Pt})),r.d(e,"p",(function(){return Tt})),r.d(e,"z",(function(){return Rt})),r.d(e,"A",(function(){return Xt})),r.d(e,"o",(function(){return Qt})),r.d(e,"G",(function(){return ae})),r.d(e,"C",(function(){return ge})),r.d(e,"m",(function(){return ke}));var n=r(171),a=r(13),o=r(14),i=r(16),c=r(15),s=r(1),u=r.n(s),l=(r(454),["columns"]),p=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(o.a)(r,[{key:"toHeader",value:function(t){return t.map((function(t){var e=t.headerClass?t.headerClass:"";return e=t.headerClassName?t.headerClassName:e,u.a.createElement("th",{scope:"col",className:e},t.name)}))}},{key:"render",value:function(){if("true"===this.props.hideTableHeader)return u.a.createElement(u.a.Fragment,null);var t=this.props,e=t.columns;Object(n.a)(t,l);return u.a.createElement(u.a.Fragment,null,u.a.createElement("thead",null,u.a.createElement("tr",null,this.toHeader(e))))}}]),r}(s.Component);p.defaultProps={columns:[]};var h=p,d=r(12),f=r(58),m=r.n(f),v=r(297),y=r.n(v),g=(r(471),["columns"]),b=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(o.a)(r,[{key:"toRow",value:function(t,e){var r=this,n=[];return t.map((function(t){var a=t.className?t.className:"dt-center",o=t.type;if(r.isDateCol(t)){var i=t.dateFormat,c=t.dataField,s=d.a.getPropByString(e,c);if(s&&""!==s){var l=m()(s,"YYYY-MM-DD hh:mm:ss S").locale("fr",y.a).format(i);n.push(r.dateRow(l,a))}else n.push(u.a.createElement("td",{className:a}))}else if(r.isDisplayableCol(t)){var p=t.dataField,h=d.a.getPropByString(e,p);t.dataField,n.push(t.displayComponent(h,e))}else if(t.enumProvider){var f=d.a.getPropByString(e,t.dataField);f=f?f.split(";"):[];var v=[];t.enumProvider().map((function(t){f.includes(t.key)&&v.push(t.value)})),n.push(u.a.createElement("td",{className:a},v))}else{var g=t.dataField,b=d.a.getPropByString(e,g);"yesno"===o?"true"===String(b)?n.push(u.a.createElement("td",{className:t.className?t.className:"dt-center"},u.a.createElement("input",{type:"checkbox",checked:!0,disabled:!0}))):n.push(u.a.createElement("td",{className:t.className?t.className:"dt-center"},u.a.createElement("input",{type:"checkbox",disabled:!0}))):n.push(r.stringRow(e,g,t))}})),n}},{key:"isDateCol",value:function(t){return void 0!==t.dateFormat}},{key:"isDisplayableCol",value:function(t){return void 0!==t.displayComponent}},{key:"dateRow",value:function(t,e){var r=e||"dt-center";return u.a.createElement("td",{className:r},t)}},{key:"stringRow",value:function(t,e,r){var n=r.suffix?r.suffix:"";return u.a.createElement("td",{className:r.className?r.className:"dt-center"},r.contentClassName&&u.a.createElement("span",{className:"col.contentClassName"},String(d.a.getPropByString(t,e)),n),!r.contentClassName&&u.a.createElement(u.a.Fragment,null,String(d.a.getPropByString(t,e)),n))}},{key:"render",value:function(){var t,e=this,r=this.props.item,a=this.props,o=a.columns,i=(Object(n.a)(a,g),this.toRow(o,r));return t=r.attributes?r.attributes.id.toString():r.id.toString(),this.props.tableConfig.onRowClick?u.a.createElement(u.a.Fragment,null,u.a.createElement("tr",{key:t,className:this.props.rowClassName,onClick:function(n){return e.props.tableConfig.onRowClick(n,t,r)}},i)):u.a.createElement(u.a.Fragment,null,u.a.createElement("tr",{key:t,className:this.props.rowClassName},i))}}]),r}(s.Component);b.defaultProps={columns:[]};var w=b,E=r(644),O=r(636),k=r(637),j=r(638),C=r(639),L=r(640),x=r(641),I=r(642),N=r(643),S=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(){var t;Object(a.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).loading=function(){return u.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},t}return Object(o.a)(r,[{key:"populatePagination",value:function(){var t,e=0,r=[];if(!0===this.props.paginate){var n=JSON.parse(this.props.metaData),a=!n.hasPreviousPage,o=!n.hasNextPage;r.push(u.a.createElement(O.a,{disabled:a},u.a.createElement(k.a,{previous:!0,tag:"button"},"Prev")));for(var i=e;i<n.totalPages;i++)r.push(u.a.createElement(O.a,{active:n.pageNumber===i},u.a.createElement(k.a,{tag:"button"},++e)));r.push(u.a.createElement(O.a,{disabled:o},u.a.createElement(k.a,{next:!0,tag:"button"},"Next"))),t=u.a.createElement(j.a,{className:"katappultsimple-table-footer"},u.a.createElement(C.a,null,u.a.createElement(L.a,{md:"6"}),u.a.createElement(L.a,{md:"6"},u.a.createElement("div",{className:"float-right"},u.a.createElement(x.a,{"aria-label":"Page navigation",size:this.props.tableConfig.paginationSize},r)))))}else t=u.a.createElement("div",null);return t}},{key:"render",value:function(){if(JSON.parse(this.props.metaData).totalElements>0){var t,e=this.props.rows,r=this.populatePagination();return!0===this.props.tableConfig.displayHeader&&(t=u.a.createElement(C.a,null,u.a.createElement(L.a,{xs:"12",lg:"12"},u.a.createElement("div",{className:"katappult-table-header"},u.a.createElement("h3",{className:"float-left, katappult-table-title"},this.props.tableConfig.title))))),u.a.createElement("div",null,t,u.a.createElement(C.a,null,u.a.createElement(L.a,{xs:"12",lg:"12",xl:"12"},u.a.createElement(I.a,null,e),r)))}return P(this.props.tableConfig.emptyMessageTitle,this.props.tableConfig.emptyMessageDescription,this.props.tableConfig.emptyMessageSubDescription,this.props.tableConfig.emptyActions)}}]),r}(s.Component),P=function(t,e,r,n){var a;return n&&(a=n()),u.a.createElement("div",{className:"flex-row align-items-center"},u.a.createElement(C.a,{className:"justify-content-center"},u.a.createElement(L.a,{xs:"12",sm:"12",md:"12",lg:"12",xl:"10"},u.a.createElement(N.a,{className:"card-accent-warning"},u.a.createElement(ke,{Pane:!0,mainMessage:t,secondaryMessage:e,actions:a})))))};S.defaultProps={tableConfig:[],items:"",metaData:"",tableClassName:"katappultsimple-table",paginate:!0};r(472),u.a.Component;var _=r(5),A=(s.Component,r(69));var F=function(t){var e=Object(s.useState)(t.metaData.totalPages),r=Object(A.a)(e,2),n=r[0],a=r[1],o=Object(s.useState)(t.metaData.hasPreviousPage),i=Object(A.a)(o,2),c=i[0],l=i[1],p=Object(s.useState)(t.metaData.hasNextPage),h=Object(A.a)(p,2),d=h[0],f=h[1],m=Object(s.useState)(t.metaData.pageNumber),v=Object(A.a)(m,2),y=v[0],g=v[1],b=Object(s.useState)(t.metaData.totalElements),w=Object(A.a)(b,2),E=(w[0],w[1]);Object(s.useEffect)((function(){a(t.metaData.totalPages),l(t.metaData.hasPreviousPage),f(t.metaData.hasNextPage),g(t.metaData.pageNumber),E(t.metaData.totalElements)}),[t.metaData]);var j,C=function(e){t.goToPage&&t.goToPage(e)},L=0,I=[],N=!0===t.displayTotalElements,S=t.tableConfig?t.tableConfig.paginationSize:S;if(!0===t.paginate){I.push(u.a.createElement(O.a,{disabled:!c},u.a.createElement(k.a,{previous:!0,tag:"button",onClick:function(t){return function(t){if(t.preventDefault(),!0===c){var e=y-1;C(e<0?0:e)}}(t)}},"Prev")));for(var P,_=function(t){var e=t,r=y===e,n=u.a.createElement(O.a,{active:r,key:t},u.a.createElement(k.a,{tag:"button",name:e,href:e,onClick:function(t){return function(t,e){t.preventDefault(),C(e)}(t,e)}},++L));I.push(n)},F=L;F<n;F++)_(F);I.push(u.a.createElement(O.a,{disabled:!d},u.a.createElement(k.a,{next:!0,tag:"button",onClick:function(t){return function(t){if(t.preventDefault(),!0===d){var e=y+1;C(e>n?0:e)}}(t)}},"Next"))),N&&(P=u.a.createElement("div",{className:"items-number"},u.a.createElement("p",null,"Page ",y+1," of ",n," - ",t.metaData.totalElements," Element(s)"))),j=u.a.createElement("div",{className:"table-footer"},n>1&&u.a.createElement(x.a,{"aria-label":"Page navigation",className:"pagination",size:S},I),u.a.createElement("div",{className:"table-total-elements"},P))}else j=u.a.createElement("div",null);return j},T=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;Object(a.a)(this,r),(n=e.call(this,t)).loading=function(){return u.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")};var o=1,i=null,c=0,s=!1,l=!1,p=0;return n.props.metaData&&(i=JSON.parse(n.props.metaData))&&(o=i.totalPages,c=i.pageNumber,s=i.hasPreviousPage,l=i.hasNextPage,p=i.totalElements),n.state={currentPage:c,maxPage:o,hasPrevious:s,hasNext:l,totalElements:p,metaData:i,items:null!==n.props.items?JSON.parse(n.props.items):[]},n}return Object(o.a)(r,[{key:"populateRows",value:function(){var t=this,e=[];return JSON.parse(this.props.items).map((function(r){e.push(u.a.createElement(w,Object.assign({},t.props,{item:r,tableConfig:t.props.tableConfig,columns:t.props.tableConfig.columnsConfig})))})),e}},{key:"componentWillUpdate",value:function(t,e){if(this.state.metaData&&t.metaData!==JSON.stringify(this.state.metaData)){var r=JSON.parse(t.metaData);this.setState({metaData:r,items:JSON.parse(t.items),currentPage:r.pageNumber,maxPage:r.totalPages,hasPrevious:r.hasPreviousPage,hasNext:r.hasNextPage,totalElements:r.totalElements})}}},{key:"render",value:function(){if(this.props.totalElements>0||this.props.items){var t=this.populateRows(),e=this.props.tableTitle?this.props.tableTitle:this.props.tableConfig.title?this.props.tableConfig.title:"",r=e?u.a.createElement("div",{className:"katappult-table-header"},u.a.createElement("h3",null,e)):"",n=this.props.metaData?JSON.parse(this.props.metaData):{};return u.a.createElement(u.a.Fragment,null,r,u.a.createElement(E.a,{hover:this.props.hover,responsive:!0,size:this.props.size,id:this.props.tableId,className:this.props.tableClassName,striped:this.props.striped,bordered:this.props.bordered},u.a.createElement(h,Object.assign({},this.props,{hideTableHeader:this.props.tableConfig.hideTableHeader,columns:this.props.tableConfig.columnsConfig})),u.a.createElement("tbody",null,t)),u.a.createElement(F,Object.assign({},this.props,{metaData:n})))}return D(this.props.tableConfig.emptyMessageTitle,this.props.tableConfig.emptyMessageDescription,this.props.tableConfig.emptyMessageSubDescription,this.props.tableConfig.emptyActions)}}]),r}(s.Component),D=function(t,e,r,n){var a;return n&&(a=n()),u.a.createElement("div",{className:"empty-table-pane"},u.a.createElement(ke,{Pane:!0,mainMessage:t,secondaryMessage:e,actions:a}))};T.defaultProps={tableConfig:[],items:"",metaData:"",paginate:!0};var R=T,M=r(97),U=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var t=this,e=[];return this.props.attributesGroup.items.map((function(r){var n=u.a.createElement(M.a,Object.assign({},t.props,{attributesListConfig:r}));e.push(n)})),u.a.createElement(u.a.Fragment,null,e)}}]),r}(s.Component),G=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(o.a)(r,[{key:"render",value:function(){var t=this.props.data,e=this.props.versioned?{attributes:[{name:"Version number",dataField:"versionInfo.versionId",type:"number"},{name:"Iteration number",dataField:"iterationInfo.iterationNumber",type:"number"},{name:"Latest",dataField:"iterationInfo.isLatestIteration",type:"bool"},{name:"Locked by",dataField:"workInfo.lockedBy",type:"text"},{name:"Locked since",dataField:"workInfo.lockedSince",type:"date",dateFormat:"DD/MM/YYYY HH:mm"},{name:"Working copy",dataField:"workInfo.isWorkingCopy",type:"bool"}]}:{attributes:[{name:"Iteration number",dataField:"iterationInfo.iterationNumber",type:"number"},{name:"Latest",dataField:"iterationInfo.isLatestIteration",type:"bool"},{name:"Locked by",dataField:"workInfo.lockedBy",type:"text"},{name:"Locked since",dataField:"workInfo.lockedSince",type:"date",dateFormat:"DD/MM/YYYY HH:mm"},{name:"Working copy",dataField:"workInfo.isWorkingCopy",type:"bool"}]},r=u.a.createElement(M.a,Object.assign({},this.props,{attributesListConfig:e,data:t,orientation:"horizontal",displayHeader:this.props.displayHeader,cardClassName:this.props.cardClassName}));return u.a.createElement(u.a.Fragment,null,r)}}]),r}(s.Component);G.defaultProps={displayActions:!0};var H=G,B={attributesSchema:{items:[{attributes:[{name:"Cr\xe9\xe9 par",dataField:"attributes.createdBy"},{name:"Cr\xe9\xe9 le",dataField:"attributes.createDate",dateFormat:"DD/MM/YYYY HH:mm:ss",type:"date"},{name:"Modifi\xe9 par",dataField:"attributes.lastModifiedBy"},{name:"Modifi\xe9 le",dataField:"attributes.lastModifiedDate",dateFormat:"DD/MM/YYYY HH:mm:ss",type:"date"}]}]},orientation:"horizontal"},Y=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var t=this,e=this.props.attributesSchema,r=this.props.data,n=[];return e.items.map((function(e){var a=u.a.createElement(M.a,Object.assign({},t.props,{attributesListConfig:e,data:r,cardClassName:t.props.cardClassName}));n.push(a)})),u.a.createElement("div",{className:"attribute-list"},n)}}]),r}(s.Component);Y.defaultProps=B;var z=Y,V=r(133),W=r(283),q=r(72),J=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={attachments:[]},n}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var t=this.props.contentHolderId;q.a.contentInfos(t,"attachements",this.props.containerId).then((function(t){}))}},{key:"render",value:function(){var t=u.a.createElement("label",{className:"katappult-form-title-level-1"},"Attachements");if(0===this.state.attachments.length)return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,t,u.a.createElement("strong",null,"Pas de contenu")))}}]),r}(s.Component);J.defaultProps={};var K=J,X=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"spacer-20"}),u.a.createElement(C.a,null,u.a.createElement(L.a,null,u.a.createElement("h3",null,u.a.createElement("label",{className:"form-title-level-0"},"Contenu")))),u.a.createElement("table",{width:"100%"},u.a.createElement("tr",{className:"noBorder"},u.a.createElement("td",null,u.a.createElement(W.a,{contentHolderId:this.props.contentHolderId,canUpload:this.props.canUpload}))),u.a.createElement("tr",{className:"noBorder"},u.a.createElement("td",null,u.a.createElement("div",{className:"spacer-10"},"\xa0"))),u.a.createElement("tr",{className:"noBorder"},u.a.createElement("td",null,u.a.createElement(K,{contentHolderId:this.props.contentHolderId,canUpload:this.props.canUpload})))),u.a.createElement("div",{className:"spacer-10"}))}}]),r}(s.Component);X.defaultProps={};var $=r(648),Q=r(649),Z=r(650),tt=r(220),et=r(647),rt=r(651),nt=r(646),at=r(652),ot=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(C.a,null,u.a.createElement(L.a,{md:"12"},u.a.createElement(N.a,null,u.a.createElement($.a,null,u.a.createElement(Q.a,{action:"",method:"post"},u.a.createElement(Z.a,{row:!0},u.a.createElement(L.a,{md:"3"},u.a.createElement(tt.a,{htmlFor:"email-input"},"Identifier")),u.a.createElement(L.a,{xs:"12",md:"12"},u.a.createElement(et.a,{type:"text",id:"view-id",name:"view-id",placeholder:"View identifier"}),u.a.createElement(rt.a,{className:"help-block"},"The unique identifier of the view. Avoid special characters."),u.a.createElement(rt.a,{className:"help-block"},"This identifier is used to query views associated to this type.")),u.a.createElement(L.a,{xs:"12",md:"12"},u.a.createElement(nt.a,{color:"danger",className:"float-right"},"Update")))))))),u.a.createElement(C.a,null,u.a.createElement(L.a,{md:"12"},u.a.createElement(I.a,null,u.a.createElement(at.a,{className:"justify-content-between"},"UI Schema definition",u.a.createElement(nt.a,{color:"danger",className:"float-right"},"View")),u.a.createElement(at.a,{className:"justify-content-between"},"Web UI",u.a.createElement(nt.a,{color:"primary",className:"float-right"},"View")),u.a.createElement(at.a,{className:"justify-content-between"},"Mobile UI",u.a.createElement(nt.a,{color:"primary",className:"float-right"},"View")),u.a.createElement(at.a,{className:"justify-content-between"},"Desktop UI",u.a.createElement(nt.a,{color:"primary",className:"float-right"},"View"))))))}}]),r}(s.Component);ot.defaultProps={item:{}};var it=r(9),ct=r(653),st=r(3);function ut(){ut=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var lt={getWebContacts:function(t,e,r){return gt.apply(this,arguments)},getTelecomContacts:function(t,e,r){return yt.apply(this,arguments)},getPostalContacts:function(t,e,r){return vt.apply(this,arguments)},updateWebContacts:function(t,e,r,n){return mt.apply(this,arguments)},updateTelecomContacts:function(t,e,r,n){return ft.apply(this,arguments)},updatePostalContacts:function(t,e,r,n){return dt.apply(this,arguments)},getAllContacts:function(t,e){return ht.apply(this,arguments)},getContactableContactMechanismByRole:function(t,e,r){return pt.apply(this,arguments)}};function pt(){return(pt=Object(it.a)(ut().mark((function t(e,r,n){var a,o;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/secured/v1/katappult/contactable/contacts/byRole?role="+r+"&containerId="+n+"&contactableId="+e,o="".concat(st.a)+a,t.abrupt("return",Object(st.c)(o));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ht(){return(ht=Object(it.a)(ut().mark((function t(e,r){var n,a;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/contactable/contacts?containerId="+r+"&contactableId="+e,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(){return(dt=Object(it.a)(ut().mark((function t(e,r,n,a){var o,i;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="/api/secured/v1/katappult/contactable/contacts/postal?containerId="+a+"&contactableId="+e+"&contactMechanismId="+r,i="".concat(st.a)+o,t.abrupt("return",Object(st.i)(i,n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ft(){return(ft=Object(it.a)(ut().mark((function t(e,r,n,a){var o,i;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="/api/secured/v1/katappult/contactable/contacts/telecom?containerId="+a+"&contactableId="+e+"&contactMechanismId="+r,i="".concat(st.a)+o,t.abrupt("return",Object(st.i)(i,n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function mt(){return(mt=Object(it.a)(ut().mark((function t(e,r,n,a){var o,i;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="/api/secured/v1/katappult/contactable/contacts/web?add=false&containerId="+a+"&contactableId="+e+"&contactMechanismId="+r,i="".concat(st.a)+o,t.abrupt("return",Object(st.i)(i,n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vt(){return(vt=Object(it.a)(ut().mark((function t(e,r,n){var a,o;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/secured/v1/katappult/contactable/contacts/?containerId="+n+"&contactableId="+e+"&contactMechanismId="+r,o="".concat(st.a)+a,t.abrupt("return",Object(st.c)(o));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(){return(yt=Object(it.a)(ut().mark((function t(e,r,n){var a,o;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/secured/v1/katappult/contactable/contacts?containerId="+n+"&contactableId="+e+"&contactMechanismId="+r,o="".concat(st.a)+a,t.abrupt("return",Object(st.c)(o));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gt(){return(gt=Object(it.a)(ut().mark((function t(e,r,n){var a,o;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/secured/v1/katappult/contactable/contacts?containerId="+n+"&contactableId="+e+"&contactMechanismId="+r,o="".concat(st.a)+a,t.abrupt("return",Object(st.c)(o));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var bt=r(23),wt=r(303);function Et(){Et=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Ot=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).postalAddressTitle=function(t,e){return d.a.getPropByString(t,"label")},n.state={contacts:{},contactMecId:"",allContacts:[]},n.updateWebContactsSuccess=n.updateWebContactsSuccess.bind(Object(_.a)(n)),n.reloadContacts=n.reloadContacts.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"updateWebContacts",value:function(t){var e=this,r='{"webAddresses":'.concat(JSON.stringify(t)).concat("}");lt.updateWebContacts(this.props.businessId,this.state.contactMecId,JSON.parse(r),this.props.containerId).then((function(t){e.updateWebContactsSuccess()})).catch((function(t){bt.b.error("Error occurs updating web contacts"),console.error(t)}))}},{key:"updateWebContactsSuccess",value:function(){}},{key:"updateTelecomContacts",value:function(t){var e=this,r='{"telecomAddresses":'.concat(JSON.stringify(t)).concat("}");lt.updateTelecomContacts(this.props.businessId,this.state.contactMecId,JSON.parse(r),this.props.containerId).then((function(t){e.updateTelecomContactsSuccess()})).catch((function(t){bt.b.error("Error occurs updating web contacts"),console.error(t)}))}},{key:"updateTelecomContactsSuccess",value:function(){}},{key:"updatePostalContact",value:function(t){var e=this;return lt.updatePostalContacts(this.props.businessId,this.state.contactMecId,t,this.props.containerId).then((function(t){return e.updatePostalContactSuccess(),!0})).catch((function(t){return bt.b.error("Error occurs updating web contacts"),console.error(t),!1}))}},{key:"updatePostalContactSuccess",value:function(){this.reloadContacts()}},{key:"componentDidMount",value:function(){var t=Object(it.a)(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.reloadContacts();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"reloadContacts",value:function(){var t=Object(it.a)(Et().mark((function t(){var e=this;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:lt.getAllContacts(this.props.businessId,this.props.containerId).then((function(t){if(d.a.isRequestSuccess(t)&&t.data.length>0){var r=t.data[0].attributes.lastModifiedDate,n=t.data.length>1?t.data[1].attributes.lastModifiedDate:null,a=t.data[0];if(n){var o=m()(r,"YYYY-MM-DDD hh:mm:ss").toDate();m()(n,"YYYY-MM-DDD hh:mm:ss").toDate()>=o&&(a=t.data[1])}e.setState({metaData:t.metaData,contactMecIndex:0,contacts:a,contactMecId:a.attributes.id,allContacts:t.data})}else e.setState({metaData:void 0,contacts:void 0,contactMecId:void 0})}));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fullContactView",value:function(){var t=this,e={formId:"webAttributesList_form",onSubmit:function(e){return t.updateWebContacts(e)},borderLess:!0,attributes:[{title:"Email et r\xe9seaux sociaux",type:"editableLabelObjectarray",dataField:"webAddress",items:{attributes:[{name:"Titre",dataField:"title",type:"text"},{name:"Valeur",dataField:"webAddress",type:"text"}]}}]},r={formId:"phonesAttributesList_form",onSubmit:function(e){return t.updateTelecomContacts(e)},borderLess:!0,attributes:[{title:"Coordonn\xe9es T\xe9l\xe9phoniques",type:"editableLabelObjectarray",dataField:"telecomAddress",items:{attributes:[{name:"Titre",type:"text",dataField:"title"},{name:"Code pays",type:"text",dataField:"countryCode"},{name:"Num\xe9ro",type:"tel",dataField:"telecomNumber"}]}}]},n={arrayTitleProvider:function(e){return t.postalAddressTitle(e,t)},onSubmit:function(e){return t.updatePostalContact(e)},attributes:[{name:"Rue",dataField:"address1",type:"text"},{name:"(Rue 1)",dataField:"address2",type:"text"},{name:"(Rue 2)",dataField:"address3",type:"text"},{name:"Code postale",dataField:"postalCode",type:"text"},{name:"Ville",dataField:"city",type:"text"},{name:"Pays",dataField:"country",type:"text"}]};if(this.state.contacts&&this.state.contacts.attributes){var a;this.props.additionalAttributesDisplay&&(a=this.props.additionalAttributesDisplay(this.state.contacts.links,this.state.contacts.attributes.id));var o={attributes:this.state.contacts.attributes.postalAddress};return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,a,u.a.createElement(M.a,Object.assign({},this.props,{attributesListConfig:n,data:o,displayHeader:"true",canEdit:this.props.canEdit,standardFooterActions:"true",newObjectFormData:Ct})),!0!==this.props.hideMobileContacts&&u.a.createElement(M.a,Object.assign({},this.props,{attributesListConfig:e,data:this.state.contacts.attributes,canEdit:this.props.canEdit,firstRowLabel:"false",newObjectFormData:kt})),!0!==this.props.hideMobileContacts&&u.a.createElement(M.a,Object.assign({},this.props,{attributesListConfig:r,data:this.state.contacts.attributes,firstRowLabel:"true",canEdit:this.props.canEdit,newObjectFormData:jt}))))}return this.props.emptyContacts?u.a.createElement("div",null,this.props.emptyContacts()):u.a.createElement(u.a.Fragment,null)}},{key:"summaryContactView",value:function(){if(this.state.contacts&&this.state.contacts.attributes){var t,e=this.state.contacts.attributes.postalAddress;return this.props.additionalAttributesDisplay&&(t=this.props.additionalAttributesDisplay(this.state.contacts.links,this.state.contacts.attributes.id)),u.a.createElement("div",null,t,u.a.createElement("p",null,u.a.createElement("span",null,e.address1," ")," ",u.a.createElement("span",null,e.address2," ")),u.a.createElement("p",null,u.a.createElement("span",null,e.postalCode,", ")," ",u.a.createElement("span",null,e.city,". ")),u.a.createElement("p",null,u.a.createElement("span",null,e.country)))}return this.props.emptyContacts?u.a.createElement("div",null,this.props.emptyContacts()):u.a.createElement(u.a.Fragment,null)}},{key:"selectNextContactMecView",value:function(){var t=Object(it.a)(Et().mark((function t(e){var r,n;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.preventDefault(),(r=this.state.contactMecIndex+1)>=this.state.allContacts.length&&(r=0),n=this.state.allContacts[r],this.setState({contactMecIndex:r,contacts:n,contactMecId:n.attributes.id});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;if("summary"===this.props.viewMode)return this.summaryContactView();var e=u.a.createElement(u.a.Fragment,null,"\xa0\xa0\xa0");return this.state.allContacts.length>0&&(e=u.a.createElement(wt.a,{pill:!0,variant:"warning"},this.state.allContacts.length)),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,this.state.allContacts.length>1&&this.props.canSwitch&&u.a.createElement(ct.a,{className:"justify-content-start mb-4"},u.a.createElement(nt.a,{onClick:function(e){return t.selectNextContactMecView(e)}},e,"\xa0SUIVANT \xa0",u.a.createElement("i",{className:"fa fa-angle-right fa-lg"})))),u.a.createElement("div",null,this.fullContactView()))}}]),r}(s.Component),kt={label:"",value:""},jt={label:"",number:"",country:""},Ct={id:"",label:"New postal address",street:"",code:"",county:""};Ot.defaultProps={businessId:""};var Lt=Ot,xt=r(25),It=r(29),Nt=r(81),St=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={modal:!1,accountId:t.accountId,form:{notify:!0,password:""}},n.toggle=n.toggle.bind(Object(_.a)(n)),n.doResetPassword=n.doResetPassword.bind(Object(_.a)(n)),n.dialogContent=n.dialogContent.bind(Object(_.a)(n)),n.handleChange=n.handleChange.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"toggle",value:function(){this.setState((function(t){return{modal:!t.modal}}))}},{key:"doResetPassword",value:function(){var t=this;this.toggle(),It.a.resetPassword(this.state.accountId,this.props.containerId).then((function(e){t.resetSuccess()})).catch((function(e){t.toggle(),bt.b.error("Error when reseting user password!"),console.error(e)}))}},{key:"handleChange",value:function(t){var e=Object(xt.a)({},this.state.form);"password"===t.target.name&&(e.password=t.target.value),"notify"===t.target.name&&(e.notify=t.target.checked),this.setState({form:e})}},{key:"dialogContent",value:function(){return u.a.createElement(u.a.Fragment,null)}},{key:"dialogContent2",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Nt.a,null,u.a.createElement(Nt.a.Group,{controlId:"formBasicEmail"},u.a.createElement(Nt.a.Control,{name:"password",type:"text",value:this.state.password,onChange:this.handleChange,placeholder:"Nouveau mot de passe"})),u.a.createElement(Nt.a.Group,{controlId:"formBasicCheckbox"},u.a.createElement(Nt.a.Check,{name:"notify",type:"checkbox",checked:"true",value:this.state.notify,onChange:this.handleChange,label:"Notifier utilisateur"}))))}},{key:"resetSuccess",value:function(){try{this.toggle(),bt.b.success("Password reset success"),this.props.afterUpdate&&this.props.afterUpdate(!0)}catch(t){console.error(t)}}},{key:"render",value:function(){var t=this;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Vr,{show:this.state.modal}),u.a.createElement(Ne,{buttonTitle:"R\xe9initialiser mot de passe".toUpperCase(),onConfirm:function(){return t.doResetPassword()},dialogContent:function(){return t.dialogContent()},dialogMessage:"R\xe9initialiser mot de passe?",dialogTitle:"R\xe9initialiser mot de passe".toUpperCase()}),u.a.createElement("div",{className:"mr-3"}))}}]),r}(u.a.Component);St.defaultProps={};var Pt=St,_t=r(44),At=r(66),Ft=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={modal:!1,accountId:t.accountId},n.toggle=n.toggle.bind(Object(_.a)(n)),n.doLockUser=n.doLockUser.bind(Object(_.a)(n)),n.lockSuccess=n.lockSuccess.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"toggle",value:function(){this.setState((function(t){return{modal:!t.modal}}))}},{key:"doLockUser",value:function(){var t=this;It.a.lock(this.state.accountId,this.props.containerId).then((function(e){t.lockSuccess()})).catch((function(e){t.toggle(),bt.b.error("Error occurs when locking user!"),console.error(e)}))}},{key:"lockSuccess",value:function(){try{this.toggle(),bt.b.success("Lock success");this.props.onAccountLocked({locked:!0}),this.props.afterUpdate&&this.props.afterUpdate(!0)}catch(t){console.error(t)}}},{key:"render",value:function(){var t=this;return u.a.createElement(Ne,{buttonColor:"secondary",buttonTitle:"Bloquer utilisateur".toUpperCase(),onConfirm:function(){return t.doLockUser()},dialogMessage:"Les utilisateurs block\xe9s ne peuvent pas se connecter au syst\xe8me.",dialogTitle:"Bloquer utilisateur".toUpperCase()})}}]),r}(u.a.Component);Ft.defaultProps={};var Tt=Object(_t.b)((function(t){return{}}),(function(t){return{onAccountLocked:function(e){return t(At.e(e))}}}))(Ft),Dt=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={modal:!1,accountId:t.accountId},n.toggle=n.toggle.bind(Object(_.a)(n)),n.doUnlockUser=n.doUnlockUser.bind(Object(_.a)(n)),n.unlockSuccess=n.unlockSuccess.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"toggle",value:function(){this.setState((function(t){return{modal:!t.modal}}))}},{key:"doUnlockUser",value:function(){var t=this;It.a.unlock(this.state.accountId,"",this.props.containerId).then((function(e){t.unlockSuccess()})).catch((function(e){t.toggle(),bt.b.error("Error occurs when locking user!"),console.error(e)}))}},{key:"unlockSuccess",value:function(){try{this.toggle(),bt.b.success("Unlock success");this.props.onAccountUnLocked({locked:!1}),this.props.afterUpdate&&this.props.afterUpdate(!0)}catch(t){console.error(t)}}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement(Ne,{buttonSize:"sm",buttonColor:"secondary",buttonTitle:"D\xe9bloquer utilisateur".toUpperCase(),onConfirm:function(){return t.doUnlockUser()},dialogMessage:"D\xe9bloquer utilisateur?",dialogTitle:"D\xe9bloquer utilisateur".toUpperCase()}))}}]),r}(u.a.Component);Dt.defaultProps={};var Rt=Object(_t.b)((function(t){return{}}),(function(t){return{onAccountUnLocked:function(e){return t(At.f(e))}}}))(Dt),Mt=r(654),Ut=r(655),Gt=r(304),Ht=r(660),Bt=r(656),Yt=r(657),zt=r(658),Vt=r(78),Wt=r(110),qt=r(55);function Jt(){Jt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Kt=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={modal:!1,accountId:t.accountId,formData:{oldPassword:"",newPassword:"",newPasswordValidation:""},processing:!1,formError:"",canUpdate:!1},n.toggle=n.toggle.bind(Object(_.a)(n)),n.doUpdatePassword=n.doUpdatePassword.bind(Object(_.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(_.a)(n)),n.updateSuccess=n.updateSuccess.bind(Object(_.a)(n)),n.backHome=n.backHome.bind(Object(_.a)(n)),n.userPostLogin=n.userPostLogin.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"backHome",value:function(){window.location.href=qt.a.clientSideRenderedURL("/")}},{key:"handleFormChange",value:function(t){var e=JSON.parse(JSON.stringify(this.state.formData));e[t.target.name]=t.target.value;var r,n=""===e.newPassword||""===e.newPasswordValidation||""===e.newPassword,a=JSON.stringify(e.newPasswordValidation)===JSON.stringify(e.newPassword),o="";n?(o="Passwords can not be empty!",r=!1):a?e.newPasswordValidation.length<6?(o="Too short",r=!1):(o="",r=!0):(o="Passwords are not same!",r=!1),this.setState({formData:e,formError:o,canUpdate:r})}},{key:"toggle",value:function(){this.setState((function(t){return{modal:!t.modal}}))}},{key:"doResetPassword",value:function(t){var e=this,r=this.props.match.params.lockToken;r&&(this.setState({processing:!0}),It.a.updateLostPasswordByUser(r,this.state.formData,this.props.containerId).then((function(t){return t&&200===t.status?t.json():null})).then((function(t){if(t&&t.data)if("ok"===t.data.attributes.updated){var r=t.data.attributes.userEmail;e.updateSuccess2(r)}else e.updateError();else e.updateError()})).catch((function(t){bt.b.error("Error when updating password!"),console.error(t)})))}},{key:"updateSuccess2",value:function(){var t=Object(it.a)(Jt().mark((function t(e){var r,n,a;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,(r={}).login=e,r.password=this.state.formData.newPassword,t.next=8,Vt.a.login(r).then((function(t){return t}));case 8:if(n=t.sent){t.next=12;break}return this.updateError(),t.abrupt("return");case 12:return t.next=14,n.text();case 14:(a=t.sent)?(d.a.setSessionId(a),this.userPostLogin(a)):this.updateError(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),alert(t.t0);case 21:case"end":return t.stop()}}),t,this,[[2,18]])})));return function(e){return t.apply(this,arguments)}}()},{key:"userPostLogin",value:function(t){var e=this;t&&Vt.a.postLogin(t).then((function(t){return t})).then((function(t){d.a.katappult_core_loginSuccess(t);var r=JSON.parse(t.data.links.account);if(r.active)e.props.history.push("/home");else{r.nickName;window.location.href=qt.a.clientSideRenderedURL("/activateAccount")}}))}},{key:"doUpdatePassword",value:function(t){var e=this;It.a.updatePassword(this.state.accountId,this.state.formData,this.props.containerId).then((function(t){200===t.status?e.updateSuccess():e.updateError()})).catch((function(t){e.toggle(),bt.b.error("Error when updating password!"),console.error(t)}))}},{key:"updateSuccess",value:function(){try{this.toggle(),bt.b.success("Password update success.")}catch(t){console.error(t)}}},{key:"updateError",value:function(){this.setState({formError:"Incorrect or invalid passwords",processing:!1})}},{key:"reinitLostPass",value:function(){var t=this;return u.a.createElement(Q.a,null,u.a.createElement(C.a,null,u.a.createElement(L.a,{md:"12",lg:"12",xl:"12"},u.a.createElement(tt.a,{className:"form-error"},this.state.formError))),u.a.createElement(Mt.a,{className:"mb-3"},u.a.createElement(Ut.a,{addonType:"prepend"}),u.a.createElement(et.a,{type:"password",name:"newPassword",placeholder:"New password",autoComplete:"new-password",onChange:function(e){return t.handleFormChange(e)}})),u.a.createElement(Mt.a,{className:"mb-4"},u.a.createElement(Ut.a,{addonType:"prepend"}),u.a.createElement(et.a,{type:"password",name:"newPasswordValidation",placeholder:"Repeat password",autoComplete:"new-password",onChange:function(e){return t.handleFormChange(e)}})),u.a.createElement("div",{className:"btn-toolbar"},!this.state.processing&&u.a.createElement("button",{disabled:!this.state.canUpdate,block:!0,color:"secondary",onClick:function(e){return t.doResetPassword(e)}},"Changer mot de passe"),this.state.processing&&u.a.createElement(Wt.a,{animation:"border",variant:"primary"})))}},{key:"formContent",value:function(){var t=this;return u.a.createElement(Q.a,null,u.a.createElement(Mt.a,{className:"mb-3"},u.a.createElement(Ut.a,{addonType:"prepend"},u.a.createElement(Gt.a,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(et.a,{type:"password",name:"oldPassword",placeholder:"Old password",autoComplete:"new-password",onChange:function(e){return t.handleFormChange(e)}})),u.a.createElement(Mt.a,{className:"mb-3"},u.a.createElement(Ut.a,{addonType:"prepend"},u.a.createElement(Gt.a,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(et.a,{type:"password",name:"newPassword",placeholder:"New password",autoComplete:"new-password",onChange:function(e){return t.handleFormChange(e)}})),u.a.createElement(Mt.a,{className:"mb-4"},u.a.createElement(Ut.a,{addonType:"prepend"},u.a.createElement(Gt.a,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(et.a,{type:"password",name:"newPasswordValidation",placeholder:"Repeat password",autoComplete:"new-password",onChange:function(e){return t.handleFormChange(e)}})))}},{key:"modalUpdatePassWord",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement("button",{className:"ml-1 mr-1",onClick:this.toggle,size:"sm"},"CHANGER MOT DE PASSE"),u.a.createElement(Ht.a,{isOpen:this.state.modal,toggle:this.toggle,centered:!0},u.a.createElement(Bt.a,{toggle:this.toggle},"Changer mot de passe"),u.a.createElement("div",{className:"border-bottom"}),u.a.createElement(Yt.a,null,u.a.createElement(tt.a,{className:"form-error"},this.state.formError),u.a.createElement("div",{className:""},this.formContent())),u.a.createElement(zt.a,null,u.a.createElement("button",{color:"primary",onClick:function(e){return t.doUpdatePassword(e)}},"Mettre \xe0 jour")," ",u.a.createElement("button",{color:"secondary",onClick:this.toggle},"Annuler"))))}},{key:"render",value:function(){return!0===this.props.reinitLostPass?u.a.createElement("div",{className:"reinit-password-page"},this.reinitLostPass()):this.modalUpdatePassWord()}}]),r}(u.a.Component);Kt.defaultProps={};var Xt=Object(_t.b)((function(t){return{}}),(function(t){return{onUserAccountUpdatePass:function(e){return t(At.g(e))}}}))(Kt),$t=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return 0===this.props.value?u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.a,null,"M")):u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.a,null,"F"))}}]),r}(u.a.Component);$t.defaultProps={value:0};var Qt=$t,Zt=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={modal:!1,accountId:t.accountId,formData:{newPassword:"",newPasswordValidation:""},formError:""},n.doActivateAccount=n.doActivateAccount.bind(Object(_.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(_.a)(n)),n.updateSuccess=n.updateSuccess.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"handleFormChange",value:function(t){var e=JSON.parse(JSON.stringify(this.state.formData));e[t.target.name]=t.target.value;var r=""===this.state.formData.newPassword||""===this.state.formData.newPasswordValidation,n=this.state.formData.newPasswordValidation===this.state.formData.newPassword,a="";a=r?"Le mot de passe est obligatoire!":n?"--":"Les mots de passe ne sont pas identiques!",this.setState({formData:e,formError:a})}},{key:"doActivatePassword",value:function(t){var e=this;t.preventDefault(),It.a.activatePassword(this.state.accountId,this.state.formData,this.props.containerId).then((function(t){e.updateSuccess()})).catch((function(t){e.toggle(),console.error(t)}))}},{key:"updateSuccess",value:function(){try{this.toggle(),bt.b.info("Le mot de passe a \xe9t\xe9 mis \xe0 jour.")}catch(t){console.error(t)}}},{key:"render",value:function(){var t=this;return u.a.createElement("div",null,u.a.createElement(nt.a,{className:"activate-pass-modal",onClick:this.toggle},"Modifier mot de passe"),u.a.createElement(Ht.a,{isOpen:this.state.modal,toggle:this.toggle},u.a.createElement(Bt.a,{toggle:this.toggle},"Modifier mot de passe"),u.a.createElement(Yt.a,null,u.a.createElement(tt.a,{className:"form-error"},this.state.formError),u.a.createElement(Q.a,null,u.a.createElement("h1",null,"Veuiller fournir un mot de passe pour activer votre compte"),u.a.createElement(Mt.a,null,u.a.createElement(Ut.a,{addonType:"prepend"},u.a.createElement(Gt.a,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(et.a,{type:"password",name:"newPassword",placeholder:"New password",autoComplete:"new-password",onChange:function(e){return t.handleFormChange(e)}})),u.a.createElement(Mt.a,null,u.a.createElement(Ut.a,{addonType:"prepend"},u.a.createElement(Gt.a,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(et.a,{type:"password",name:"newPasswordValidation",placeholder:"Repeat password",autoComplete:"new-password",onChange:function(e){return t.handleFormChange(e)}})))),u.a.createElement(zt.a,null,u.a.createElement(nt.a,{onClick:function(e){return t.doActivatePassword(e)}},"Modifier")," ",u.a.createElement(nt.a,{onClick:this.toggle},"Annuler"))))}}]),r}(u.a.Component);Zt.defaultProps={};Object(_t.b)((function(t){return{}}),(function(t){return{}}))(Zt);var te=r(96),ee=r(28);function re(){re=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ne=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={},n.checkin=n.checkin.bind(Object(_.a)(n)),n.checkout=n.checkout.bind(Object(_.a)(n)),n.undoCheckout=n.undoCheckout.bind(Object(_.a)(n)),n.toWorkingCopy=n.toWorkingCopy.bind(Object(_.a)(n)),n.toOriginalCopy=n.toOriginalCopy.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"componentDidUpdate",value:function(t){t.workableId!==this.props.workableId&&this.setState({wc:this.props.workInfo.isWorkingCopy,locked:""!==this.props.workInfo.lockedBy&&!this.props.workInfo.isWorkingCopy,workableId:this.props.workableId})}},{key:"toOriginalCopy",value:function(){var t=Object(it.a)(re().mark((function t(e){var r,n=this;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.preventDefault(),this.props.setLoading&&this.props.setLoading(),r=!!this.props.idOnly&&this.props.idOnly,te.a.originalCopy(this.props.workableId,r,this.props.containerId).then((function(t){d.a.isRequestError(t)?bt.b.error(d.a.toastError(t)):n.props.loadDatas(t.data.attributes.id,!1)}));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"toWorkingCopy",value:function(){var t=Object(it.a)(re().mark((function t(e,r){var n,a=this;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.preventDefault(),this.props.setLoading&&this.props.setLoading(),n=!!this.props.idOnly&&this.props.idOnly,te.a.workingCopy(r||this.props.workableId,n,this.props.containerId).then((function(t){d.a.isRequestError(t)?bt.b.error(d.a.toastError(t)):a.props.loadDatas(t.data.attributes.id,!1)}));case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"checkin",value:function(){var t=Object(it.a)(re().mark((function t(e){var r=this;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.preventDefault(),this.props.setLoading&&this.props.setLoading(),te.a.checkin(this.props.workableId,"",this.props.containerId).then((function(t){d.a.isRequestError(t)?bt.b.error(d.a.toastError(t)):(r.props.loadDatas(r.props.workableId,!1),r.props.refreshListView&&r.props.refreshListView("viewDetails"))}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"checkout",value:function(){var t=Object(it.a)(re().mark((function t(e){var r,n=this;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.preventDefault(),this.props.setLoading&&this.props.setLoading(),r=!!this.props.idOnly&&this.props.idOnly,te.a.checkout(this.props.workableId,r,"",this.props.containerId).then((function(t){if(d.a.isRequestError(t))bt.b.error(d.a.toastError(t));else{var e=t.data.attributes.id;n.props.loadDatas(e,!1)}}));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"undoCheckout",value:function(){var t=Object(it.a)(re().mark((function t(e){var r,n=this;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&e.preventDefault(),this.props.setLoading&&this.props.setLoading(),r=!!this.props.idOnly&&this.props.idOnly,te.a.originalCopy(this.props.workableId,r,this.props.containerId).then((function(t){if(d.a.isRequestError(t))bt.b.error(d.a.toastError(t));else{var e=t.data.attributes.id;te.a.undoCheckout(n.props.workableId,"",n.props.containerId).then((function(t){d.a.isRequestError(t)?bt.b.error(d.a.toastError(t)):(n.props.loadDatas&&n.props.loadDatas(e),n.props.refreshListView&&n.props.refreshListView())}))}}));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"workingCopyActions",value:function(){var t=this,e=this.props.VALIDATE_LABEL?this.props.VALIDATE_LABEL:"Valider",r=this.props.DELETE_WC_LABEL?this.props.DELETE_WC_LABEL:"Supprimer",n=this.props.validateIcon?this.props.validateIcon:"fa fa-check fa-md",a=this.props.deleteIcon?this.props.deleteIcon:"fa fa-md fa-trash";return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ne,{buttonIcon:n,buttonTitle:e,onConfirm:function(){return t.checkin()},dialogMessage:"Validater toutes les modifications?",dialogTitle:e}),u.a.createElement(Ne,{buttonIcon:a,buttonTitle:r,onConfirm:function(){return t.undoCheckout()},dialogMessage:"Annuler toutes les modifications?",dialogTitle:r}))}},{key:"workabaleActions",value:function(){var t=this,e=!0===this.props.workInfo.isWorkingCopy,r=null!==this.props.workInfo.lockedSince&&void 0!==this.props.workInfo.lockedSince&&""!==this.props.workInfo.lockedSince,n=r&&!e,a=r&&e,o=!1;!0!==this.props.iterationInfo.isLatestIteration||r||(o=!0),this.props.versionInfo&&!this.props.versionInfo.isLatestVersion&&(o=!1);var i=[],c=this.props.CLONE_LABEL?this.props.CLONE_LABEL:"CLONE",s=this.props.cloneIcon?this.props.cloneIcon:"fa fa-md fa-clone";o&&i.push(u.a.createElement(Ne,{buttonIcon:s,buttonTitle:c,onConfirm:function(){return t.checkout()},dialogMessage:"Cr\xe9er une copie de travail?",dialogTitle:c})),e&&i.push(this.workingCopyActions());var l=this.props.WC_LABEL?this.props.WC_LABEL:"WORKING COPY",p=this.props.WC_LABEL?this.props.OC_LABEL:"ORIGINAL COPY";return u.a.createElement(u.a.Fragment,null,i,u.a.createElement(ee.a,{hidden:!n,onClick:this.toWorkingCopy},u.a.createElement("i",{className:"fa fa-forward fa-md"}),"\xa0",l),u.a.createElement(ee.a,{hidden:!a,onClick:this.toOriginalCopy},u.a.createElement("i",{className:"fa fa-forward fa-md"}),"\xa0",p))}},{key:"render",value:function(){return u.a.createElement("div",null,this.workabaleActions())}}]),r}(s.Component);ne.defaultProps={canCheckin:!1,canCheckout:!1,canUndoCheckout:!1,toWcCallBack:null};var ae=ne;function oe(){oe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ie={allIterationsOf:function(t,e){return ce.apply(this,arguments)},allIterationsOfversion:function(t,e,r){return se.apply(this,arguments)},allVersionsOf:function(t,e){return ue.apply(this,arguments)},exactIterationAndVersion:function(t,e,r,n){return le.apply(this,arguments)},exactIterationAndVersionIdOnly:function(t,e,r,n){return he.apply(this,arguments)},latestIterationOf:function(t,e){return pe.apply(this,arguments)},latestIterationOfIdOnly:function(t,e){return de.apply(this,arguments)},revise:function(t,e){var r="/api/secured/v1/katappult/rc/revise?containerId="+e+"&revControlledId="+t,n="".concat(st.a)+r;return Object(st.f)(n)}};function ce(){return(ce=Object(it.a)(oe().mark((function t(e,r){var n,a;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/rc/iterations?containerId="+r+"&revControlledId="+e,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function se(){return(se=Object(it.a)(oe().mark((function t(e,r,n){var a,o;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/secured/v1/katappult/rc/iterationsOfVersion?containerId="+n+"&revControlledId="+e+"&versionNumber="+r,o="".concat(st.a)+a,t.abrupt("return",Object(st.c)(o));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ue(){return(ue=Object(it.a)(oe().mark((function t(e,r){var n,a;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/rc/versions?containerId="+r+"&revControlledId="+e,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function le(){return(le=Object(it.a)(oe().mark((function t(e,r,n,a){var o,i;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="/api/secured/v1/katappult/rc/exactVersion/exactIteration?containerId="+a+"&revControlledId="+e+"&versionNumber="+r+"&iterationNumber="+n+"&idOnly=false",i="".concat(st.a)+o,t.abrupt("return",Object(st.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pe(){return(pe=Object(it.a)(oe().mark((function t(e,r){var n,a;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/rc/latest?containerId="+r+"&revControlledId="+e+"&idOnly=false",a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function he(){return(he=Object(it.a)(oe().mark((function t(e,r,n,a){var o,i;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="/api/secured/v1/katappult/rc/exactVersion/exactIteration?containerId="+a+"&revControlledId="+e+"&versionNumber="+r+"&iterationNumber="+n+"&idOnly=true",i="".concat(st.a)+o,t.abrupt("return",Object(st.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function de(){return(de=Object(it.a)(oe().mark((function t(e,r){var n,a;return oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/rc/latest?containerId="+r+"&revControlledId="+e+"&idOnly=true",a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function fe(){fe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var me=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).revise=n.revise.bind(Object(_.a)(n)),n.getNextIteration=n.getNextIteration.bind(Object(_.a)(n)),n.getPreviousIteration=n.getPreviousIteration.bind(Object(_.a)(n)),n.getLatestIteration=n.getLatestIteration.bind(Object(_.a)(n)),n.onAllIterationsSelected=n.onAllIterationsSelected.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"onAllIterationsSelected",value:function(){var t=Object(it.a)(fe().mark((function t(){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.onAllIterationsSelected&&this.props.onAllIterationsSelected();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"revise",value:function(){var t=Object(it.a)(fe().mark((function t(){var e,r=this;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.revControlledId,ie.revise(e,this.props.containerId).then((function(t){d.a.isRequestError(t)?bt.b.error(d.a.toastError(t)):(r.props.loadDatas&&r.props.loadDatas(t.data.attributes.id),r.props.refreshListView&&r.props.refreshListView())}));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getNextIteration",value:function(){var t=Object(it.a)(fe().mark((function t(){var e,r,n,a,o=this;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.iterationInfo.iterationNumber,r=e+1,n=this.props.versionInfo?this.props.versionInfo.versionId:"not_versioned",a=this.props.revControlledId,ie.exactIterationAndVersionIdOnly(a,n,r,this.props.containerId).then((function(t){d.a.isRequestError(t)||o.props.loadDatas(t.data.attributes.id)}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getPreviousIteration",value:function(){var t=Object(it.a)(fe().mark((function t(){var e,r,n,a,o=this;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.iterationInfo.iterationNumber,r=e-1,n=this.props.versionInfo?this.props.versionInfo.versionId:"not_versioned",r>=1&&(a=this.props.revControlledId)&&ie.exactIterationAndVersionIdOnly(a,n,r,this.props.containerId).then((function(t){d.a.isRequestError(t)||o.props.loadDatas(t.data.attributes.id)}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getLatestIteration",value:function(){var t=Object(it.a)(fe().mark((function t(){var e,r=this;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.revControlledId,ie.latestIterationOfIdOnly(e,this.props.containerId).then((function(t){d.a.isRequestError(t)||r.props.loadDatas(t.data.attributes.id)}));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"rcActions",value:function(){var t=this,e=!0===this.props.iterationInfo.isLatestIteration,r=1===this.props.iterationInfo.iterationNumber,n=this.props.iterationInfo.isLatestIteration&&this.props.versionInfo&&this.props.versionInfo.isLatestVersion&&this.props.canRevise,a=e;return this.props.versionInfo&&(a=e&&this.props.versionInfo.isLatestVersion),u.a.createElement("div",null,this.props.onAllIterationsSelected&&u.a.createElement(ee.a,{onClick:this.onAllIterationsSelected},u.a.createElement("i",{className:"fa fa-list fa-sm"})),u.a.createElement(ee.a,{disabled:r,onClick:this.getPreviousIteration},u.a.createElement("i",{className:"fa fa-backward fa-sm"})),u.a.createElement(ee.a,{disabled:a,onClick:this.getLatestIteration},u.a.createElement("i",{className:"fa fa-sm"}),"\xa0DERNI\xc8RE VERSION"),u.a.createElement(ee.a,{disabled:e,onClick:this.getNextIteration},u.a.createElement("i",{className:"fa fa-forward fa-sm"})),this.props.versionInfo&&n&&u.a.createElement(Ne,{buttonTitle:"Nouvelle version",onConfirm:function(){return t.revise()},dialogMessage:"Cr\xe9er une nouvelle version?",dialogTitle:"Nouvelle version"}))}},{key:"render",value:function(){return u.a.createElement("div",null,this.rcActions())}}]),r}(s.Component);me.defaultProps={};var ve=me,ye=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={},n}return Object(o.a)(r,[{key:"render",value:function(){var t,e=window.location.host,r=(window.location.pathname,this.props.productId?this.props.productId.split("/").join("_"):"no-img"),n=this.props.imageName?this.props.imageName:"main.jpg";return t=e.includes("localhost")?"http://localhost:8080/":"".concat("http://"+e+"/"),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{id:"cardimg-wrapper",className:this.props.className?this.props.className:"card-image",style:{backgroundImage:"url(".concat(t+"/"+r+"/"+n,")")}}))}}]),r}(s.Component),ge=(u.a.Component,function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(o.a)(r,[{key:"render",value:function(){this.props.waitingMessage&&this.props.waitingMessage;!1===this.props.bordered||null===this.props.bordered||this.props.bordered;return u.a.createElement("div",{className:"waiting-pane"},u.a.createElement("div",{className:"app-loading"},u.a.createElement("div",{className:"lds-facebook"},u.a.createElement("div",null),u.a.createElement("div",null),u.a.createElement("div",null))))}}]),r}(s.Component)),be=r(154),we=r(170),Ee=r(213),Oe={fadeIn:{animation:"x 500ms",animationName:we.a.keyframes(be.fadeIn,"fadeIn")}},ke=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){return Object(a.a)(this,r),e.call(this,t)}return Object(o.a)(r,[{key:"render",value:function(){this.props.mainMessage&&this.props.mainMessage;this.props.className&&this.props.className;var t="Pas d'\xe9l\xe9ments";this.props.secondaryMessage&&(t=this.props.secondaryMessage);var e=this.props.className?this.props.className+" empty-pane":"empty-pane";return u.a.createElement("div",{className:e},u.a.createElement(Ee.a,{style:Oe.fadeIn},u.a.createElement("p",{className:"empty-pane-secondary-message"},t)))}}]),r}(s.Component),je=r(659),Ce=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(){return Object(a.a)(this,r),e.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var t="";return t||(t="1.0-SNAPSHOT"),u.a.createElement(u.a.Fragment,null,u.a.createElement(je.a,{fixed:"bottom",className:"app-footer default-footer"}))}}]),r}(s.Component),Le=r(86),xe=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={modalShow:!1},n.hideWizard=n.hideWizard.bind(Object(_.a)(n)),n.setModalShow=n.setModalShow.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"setModalShow",value:function(t){!1===t&&this.hideWizard(),this.setState({modalShow:t})}},{key:"hideWizard",value:function(){this.props.onWizardHide&&this.props.onWizardHide()}},{key:"modal",value:function(){}},{key:"render",value:function(){var t=this,e=this.props.buttonIconComp?this.props.buttonIconComp:u.a.createElement("i",{className:this.props.buttonIcon},"\xa0");return u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{disabled:this.props.disabled,block:this.props.buttonBlock,hidden:this.props.hideButtonIf,className:this.props.buttonClassName,onClick:function(){return t.setModalShow(!0)}},e,this.props.buttonTitle),u.a.createElement(Ie,Object.assign({},this.props,{show:this.state.modalShow,onHide:function(){return t.setModalShow(!1)}})))}}]),r}(u.a.Component);function Ie(t){var e="<p>Pas de contenu</p>",r=t.dialogSize?t.dialogSize:"lg",n=!0===t.hideFooter;t.hideHeader;return t.dialogContentProvider&&(e=t.dialogContentProvider(t.onHide,t.additionalParams)),u.a.createElement(Le.a,Object.assign({},t,{centered:!0,size:r,dialogClassName:t.dialogClassName,"aria-labelledby":"contained-modal-title-vcenter",scrollable:"true"}),u.a.createElement(Le.a.Header,{className:"wizard-header",closeButton:!0},u.a.createElement("h3",null,t.dialogTitle)),u.a.createElement(Le.a.Body,null,e),!n&&u.a.createElement(Le.a.Footer,{className:"btn-toolbar-right"},u.a.createElement("button",{block:!0,onClick:t.onHide},"Fermer")))}var Ne=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={modalShow:!1},n.setModalShow=n.setModalShow.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"setModalShow",value:function(t){this.setState({modalShow:t})}},{key:"onConfirm",value:function(){var t=this;if(this.props.onConfirm&&this.props.onConfirm(),this.props.onConfirmAndClose){this.props.onConfirmAndClose((function(){return t.setModalShow(!1)}))}else this.setModalShow(!1)}},{key:"render",value:function(){var t=this;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ee.a,{className:this.props.buttonClassName?this.props.buttonClassName:"",disabled:this.props.disabled,onClick:function(){return t.setModalShow(!0)}},this.props.buttonIconComp?this.props.buttonIconComp:u.a.createElement("i",{className:this.props.buttonIcon}),this.props.buttonTitle?u.a.createElement(u.a.Fragment,null,"\xa0",this.props.buttonTitle):""),u.a.createElement(Se,Object.assign({},this.props,{show:this.state.modalShow,onConfirm:function(){return t.onConfirm()},onHide:function(){return t.setModalShow(!1)}})))}}]),r}(u.a.Component);function Se(t){var e=t.buttonTitle&&t.buttonTitle.length>0?t.buttonTitle:"OUI",r=t.modalSize?t.modalSize:"md";return u.a.createElement(Le.a,Object.assign({},t,{size:r,centered:!0,"aria-labelledby":"contained-modal-title-vtop"}),u.a.createElement(Le.a.Header,null,u.a.createElement("h3",null,"\xa0\xa0\xa0")),u.a.createElement(Le.a.Body,null,u.a.createElement("div",{className:t.bodyClassName?t.bodyClassName:"display-6"},t.dialogMessage,t.dialogContent?t.dialogContent():"")),u.a.createElement(Le.a.Footer,null,u.a.createElement("div",{className:"btn-toolbar"},u.a.createElement(ee.a,{onClick:t.onConfirm},e),u.a.createElement(ee.a,{variant:"secondary",size:"md",onClick:t.onHide},"ANNULER"))))}function Pe(){Pe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var _e={names:function(t){return Fe.apply(this,arguments)},listvalues:function(t){return Ae.apply(this,arguments)},noLocale:function(t,e){return Te.apply(this,arguments)},details:function(t,e){return De.apply(this,arguments)}};function Ae(){return(Ae=Object(it.a)(Pe().mark((function t(e){var r,n,a;return Pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(st.j)(e),n="/api/secured/v1/katappult/listvalues?containerId=:containerId&".concat(r),a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Fe(){return(Fe=Object(it.a)(Pe().mark((function t(e){var r,n;return Pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/listvalues/names?containerId="+e,n="".concat(st.a)+r,t.abrupt("return",Object(st.c)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Te(){return(Te=Object(it.a)(Pe().mark((function t(e,r){var n,a,o;return Pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(st.j)(e),a="/api/secured/v1/katappult/listvalues/noLocale?containerId="+r+"&".concat(n),o="".concat(st.a)+a,t.abrupt("return",Object(st.c)(o));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function De(){return(De=Object(it.a)(Pe().mark((function t(e,r){var n,a;return Pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/listvalues/details?containerId="+r+"&id="+e,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Re=r(50),Me=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={names:[],selectedItem:n.props.selectedItem?n.props.selectedItem:null,en:n.props.selectedItem.fr?n.props.selectedItem.en:[],fr:n.props.selectedItem.en?n.props.selectedItem.fr:[]},n.selectItem=n.selectItem.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var t=this;_e.names(this.props.containerId).then((function(e){e&&e.data&&t.setState({names:e.data})}))}},{key:"selectItem",value:function(t,e){var r=this;t.preventDefault();var n=t.target||t.srcElement;n.activate=!0;var a=new FormData;a.name=e,n!==this.state.selectedItem&&_e.noLocale(a,this.props.containerId).then((function(t){var e=[],a=[];t.data.map((function(t){"en"===t.attributes.locale?e.push(t):a.push(t)}));var o=[];o.push(e),o.push(a),r.props.updateEnumerationsSelection(o),r.setState({selectedItem:n,en:e,fr:a})}))}},{key:"render",value:function(){var t=this,e=[];this.state.names.map((function(r){e.push(u.a.createElement(at.a,{tag:"a",href:"#",onClick:function(e){return t.selectItem(e,r)},action:!0},r,u.a.createElement("i",{className:"fa fa-angle-right icons font-lg float-right"})))})),0===this.state.names.length&&e.push(u.a.createElement(ke,null));var r,n,a,o=!1;return this.state.en&&this.state.en.length>0&&(o=!0,r=u.a.createElement("div",{className:"no-radius"},u.a.createElement("div",{className:""},u.a.createElement("h3",{className:""},"English")),u.a.createElement(R,{items:JSON.stringify(this.state.en),totalElements:"2",paginate:!1,tableConfig:Ue}))),this.state.fr&&this.state.fr.length>0&&(o=!0,n=u.a.createElement("div",null,u.a.createElement("div",{className:""},u.a.createElement("h3",{className:""},"Fran\xe7ais")),u.a.createElement(R,{items:JSON.stringify(this.state.fr),totalElements:"2",paginate:!1,tableConfig:Ue}))),o||(a=u.a.createElement(ke,{mainMessage:"No item selected",secondaryMessage:"Please select an item"})),u.a.createElement("div",{className:"enumerations"},u.a.createElement("div",{className:"admin-middle-pane types-list"},u.a.createElement("div",{className:"bordered-panel left"},u.a.createElement(I.a,null,e)),u.a.createElement("div",{className:"type-details right"},u.a.createElement("div",null,a),u.a.createElement("div",null,n),u.a.createElement("div",null,r))))}}]),r}(s.Component),Ue={columnsConfig:[{name:"Affich\xe9",displayComponent:function(t,e){return He(t,e)}},{name:"Valeur",dataField:"attributes.savedValue"},{name:"Nom",dataField:"attributes.name"},{name:"Locale",dataField:"attributes.locale"},{displayComponent:function(t,e){return Ge(e)}}]},Ge=function(t,e){var r="/admin/p/enumerations/".concat(t.attributes.id);return u.a.createElement("td",null,u.a.createElement(Re.b,{to:r},u.a.createElement("i",{className:"fa fa-angle-right fa-lg"})))},He=function(t,e){var r="/admin/p/enumerations/".concat(e.attributes.id);return u.a.createElement("td",null,u.a.createElement(Re.b,{to:r},e.attributes.value))},Be=Object(_t.b)((function(t){return{selectedItem:t.enumerations}}),(function(t){return{updateEnumerationsSelection:function(e){return t(At.b(e))}}}))(Me);function Ye(){Ye=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ze=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={formData:{container:n.getRegisteringContainer(),withAccount:!0,simpleUserForm:!0,name:""},loading:!1,errors:[]},n.registerAttributesList=n.registerAttributesList.bind(Object(_.a)(n)),n.registerUser=n.registerUser.bind(Object(_.a)(n)),n.handleResponse=n.handleResponse.bind(Object(_.a)(n)),n.onFormChange=n.onFormChange.bind(Object(_.a)(n)),n.formValidity=n.formValidity.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"onFormChange",value:function(t){this.setState({formData:t})}},{key:"getRegisteringContainer",value:function(){return this.props.registeringContainer?this.props.registeringContainer:this.props.containerId}},{key:"_handleRegister",value:function(t){t.container=this.getRegisteringContainer(),t.orgType="com.katappult.people.Party/Organisation",t.withAccount="true",this.props.handleRegister?this.props.handleRegister(t):this.registerUser(t)}},{key:"registerUser",value:function(t){var e=this;this.setState({loading:!0,formData:t}),this.setPropsProcessing(!0),this.props.fromConnectedUser?It.a.registerOrgWithAccount(t).then((function(r){e.handleResponse(r,t),Object(bt.b)(d.a.toastSuccess("Le compte utilisateur a \xe9t\xe9 cr\xe9\xe9"))})).catch((function(t){console.error(t),e.setState({loading:!1}),e.setPropsProcessing(!1)})):It.a.registerOrgWithAccountAnon(t).then((function(r){e.handleResponse(r,t)})).catch((function(t){e.setState({loading:!1}),e.setPropsProcessing(!1)}))}},{key:"setPropsProcessing",value:function(t){this.props.onProcessing&&this.props.onProcessing(!0)}},{key:"handleResponse",value:function(){var t=Object(it.a)(Ye().mark((function t(e,r){var n,a,o;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setPropsProcessing(!1),!d.a.isRequestError(e)){t.next=6;break}this.props.onError(e.message),this.setState({loading:!1,formData:r,errors:[e.message]}),t.next=22;break;case 6:if(this.props.fromConnectedUser){t.next=20;break}return(n={}).login=r.accountEmail,n.password=r.accountPassword,t.next=12,Vt.a.login(n).then((function(t){return t}));case 12:return a=t.sent,t.next=15,a.text();case 15:o=t.sent,d.a.setSessionId(o),o&&this.handleLoginSuccess(o),t.next=22;break;case 20:this.setPropsProcessing(!1),this.props.onCreatePeopleSuccess&&this.props.onCreatePeopleSuccess();case 22:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"handleLoginSuccess",value:function(){var t=Object(it.a)(Ye().mark((function t(e){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Vt.a.postLogin(e).then((function(t){d.a.katappult_core_loginSuccess(t);var e=JSON.parse(t.data.links.account).active;window.location.href=e?qt.a.clientSideRenderedURL("/"):qt.a.clientSideRenderedURL("/activateAccount")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"formValidity",value:function(t){var e=t.name,r=t.accountEmail,n=t.accountPassword,a={};return e&&""!==e||(a.name="Champs invalide"),r&&""!==r||(a.accountEmail="Champs invalide"),n&&""!==n||(a.accountPassword="Champs invalide"),d.a.validateEmail(r)||(a.accountEmail="Champs invalide"),a}},{key:"registerAttributesList",value:function(){var t=this;return{saveButtonTitle:this.props.createButtonTitle?this.props.createButtonTitle:"Cr\xe9er un compte",saveButtonClassName:this.props.createButtonClassName,formValidity:function(e){return t.formValidity(e)},onSubmit:function(e){return t._handleRegister(e)},attributes:[{name:"Name",dataField:"name",required:!0,placeHolder:"Organization name"},{name:"Email",dataField:"accountEmail",type:"email",required:!0,placeHolder:"Email"},{name:"Password",dataField:"accountPassword",type:"password",required:!0,placeHolder:"Password"}]}}},{key:"render",value:function(){var t=Object(xt.a)({},this.state.formData);return this.props.initialData&&(t={attributes:{name:this.props.initialData.name,accountEmail:this.props.initialData.accountEmail}}),u.a.createElement("div",{className:"add-people"},!0!==this.state.loading&&u.a.createElement(M.a,{attributesListConfig:this.registerAttributesList(),additionalWizardLeftActions:this.props.additionalWizardLeftActions,data:t,standardFooterActions:"true",formMode:"create_object"}))}}]),r}(s.Component),Ve=r(47),We=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;Object(a.a)(this,r);var o=(n=e.call(this,t)).props.initialData,i="b2c"===n.props.peopleMode||"b2bAndB2c"===n.props.peopleMode?"0":"2";o&&(o.orgType&&(i="2"));return n.state={gender:"0",step:0,errors:[],processing:!1,success:!1,peopleSimpleType:i},n.handleSelectTypeChange=n.handleSelectTypeChange.bind(Object(_.a)(n)),n.processing=n.processing.bind(Object(_.a)(n)),n.onError=n.onError.bind(Object(_.a)(n)),n.onSuccess=n.onSuccess.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"processing",value:function(t){this.setState({processing:t})}},{key:"handleSelectTypeChange",value:function(t){this.setState({peopleSimpleType:t.target.value})}},{key:"next",value:function(){this.setState({step:1})}},{key:"getStepContent",value:function(){return"0"===this.state.peopleSimpleType||"1"===this.state.peopleSimpleType?u.a.createElement(Je,Object.assign({},this.props,{onProcessing:this.processing,onError:this.onError,onCreatePeopleSuccess:this.onSuccess,gender:this.state.gender,displayHeader:!1})):u.a.createElement(ze,Object.assign({},this.props,{onError:this.onError,onCreatePeopleSuccess:this.onSuccess,onProcessing:this.processing,gender:this.state.gender,displayHeader:!1}))}},{key:"onError",value:function(t){var e=[];e.push(t),this.setState({errors:e,processing:!1})}},{key:"onSuccess",value:function(){this.setState({success:!0}),this.props.onCreatePeopleSuccess()}},{key:"peopleCreationOption",value:function(){var t=[];return"b2c"===this.props.peopleMode?(t.push(u.a.createElement("option",{value:"0"},"Mr")),t.push(u.a.createElement("option",{value:"1"},"Mme"))):("b2b"===this.props.peopleMode||(t.push(u.a.createElement("option",{value:"0"},"Mr")),t.push(u.a.createElement("option",{value:"1"},"Mme"))),t.push(u.a.createElement("option",{value:"2"},"Soci\xe9t\xe9"))),t}},{key:"render",value:function(){var t=this;if(!0===this.state.loading)return u.a.createElement(ge,null);var e=[];if(this.state.errors.length>0&&this.state.errors.map((function(t){e.push(u.a.createElement("p",null,t))})),this.state.success)return u.a.createElement("div",{style:{"margin-left":"40%","margin-top":"2rem","margin-bottom":"2rem"}},u.a.createElement(Ve.d,{color:"green",size:"4rem"}));var r=u.a.createElement(Nt.a.Group,{controlId:"createPeopleType",className:"register-people-select"},u.a.createElement(Nt.a.Label,null,"Titre"),u.a.createElement(Nt.a.Control,{as:"select",value:this.state.peopleSimpleType,onChange:this.handleSelectTypeChange,name:"peopleSimpleType"},this.peopleCreationOption()));return u.a.createElement("div",null,u.a.createElement("center",{id:"form-errors-section",className:"form-error"},e),this.state.processing&&u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,u.a.createElement(ge,null))),!this.state.processing&&r,u.a.createElement(u.a.Fragment,null,this.getStepContent(),!this.props.hideAgreements&&u.a.createElement("div",{className:"footer-links"},u.a.createElement("button",{onClick:function(t){return window.location.href=""}},"Page d'accueil"),u.a.createElement("span",null,"\xa0\xa0"),u.a.createElement("button",{onClick:function(e){return t.props.history.replace("/login")}},"Connexion"))))}}]),r}(s.Component);function qe(){qe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Je=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={formData:{container:n.getRegisteringContainer(),gender:n.props.gender,lastName:"",firstName:"",simpleUserForm:!0,accountEmail:"",accountPassword:""},loading:!1,errors:[]},n.registerAttributesList=n.registerAttributesList.bind(Object(_.a)(n)),n.registerUser=n.registerUser.bind(Object(_.a)(n)),n.handleResponse=n.handleResponse.bind(Object(_.a)(n)),n.setPropsProcessing=n.setPropsProcessing.bind(Object(_.a)(n)),n.onFormChange=n.onFormChange.bind(Object(_.a)(n)),n.findFormErrors=n.findFormErrors.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"onFormChange",value:function(t){this.setState({formData:t})}},{key:"getRegisteringContainer",value:function(){return this.props.containerId}},{key:"_handleRegister",value:function(t){t.container=this.getRegisteringContainer(),t.gender=this.props.gender,t.peopleType="com.katappult.people.Party/Person",t.withAccount=!0,this.props.handleRegister?this.props.handleRegister(t):this.registerUser(t)}},{key:"registerUser",value:function(t){var e=this;this.setState({loading:!0,formData:t}),this.setPropsProcessing(!0),this.props.fromConnectedUser?It.a.registerPersonWithAccount(t).then((function(r){e.handleResponse(r,t),Object(bt.b)(d.a.toastSuccess("Le compte utilisateur a \xe9t\xe9 cr\xe9\xe9"))})).catch((function(t){e.setState({loading:!1,errors:["Erreur interne"]}),e.setPropsProcessing(!1)})):It.a.registerPersonWithAccountAnon(t).then((function(r){e.handleResponse(r,t)})).catch((function(t){e.setState({loading:!1}),e.setPropsProcessing(!1)}))}},{key:"setPropsProcessing",value:function(t){this.props.onProcessing&&this.props.onProcessing(t)}},{key:"handleResponse",value:function(){var t=Object(it.a)(qe().mark((function t(e,r){var n,a,o;return qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if([],!d.a.isRequestError(e)){t.next=6;break}this.props.onError(e.message),this.setState({loading:!1,formData:r,errors:[e.message]}),t.next=22;break;case 6:if(this.props.fromConnectedUser){t.next=20;break}return(n={}).login=r.accountEmail,n.password=r.accountPassword,t.next=12,Vt.a.login(n).then((function(t){return t}));case 12:return a=t.sent,t.next=15,a.text();case 15:o=t.sent,d.a.setSessionId(o),o&&this.handleLoginSuccess(o),t.next=22;break;case 20:this.setPropsProcessing(!1),this.props.onCreatePeopleSuccess&&this.props.onCreatePeopleSuccess();case 22:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"handleLoginSuccess",value:function(t){Vt.a.postLogin(t).then((function(t){d.a.katappult_core_loginSuccess(t);var e=JSON.parse(t.data.links.account).active;window.location.href=e?qt.a.clientSideRenderedURL("/"):qt.a.clientSideRenderedURL("/activateAccount")}))}},{key:"registerAttributesList",value:function(){var t=this;return{saveButtonTitle:this.props.createButtonTitle?this.props.createButtonTitle:"Cr\xe9er un compte",saveButtonClassName:this.props.createButtonClassName,formValidity:function(e){return t.findFormErrors(e)},onSubmit:function(e){return t._handleRegister(e)},attributes:[{name:"Lastname",dataField:"lastName",required:!0,placeHolder:"Last name"},{name:"Firstname",dataField:"firstName",required:!0,placeHolder:"First name"},{name:"Email",dataField:"accountEmail",type:"email",required:!0,placeHolder:"Email"},{name:"Password",dataField:"accountPassword",type:"password",required:!0,placeHolder:"Password"}]}}},{key:"findFormErrors",value:function(t){var e=t.lastName,r=t.firstName,n=t.accountEmail,a=t.accountPassword,o={};return e&&""!==e||(o.lastName="Champs invalide"),r&&""!==r||(o.firstName="Champs invalide"),n&&""!==n||(o.accountEmail="Champs invalide"),a&&""!==a||(o.accountPassword="Champs invalide"),d.a.validateEmail(n)||(o.accountEmail="Champs invalide"),o}},{key:"render",value:function(){var t=Object(xt.a)({},this.state.formData);return this.props.initialData&&(t={attributes:{lastName:this.props.initialData.lastName,firstName:this.props.initialData.firstName,accountEmail:this.props.initialData.accountEmail}}),u.a.createElement(u.a.Fragment,null,!0!==this.state.loading&&u.a.createElement(M.a,{attributesListConfig:this.registerAttributesList(),additionalWizardLeftActions:this.props.additionalWizardLeftActions,data:t,standardFooterActions:"true",formMode:"create_object"}))}}]),r}(s.Component),Ke=r(128);function Xe(){Xe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var $e={searchUserByNameLikeInWholeApplication:function(t,e){return tr.apply(this,arguments)},searchUserByLoginLikeInWholeApplication:function(t,e){return er.apply(this,arguments)},searchContainerMemberByNameLike:function(t,e){return rr.apply(this,arguments)},searchContainerMemberByLoginLike:function(t,e){return nr.apply(this,arguments)},searchContainerMemberByLoginLike2:function(t,e){return ar.apply(this,arguments)},searchProductByNameLike:function(t,e,r){return Qe.apply(this,arguments)},searchProductByReferenceLike:function(t,e){return Ze.apply(this,arguments)}};function Qe(){return(Qe=Object(it.a)(Xe().mark((function t(e,r,n){var a,o,i;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n?(o=Object(st.j)(n),a="/v1/anon/api/products/search/byNameLike?".concat(o+"&containerId="+r)):a="/v1/anon/api/products/search/byNameLike?name="+e+"&containerId="+r,i="".concat(st.a)+a,t.abrupt("return",Object(st.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ze(){return(Ze=Object(it.a)(Xe().mark((function t(e,r){var n,a;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/v1/secured/api/product/byReferenceLike?reference="+e+"&containerId="+r,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tr(){return(tr=Object(it.a)(Xe().mark((function t(e,r){var n,a;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/v1/secured/api/account/byNameLike?name="+e+"&containerId="+r,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function er(){return(er=Object(it.a)(Xe().mark((function t(e,r){var n,a;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/principals/accountByLogin?email="+e+"&containerId="+r,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rr(){return(rr=Object(it.a)(Xe().mark((function t(e,r){var n,a;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/principals/account/memberByLoginLikeInContainer/?name="+e+"&containerId="+r,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nr(){return(nr=Object(it.a)(Xe().mark((function t(e,r){var n,a;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/principals/account/memberByLoginLikeInContainer?login="+e+"&containerId="+r,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ar(){return(ar=Object(it.a)(Xe().mark((function t(e,r){var n,a,o;return Xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(st.j)(e),a="/api/secured/v1/katappult/principals/account/memberByLoginLike?".concat(n+"&containerId="+r),o="".concat(st.a)+a,t.abrupt("return",Object(st.c)(o));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var or=r(224),ir=r(49),cr=r.n(ir),sr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={totalMembers:0,members:[],loadingMembers:!1,statesFilter:[],reachableStates:[],queryFilters:{page:0,pageSize:20,includeParentItems:!1,login:"",state:""},viewMode:"viewList"},n.manageMembers=n.manageMembers.bind(Object(_.a)(n)),n.unsubscribe=n.unsubscribe.bind(Object(_.a)(n)),n.blockUser=n.blockUser.bind(Object(_.a)(n)),n.goToPage=n.goToPage.bind(Object(_.a)(n)),n.setLinkState=n.setLinkState.bind(Object(_.a)(n)),n.switchToView=n.switchToView.bind(Object(_.a)(n)),n.onPeopleDetailsChange=n.onPeopleDetailsChange.bind(Object(_.a)(n)),n.moreActions=n.moreActions.bind(Object(_.a)(n)),n.getRootObjectForDetailsId=n.getRootObjectForDetailsId.bind(Object(_.a)(n)),n.onCreatePeopleSuccess=n.onCreatePeopleSuccess.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"switchToView",value:function(t,e){t&&t.preventDefault(),this.setState({viewMode:e})}},{key:"unsubscribe",value:function(t){var e=[];this.state.members.map((function(r){r.attributes.id!==t&&e.push(r)})),this.setState({members:e})}},{key:"blockUser",value:function(t){Object(Ke.a)(this.state.members);var e=[];this.state.members.map((function(r){r.attributes.id!==t&&e.push(r)})),this.setState({members:e})}},{key:"newPeople",value:function(t){var e=this;return u.a.createElement(We,Object.assign({},this.props,{peopleMode:"b2bAndB2c",hideAgreements:!0,fromConnectedUser:!0,onCreatePeopleSuccess:function(r){return e.onCreatePeopleSuccess(t,r)}}))}},{key:"onCreatePeopleSuccess",value:function(t,e){this.refreshView(),t&&t(),this.setState({selectedAccountId:e,showSuccessAlert:!0})}},{key:"componentDidUpdate",value:function(t,e){e.viewMode!==this.props.viewMode&&this.setState({viewMode:this.props.viewMode})}},{key:"getRootObjectForDetailsId",value:function(t){return cr.a.parse(this.props.location.search).rootId}},{key:"refreshView",value:function(){var t=Object(xt.a)({},this.state.queryFilters);t.login="",this.loadDatas(t)}},{key:"manageMembers",value:function(t){t.preventDefault()}},{key:"componentDidMount",value:function(){var t=Object(xt.a)({},this.state.queryFilters);t.state="REQUEST_IN_PROGRESS",this.setState({queryFilters:t,loadingMembers:!0}),this.loadDatas(t)}},{key:"onPeopleDetailsChange",value:function(t,e){var r=Object(xt.a)({},this.state.queryFilters);!0===e&&this.setState({selectedAccountId:null}),this.loadDatas(r)}},{key:"showDetailsView",value:function(){var t=this;return u.a.createElement("div",{className:"katappult-container"},u.a.createElement(Sr,Object.assign({},this.props,{pushBreadCrumb:this.props.pushBreadCrumb,updatePeopleCallBack:function(e,r){return t.onPeopleDetailsChange(e,r)},accountId:this.state.selectedAccountId})))}},{key:"loadDatas",value:function(t){var e=this;this.setState({loadingMembers:!0,results:[]}),$e.searchContainerMemberByLoginLike2(t,this.props.containerId).then((function(t){d.a.isRequestError(t)?e.setState({results:[],metaData:null,loadingMembers:!1,reachableStates:[]}):e.setState({results:t.data,metaData:t.metaData,loadingMembers:!1})}))}},{key:"goToPage",value:function(t){var e=Object(xt.a)({},this.state.queryFilters);e.page=t,this.setState({queryFilters:e}),this.loadDatas(e)}},{key:"nameOf",value:function(t,e){var r=e.attributes.ownerSummary;return"person"===e.businessType.type?this.LinkToPeople(e.attributes,r,"person"):this.LinkToPeople(e.attributes,r,"org")}},{key:"moreActions",value:function(t,e){var r=this;return u.a.createElement("td",{className:"td-left"},u.a.createElement("div",{className:"btn-toolbar"},u.a.createElement(ee.a,{onClick:function(e){return r.selectPerson(e,t.id)}},u.a.createElement("i",{className:"fa fa-lg fa-eye"}))))}},{key:"lifecycleActions",value:function(t,e){var r,n,a=this,o=[];e.attributes.id;return r=this.props.containerId,n=e.attributes.id,this.state.reachableStates.length>0&&this.state.reachableStates.map((function(t){""!==t&&o.push(u.a.createElement("div",{className:"float-right"},u.a.createElement(ee.a,{size:"sm",variant:"outline-primary",onClick:function(e){return a.setLinkState(r,n,t)}},t)))})),u.a.createElement("td",{className:"td-left"},o)}},{key:"setLinkState",value:function(t,e,r){var n=this;this.setState({loadingMembers:!0}),void 0!==t&&void 0!==e&&or.a.setLinkState(t,e,r,"com.katappult.core.api.composite.ContainerMembershipLink",this.props.containerId).then((function(t){var e=Object(xt.a)({},n.state.queryFilters);n.loadDatas(e)}))}},{key:"LinkToPeople",value:function(t,e,r){var n,a=this;return n=u.a.createElement(Re.b,{className:"table-link",onClick:function(e){return a.selectPerson(e,t.id)}},e),u.a.createElement("td",{className:"td-left",width:"30%"},u.a.createElement(Re.a,null,n))}},{key:"selectPerson",value:function(t,e){t&&t.preventDefault();var r=qt.a.backOfficeViewURL("platform","members",["rootId="+e]);this.props.history.push(r)}},{key:"membersDatatable",value:function(){var t=this,e={columnsConfig:[{name:"R\xe9sum\xe9",dataField:"attributes",displayComponent:function(e,r){return t.nameOf(e,r)},headerClass:"td-left"},{name:"Email",dataField:"attributes.login",headerClass:"td-left",className:"td-left"},{name:"Mot de passe expire le",dataField:"attributes.passwordExpirationDate",dateFormat:"DD/MM/YYYY HH:mm",headerClass:"td-left",className:"td-left"},{name:"Modification",dataField:"attributes.lastModifiedDate",dateFormat:"DD/MM/YYYY",headerClass:"td-left",className:"td-left"}]};return u.a.createElement(R,{tableClassName:"data-table",items:JSON.stringify(this.state.results),metaData:JSON.stringify(this.state.metaData),tableConfig:e,displayTotalElements:!0,goToPage:this.goToPage,paginate:!0})}},{key:"searchTermUpdated",value:function(t){var e=Object(xt.a)({},this.state.queryFilters);e.login=t.target.value,this.loadDatas(e),this.setState({queryFilters:e,loadingMembers:!0,viewMode:"viewList"})}},{key:"searchHeader",value:function(){var t=this;return u.a.createElement("div",{className:"admin-filters"},u.a.createElement(et.a,{type:"text",className:"admin-hover-input",name:"search-email-2",placeholder:"Email ou login",autoComplete:"none",onChange:function(e){return t.searchTermUpdated(e)}}))}},{key:"updateStates",value:function(t){var e=Object(xt.a)({},this.state.queryFilters);e.state=t.target.value,this.setState({queryFilters:e,loadingMembers:!0}),this.loadDatas(e)}},{key:"getStateFilterDisplay",value:function(){var t=this,e=[];return this.state.statesFilter.map((function(r){var n="defaultCheck__"+r,a=r.split(";")[0],o=r.split(";")[0],i=t.state.queryFilters.state===o;e.push(u.a.createElement("div",{className:""},u.a.createElement("input",{class:"form-check-input",checked:i,type:"radio",value:o,id:n,onChange:function(e){return t.updateStates(e)}}),u.a.createElement("label",{class:"form-check-label",for:n},a)))})),u.a.createElement("div",{className:"mx-4"},e)}},{key:"render",value:function(){var t=this;if(!this.getRootObjectForDetailsId()){var e,r=null!==this.state.metaData&&void 0!==this.state.metaData?this.state.metaData.totalElements:0;e=this.state.loadingMembers?u.a.createElement(u.a.Fragment,null," "):r>0?this.membersDatatable():u.a.createElement(ke,{hideMainMessage:!0,secondaryMessage:"Pas de membres"});var n=u.a.createElement(Ve.q,{size:"1.2em"}),a=u.a.createElement(u.a.Fragment,null,u.a.createElement(xe,{buttonColor:"secondary",buttonIconComp:n,dialogTitle:"Nouveau membre",buttonTitle:"Nouveau membre",hideFooter:!0,dialogSize:"md",dialogContentProvider:function(e){return t.newPeople(e)}}),u.a.createElement(ee.a,{className:"",size:"sm",variant:"link",onClick:function(e){return t.refreshView()}},u.a.createElement(Ve.l,{size:"1.2em"}),"\xa0Recharger"));return u.a.createElement("div",{className:"portlet-box"},u.a.createElement("div",{className:"admin-filters-root"},this.searchHeader(),u.a.createElement("div",{className:"btn-toolbar footer-btn-toolbar btn-toolbar-right"},a)),u.a.createElement("div",{className:"portlet-content"},e))}return this.showDetailsView()}}]),r}(s.Component),ur=Object(_t.b)((function(t){return{searchTerm:t.searchMembers.searchTerm,searchBusinessClass:t.searchMembers.searchBusinessClass,searchBusinessType:t.searchMembers.searchBusinessType,results:t.searchMembers.searchResults}}),(function(t){return{updateSearchTerm:function(e){return t(At.c(e))},updateSearchResults:function(e){return t(At.d(e))}}}))(sr),lr=(s.Component,function(t,e){var r="/admin/home/users/".concat(t.id);return u.a.createElement("td",{className:"td-left",width:"50%"},u.a.createElement("div",{className:"half-opacity"},t.login),u.a.createElement("p",{align:"left"},u.a.createElement(Re.a,null,u.a.createElement(Re.b,{to:r,className:"btn-square"},e.name))))}),pr=r(176);function hr(){hr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var dr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={items:[],metaData:"",accountId:n.props.accountId?n.props.accountId:n.props.match.params.accountId,needUpdate:!1,membershipStates:{}},n.switchToParent=n.switchToParent.bind(Object(_.a)(n)),n.emptyTableActions=n.emptyTableActions.bind(Object(_.a)(n)),n.join=n.join.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"join",value:function(t){var e=this,r=t.id,n=this.state.membershipStates[t.name];return"/Application"===t.path||"/Application/Unaffiliated"===t.path||"/"===t.path?u.a.createElement("td",null):u.a.createElement("td",{className:"dt-center"},u.a.createElement("div",{className:"btn-toolbar-right",style:{marginTop:"-0.3rem"}},u.a.createElement("button",{hidden:n,onClick:function(){return e.addMemberToContainer(r,t.name)}},"AJOUTER"),u.a.createElement("button",{hidden:!n,onClick:function(){return e.removeMemberFromContainer(r,t.name)}},"SUPPRIMER")))}},{key:"toChild",value:function(t){var e=this,r=t.id;return u.a.createElement("td",{className:"dt-center",width:"5%"},u.a.createElement("div",{className:"btn-toolbar",style:{paddingTop:"1rem"}},u.a.createElement(Re.b,{size:"md",color:"light",onClick:function(t){return e.switchTo(t,r)}},u.a.createElement("i",{className:"fa fa-chevron-right fa-lg"}))))}},{key:"removeMemberFromContainer",value:function(t,e){var r=this,n=this.state.accountId,a=this.state.membershipStates;It.a.removeContainerMembership(n,t).then((function(){a[e]=!1,r.setState({membershipStates:a})}))}},{key:"addMemberToContainer",value:function(t,e){var r=this,n=this.state.accountId,a=this.state.membershipStates;It.a.addContainerMembership(n,t).then((function(t){a[e]=!0,r.setState({needUpdate:!0,membershipStates:a})}))}},{key:"switchTo",value:function(t,e){t&&t.preventDefault(),this.loadDatas(e)}},{key:"switchToParent",value:function(t){var e=this;t&&t.preventDefault();var r=this.state.currentContainerId;d.a.getRootContainerId(this.props.userContext)!==r&&pr.a.getParentContainer(r).then((function(t){var r=t.data.attributes.id;e.loadDatas(r)}))}},{key:"emptyTableActions",value:function(){var t=this;return u.a.createElement("div",{className:"btn-toolbar"},u.a.createElement("button",{onClick:function(e){return t.switchToParent(e)}},"Parent"))}},{key:"componentDidMount",value:function(){this.loadDatas(this.props.containerId)}},{key:"loadDatas",value:function(){var t=Object(it.a)(hr().mark((function t(e){var r=this;return hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:pr.a.getChildrenContainers(e).then((function(t){return r.setState({currentContainerId:e,items:t.data,metaData:t.metaData}),t})).then((function(t){t.data.map((function(t){var e=t.attributes.id;It.a.isUserInContainer(r.state.accountId,e).then((function(e){var n=Object(xt.a)({},r.state.membershipStates);e&&e.metaData&&!0===e.metaData.isMember?n[t.attributes.name]=!0:n[t.attributes.name]=!1,r.setState({membershipStates:n})}))}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"nameOf",value:function(t,e){return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"table-list-admin-root-list-div"},u.a.createElement("div",{className:"table-link"},t.name),u.a.createElement("div",{className:"half-opacity"},u.a.createElement("span",null,t.path))))}},{key:"render",value:function(){var t,e=this,r=this.state.items,n=this.state.metaData,a={hideTableHeader:"true",columnsConfig:[{dataField:"attributes",displayComponent:function(t,r){return e.nameOf(t,r)}},{displayComponent:function(t){return e.join(t)},dataField:"attributes"},{displayComponent:function(t){return e.toChild(t)},dataField:"attributes"}]},o=null===this.state.currentContainerId||""===this.state.currentContainerId||this.state.currentContainerId===d.a.getRootContainerId(this.props.userContext);return t=r&&r.length>0?u.a.createElement("div",{className:"table-list-admin-root-list"},u.a.createElement(R,{items:JSON.stringify(r),metaData:JSON.stringify(n),tableConfig:a,paginate:"false"})):u.a.createElement(ke,{secondaryMessage:"No containers"}),r?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"footer-btn-toolbar header-btn-toolbar btn-toolbar"},u.a.createElement("button",{onClick:function(t){return e.switchToParent(t)},disabled:o},u.a.createElement("i",{className:"fa fa-chevron-left"})," PARENT")),t):u.a.createElement(u.a.Fragment,null)}}]),r}(s.Component),fr=Object(_t.b)((function(t){return{}}),(function(t){return{}}))(dr);function mr(){mr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var vr={getUserRoles:function(t,e){return br.apply(this,arguments)},addRoleToUser:function(t,e,r){return wr.apply(this,arguments)},removeRoleToUser:function(t,e,r){return gr.apply(this,arguments)},searchRoleByNameLike:function(t,e,r){return yr.apply(this,arguments)}};function yr(){return(yr=Object(it.a)(mr().mark((function t(e,r,n){var a,o;return mr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/secured/v1/katappult/roles/searchRoleByNameLike?searchTerm="+e+"&userAccountId="+r+"&containerId="+n,o="".concat(st.a)+a,t.abrupt("return",Object(st.c)(o));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gr(){return(gr=Object(it.a)(mr().mark((function t(e,r,n){var a,o;return mr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/secured/v1/katappult/roles/byAccount?containerId="+n+"&roleId="+r+"&userAccountId="+e,o="".concat(st.a)+a,t.abrupt("return",Object(st.b)(o));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function br(){return(br=Object(it.a)(mr().mark((function t(e,r){var n,a;return mr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/roles/byAccount?containerId="+r+"&userAccountId="+e,a="".concat(st.a)+n,t.abrupt("return",Object(st.c)(a));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function wr(){return(wr=Object(it.a)(mr().mark((function t(e,r,n){var a,o;return mr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/secured/v1/katappult/roles/byAccount/?containerId="+n+"&roleId="+r+"&userAccountId="+e,o="".concat(st.a)+a,t.abrupt("return",Object(st.i)(o));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Er(){Er=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Or=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={loading:!1},n.getCreatePage=n.getCreatePage.bind(Object(_.a)(n)),n.removeFromRole=n.removeFromRole.bind(Object(_.a)(n)),n.onCreateItemSuccess=n.onCreateItemSuccess.bind(Object(_.a)(n)),n.getRootObjectForDetailsId=n.getRootObjectForDetailsId.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"componentDidMount",value:function(){this.loadRoles()}},{key:"componentDidUpdate",value:function(t,e){var r=cr.a.parse(t.location.search),n=cr.a.parse(this.props.location.search).rootId,a=r.rootId;a!==n&&a&&this.loadRoles()}},{key:"getRootObjectForDetailsId",value:function(){return cr.a.parse(this.props.location.search).rootId}},{key:"loadRoles",value:function(){var t=this;this.setState({loading:!0});var e=this.getRootObjectForDetailsId();e&&vr.getUserRoles(e,this.props.containerId).then((function(e){t.setState({roles:e.data,loading:!1})}))}},{key:"onCreateItemSuccess",value:function(){this.loadRoles()}},{key:"getCreatePage",value:function(t){var e=this;return u.a.createElement(kr,Object.assign({},this.props,{accountId:this.getRootObjectForDetailsId(),containerId:this.props.containerId,onCreateItemSuccess:function(){return e.onCreateItemSuccess(t)},wizardMode:!0}))}},{key:"headerActions",value:function(){var t=this;return u.a.createElement("div",{className:"footer-btn-toolbar header-btn-toolbar btn-toolbar"},u.a.createElement(xe,{buttonColor:"secondary",dialogSize:"md",buttonIcon:"fa fa-sm fa-plus",hideFooter:!0,buttonTitle:"ADD TO ROLE",dialogTitle:"Add user to role",dialogContentProvider:function(e){return t.getCreatePage(e)}}))}},{key:"removeFromRole",value:function(t){var e=this;this.setState({loading:!0}),vr.removeRoleToUser(this.getRootObjectForDetailsId(),t,this.props.containerId).then((function(){e.loadRoles()}))}},{key:"render",value:function(){var t,e=this,r=this.state.roles,n=this.headerActions(),a=[];return r&&r.length>0?(r.map((function(t){a.push(u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"user-role"},u.a.createElement("div",{className:"role-name"},t.attributes.name),u.a.createElement("div",{className:"role-action"},"superadmin"!==t.attributes.key&&u.a.createElement(nt.a,{color:"white",onClick:function(r){return e.removeFromRole(t.attributes.id)}},u.a.createElement(Ve.e,{size:"2em",color:"red"})),"superadmin"===t.attributes.key&&u.a.createElement(nt.a,{color:"white"},u.a.createElement(Ve.e,{size:"2em",color:"white"}))))))})),t=u.a.createElement("div",{className:"all-roles"},a)):t=u.a.createElement(ke,null),u.a.createElement(u.a.Fragment,null,n,this.state.loading&&u.a.createElement(ge,null),!this.state.loading&&t)}}]),r}(s.Component),kr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={searching:!1,searchResult:[],searchTerm:""},n.searchRole=n.searchRole.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"getDatas",value:function(t,e){var r=[];return e?t.map((function(t){r.push(t)})):t.map((function(t){"ROLE_SUPERADMIN"!==t.attributes.key&&r.push(t)})),r}},{key:"componentDidMount",value:function(){var t=this;this.setState({searching:!0}),vr.searchRoleByNameLike("",this.props.accountId,this.props.containerId).then((function(e){if(e&&e.data){var r=d.a.hasRoleSuperAdmin(t.props.userContext);t.setState({searchResult:t.getDatas(e.data,r),searchTerm:"",searching:!1})}else t.setState({searchResult:[],searchTerm:"",searching:!1})})).catch((function(e){t.setState({searching:!1})}))}},{key:"searchRole",value:function(){var t=Object(it.a)(Er().mark((function t(e){var r;return Er().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.target.value,this._doSearchRole(r);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_doSearchRole",value:function(){var t=Object(it.a)(Er().mark((function t(e){var r=this;return Er().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e?(this.setState({searching:!0}),vr.searchRoleByNameLike(e,"",this.props.containerId).then((function(t){t&&t.data?r.setState({searchResult:t.data,searchTerm:e,searching:!1}):r.setState({searchResult:[],searchTerm:e,searching:!1})}))):this.setState({searchResult:[],searchTerm:""});case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addUserToRole",value:function(){var t=Object(it.a)(Er().mark((function t(e){var r=this;return Er().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({searching:!0}),vr.addRoleToUser(this.props.accountId,e,this.props.containerId).then((function(t){r.setState({searching:!1}),r.props.onCreateItemSuccess&&r.props.onCreateItemSuccess(),r.componentDidMount()}));case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getRows",value:function(){var t=this,e=[];return this.state.searchResult.map((function(r){e.push(u.a.createElement("div",{className:"user-role"},u.a.createElement("div",{className:"role-name"},r.attributes.name),u.a.createElement("div",{className:"role-action"},u.a.createElement(nt.a,{color:"white",onClick:function(e){return t.addUserToRole(r.attributes.id)}},u.a.createElement(Ve.a,{size:"2em",color:"red"})))))})),e}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,this.state.searching&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Wt.a,{animation:"border",variant:"secondary"})),!this.state.searching&&this.state.searchResult.length<1&&u.a.createElement(ke,{mainMessage:"No roles found"}),!this.state.searching&&this.state.searchResult.length>0&&this.getRows())}}]),r}(s.Component),jr=r(223),Cr=r(222),Lr=r(333),xr=r.n(Lr);function Ir(){Ir=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Nr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={item:{},accountId:t.accountId?t.accountId:n.props.match?n.props.match.params.accountId:null,loadDataError:!1,summaryMode:"view",activeTab:"1",userProfile:null,userAccount:null,loading:!1},n.toggle=n.toggle.bind(Object(_.a)(n)),n.overviewTabContent=n.overviewTabContent.bind(Object(_.a)(n)),n.accountAttributesList=n.accountAttributesList.bind(Object(_.a)(n)),n.contactTabContent=n.contactTabContent.bind(Object(_.a)(n)),n.updateProfile=n.updateProfile.bind(Object(_.a)(n)),n.updateOrgProfile=n.updateOrgProfile.bind(Object(_.a)(n)),n.isLocked=n.isLocked.bind(Object(_.a)(n)),n.refresh=n.refresh.bind(Object(_.a)(n)),n.isCurrentAccountOwner=n.isCurrentAccountOwner.bind(Object(_.a)(n)),n.organizationAttributesView=n.organizationAttributesView.bind(Object(_.a)(n)),n.overviewTabContent=n.overviewTabContent.bind(Object(_.a)(n)),n.getRootObjectForDetailsId=n.getRootObjectForDetailsId.bind(Object(_.a)(n)),n.accountRoles=n.accountRoles.bind(Object(_.a)(n)),n.accountSystemPrefsContent=n.accountSystemPrefsContent.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"getRootObjectForDetailsId",value:function(){return cr.a.parse(this.props.location.search).rootId}},{key:"isLocked",value:function(){return!!this.state.userAccount.locked}},{key:"updateProfile",value:function(t){var e=this,r=t.id;It.a.updatePersonProfile(r,t,this.props.containerId).then((function(t){e.updateProfileSuccess()})).catch((function(t){e.toggle(),bt.b.error("Error updating profile!"),console.error(t)}))}},{key:"updateProfileSuccess",value:function(){var t=this,e=this.getRootObjectForDetailsId();It.a.accountDetails(e,this.props.containerId).then((function(r){t.props.updatePeopleCallBack&&t.props.updatePeopleCallBack(e,!1),t.setState({loadDataError:!1,userProfile:r.data.attributes})}))}},{key:"toggle",value:function(t){this.state.activeTab!==t&&this.setState({activeTab:t})}},{key:"tabsConfigs",value:function(){var t=this,e={tabItems:[{id:"1",title:"Utilisateur",tabContent:function(){return t.overviewTabContent()},visible:function(){return!0}},{id:"2",title:"Acc\xe8s",tabContent:function(){return t.containerAccessTabContent()},visible:function(){return t.containerAccessTabContentVisible()}},{id:"3",title:"Compte",tabContent:function(){return t.accountTabContent()},visible:function(){return t.containerAccessTabContentVisible()}},{id:"4",title:"Param\xe8tres",tabContent:function(){return t.accountSystemPrefsContent()},visible:function(){return t.containerAccessTabContentVisible()}},{id:"5",title:"Roles",tabContent:function(){return t.accountRoles()},visible:function(){return t.containerAccessTabContentVisible()}}]};return this.props.customTabItems&&this.props.customTabItems.map((function(t){e.tabItems.push(t)})),e}},{key:"accountRoles",value:function(){return u.a.createElement(Or,this.props)}},{key:"accountSystemPrefsContent",value:function(){return u.a.createElement(Tr,this.props)}},{key:"containerAccessTabContentVisible",value:function(){return d.a.hasRoleAdmin(this.props.userContext)||d.a.hasRoleSuperAdmin(this.props.userContext)}},{key:"isCurrentAccountOwner",value:function(){return this.state.isCurrentAccountOwner||d.a.hasRoleAdmin(this.props.userContext)}},{key:"nameOf",value:function(t){return u.a.createElement("td",{width:"60%"},u.a.createElement("h5",{className:"katappult-link"},t.name),u.a.createElement("span",null,u.a.createElement("i",null,t.description)))}},{key:"containerAccessTabContent",value:function(){var t=this,e={columnsConfig:[{displayComponent:function(e){return t.nameOf(e)},dataField:"attributes"}]};return d.a.hasRoleAdmin(this.props.userContext)||d.a.hasRoleSuperAdmin(this.props.userContext)?u.a.createElement(fr,Object.assign({},this.props,{accountId:this.getRootObjectForDetailsId()})):this.state.containerMembership&&this.state.containerMembership.length>0?u.a.createElement(R,{items:JSON.stringify(this.state.containerMembership),metaData:JSON.stringify(this.state.containerMembershipMetaData),tableConfig:e,paginate:"false"}):u.a.createElement(u.a.Fragment,null)}},{key:"contactTabContent",value:function(){var t=this.isCurrentAccountOwner();return u.a.createElement("div",null,!0!==this.state.loading&&u.a.createElement(Lt,{containerId:this.props.containerId,contactNavigation:!0,displayHeader:!0,businessId:this.state.userProfile.id,canEdit:t}))}},{key:"peopleProfileAttributesList",value:function(){var t=this,e={onSubmit:function(e){return t.updateProfile(e)},attributes:[{name:"Lastname",dataField:"lastName",type:"text"},{name:"Firstname",dataField:"firstName",type:"text"}]};return e}},{key:"peopleAttributesView",value:function(){var t=this.isCurrentAccountOwner();return u.a.createElement(M.a,{attributesListConfig:this.peopleProfileAttributesList(),data:this.state.userProfile,canEdit:t,standardFooterActions:"true",displayHeader:!0})}},{key:"organizationProfileAttributesList",value:function(){var t=this,e={formId:"profileAttributesList_form",addHeaderMargin:!0,onSubmit:function(e){return t.updateOrgProfile(e)},attributes:[{name:"Name",dataField:"name",type:"text"},{name:"Siren",dataField:"siren",type:"text"},{name:"Siret",dataField:"siret",type:"text"},{name:"Number",dataField:"number",type:"text"},{name:"Code NAF",dataField:"codeNaf",type:"text"},{name:"Code APE",dataField:"codeApe",type:"text"},{name:"JURIDICAL",dataField:"juridicalForm",type:"text"},{name:"TVA INTRA",dataField:"tvaIntra",type:"text"},{name:"Immat date",dataField:"immatriculationDate",type:""},{name:"Greffer code",dataField:"greffeCode",type:"text"},{name:"Categorie",dataField:"categorie",type:"text"},{name:"NAF company",dataField:"codeNafCompany",type:"text"},{name:"APE company",dataField:"codeApeCompany",type:"text"},{name:"Addressage name",dataField:"addressageName",type:"text"}]};return e}},{key:"organizationAttributesView",value:function(){var t=this.isCurrentAccountOwner();return u.a.createElement(M.a,{attributesListConfig:this.organizationProfileAttributesList(),data:this.state.userProfile,canEdit:t,standardFooterActions:"true",displayHeader:!0})}},{key:"updateOrgProfile",value:function(t){var e=this,r=t.id;It.a.updateOrgProfile(r,t,this.props.containerId).then((function(t){e.updateProfileSuccess()})).catch((function(t){bt.b.error("Error updating profile!"),console.error(t)}))}},{key:"componentDidUpdate",value:function(t,e){var r=cr.a.parse(t.location.search),n=cr.a.parse(this.props.location.search).rootId;r.rootId!==n&&n&&this.loadAllDatas(n)}},{key:"refresh",value:function(){this.loadAllDatas(this.getRootObjectForDetailsId(),!1)}},{key:"componentDidMount",value:function(){this.loadAllDatas(this.getRootObjectForDetailsId(),!0)}},{key:"loadAllDatas",value:function(){var t=Object(it.a)(Ir().mark((function t(e,r){var n=this;return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({loading:!0}),It.a.accountDetails(e,this.props.containerId).then((function(t){var r=t.data.links.account.nickName===n.props.userContext.userAccount.nickName;return n.setState({loading:!1,loadDataError:!1,userProfile:t.data.attributes,userAccount:t.data.links.account,isCurrentAccountOwner:r,accountId:e}),t})).then((function(t){var e=t.data.links.account.id;n.loadContainerMemberships(e)})).catch((function(t){n.setState({loadDataError:!0})}));case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"loadContainerMemberships",value:function(){var t=Object(it.a)(Ir().mark((function t(e){var r=this;return Ir().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:It.a.containersMembership(e,this.props.containerId).then((function(t){t&&t.data&&r.setState({containerMembership:t.data,containerMembershipMetaData:t.metaData})}));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getProfileName",value:function(){return this.state.userProfile?this.state.userProfile.lastName?this.state.userProfile.firstName+" "+this.state.userProfile.lastName:this.state.userProfile.name:u.a.createElement("div",null)}},{key:"isOrganizationProfile",value:function(){return this.state.userProfile&&this.state.userProfile.siret}},{key:"overviewTabContent",value:function(){var t=u.a.createElement(u.a.Fragment,null);if(this.notLoading()){var e,r=this.isCurrentAccountOwner(),n="Person";this.isOrganizationProfile()&&(n="Organization"),e="Person"===n?this.peopleAttributesView():this.organizationAttributesView(),t=u.a.createElement(u.a.Fragment,null,u.a.createElement(qr,{title:"Details",content:e,expanded:!0}),u.a.createElement(qr,{title:"Contacts",content:u.a.createElement(Lt,{containerId:this.props.containerId,displayHeader:!0,businessId:this.state.userProfile.id,canEdit:r}),expanded:!0}))}else t=u.a.createElement(ge,null);return u.a.createElement("div",null,t)}},{key:"notLoading",value:function(){return!this.state.loading&&this.state.userProfile}},{key:"accountTabContent",value:function(){var t=this,e=this.state.isCurrentAccountOwner||d.a.hasRoleAdmin(this.props.userContext),r=[],n=d.a.hasRoleAdmin(this.props.userContext);return this.notLoading()?(n&&r.push(u.a.createElement(Pt,{containerId:this.props.containerId,accountId:this.state.userAccount.id,afterUpdate:function(){return t.refresh()}})),this.state.isCurrentAccountOwner&&r.push(u.a.createElement(Xt,{containerId:this.props.containerId,accountId:this.state.userAccount.id})),n&&(this.isLocked()?r.push(u.a.createElement(Rt,{containerId:this.props.containerId,accountId:this.state.userAccount.id,afterUpdate:function(){return t.refresh()}})):r.push(u.a.createElement(Tt,{containerId:this.props.containerId,accountId:this.state.userAccount.id,afterUpdate:function(){return t.refresh()}}))),u.a.createElement(u.a.Fragment,null,u.a.createElement(ct.a,{className:"footer-btn-toolbar header-btn-toolbar btn-toolbar"},r),u.a.createElement(qr,{title:"Compte",content:u.a.createElement(M.a,{containerId:this.props.containerId,attributesListConfig:this.accountAttributesList(),data:this.state.userAccount,canEdit:e,displayHeader:!0}),expanded:!0}))):u.a.createElement(ct.a,null,r)}},{key:"accountAttributesList",value:function(){return{attributes:[{name:"Locked",dataField:"locked",type:"bool"},{name:"Locked date",dataField:"lockedDate",type:"text"},{name:"Activated",dataField:"active",type:"bool"},{name:"Pass expire date",dataField:"passwordExpirationDate",type:"date",dateFormat:"DD/MM/YYYY HH:mm"},{name:"Pass expired",dataField:"firstName",type:"bool"},{name:"Creation date",dataField:"createDate",type:"date",readOnly:!0,dateFormat:"DD/MM/YYYY HH:mm"},{name:"Created by",dataField:"createdBy",type:"text",readOnly:!0},{name:"Modification date",dataField:"lastModifiedDate",type:"date",readOnly:!0,dateFormat:"DD/MM/YYYY HH:mm"},{name:"Modified by",dataField:"lastModifiedBy",type:"text",readOnly:!0}]}}},{key:"render",value:function(){var t=[];return this.tabsConfigs().tabItems.map((function(e){e.visible()&&t.push(u.a.createElement(Cr.a,{eventKey:e.id.toString(),title:e.title},e.tabContent(e)))})),u.a.createElement("div",{className:"user-profile-root"},u.a.createElement("div",{className:"user-profile-thumb"},u.a.createElement("img",{src:xr.a,height:"120",width:"120"})),u.a.createElement("div",{className:"user-profile-content admin-tab-content"},u.a.createElement(jr.a,{defaultActiveKey:"1",id:"uncontrolled-tab-example",className:"admin-nav-tabs"},t)))}}]),r}(s.Component),Sr=Object(_t.b)((function(t){return{}}))(Nr),Pr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={loading:!1,peopleType:t.peopleType,people:t.people,account:t.account,orgDetailsLink:t.orgDetailsLink,personDetailsLink:t.personDetailsLink},n}return Object(o.a)(r,[{key:"blockUser",value:function(t,e){t.preventDefault(),this.props.blockUser(e)}},{key:"unsubscribe",value:function(t){t.preventDefault();var e=this.state.account.id;this.props.unsubscribe(e)}},{key:"loading",value:function(){return u.a.createElement("span",null,"Loading...")}},{key:"getTitle",value:function(t){return"title"}},{key:"getDisplay",value:function(){var t,e=this,r=(this.state.peopleType.logicalPath,this.props.personDetailsLink(this.state.people),u.a.createElement(ye,{canEdit:!1,width:"90",height:"90",thumbedId:this.state.people.id}));return t=this.state.peopleType.logicalPath.startsWith("com.katappult.people.Party/Organisation/")?null!==this.props.orgDetailsLink?this.props.orgDetailsLink(this.state.people):this.state.people.addressageName:null!==this.props.personDetailsLink?this.props.personDetailsLink(this.state.people):this.state.people.firstName+" "+this.state.people.lastName,u.a.createElement("table",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("div",{className:""},r)),u.a.createElement("td",null,u.a.createElement("div",null,u.a.createElement("p",{align:"left"},u.a.createElement("h5",null,t))),u.a.createElement("div",null,u.a.createElement(nt.a,{onClick:function(t){return e.blockUser(t,e.props.account.id)}},"BLOCK"),u.a.createElement(nt.a,{onClick:function(t){return e.unsubscribe(t,e.props.account.id)}},"UNSUBSCRIBE")))))}},{key:"render",value:function(){if(this.state.loading)return this.loading();if(null===this.state.peopleType||void 0===this.state.peopleType)return u.a.createElement("div",null,"Unkown people type!");var t=this.state;t.peopleType,t.people,t.account;return this.getDisplay()}}]),r}(s.Component),_r={getUserPreferences:function(t,e){var r="/api/secured/v1/katappult/principals/account/preferences/list?containerId="+e+"&isUser=true&accountId="+t,n="".concat(st.a)+r;return Object(st.c)(n)},getSystemPreferences:function(t,e){var r="/api/secured/v1/katappult/principals/account/preferences/list?containerId="+e+"&isUser=false&accountId="+t,n="".concat(st.a)+r;return Object(st.c)(n)},update:function(t,e,r,n){var a="/api/secured/v1/katappult/principals/account/preferences/update?containerId="+r+"&value="+n+"&accountId="+t+"&preferenceId="+e,o="".concat(st.a)+a;return Object(st.i)(o)},create:function(t){var e="".concat(st.a)+"/api/secured/v1/katappult/preferences/create";return Object(st.f)(e,JSON.stringify(t))},drop:function(t,e){var r="/api/secured/v1/katappult/preferences/delete?containerId="+e+"&id="+t,n="".concat(st.a)+r;return Object(st.b)(n)}};function Ar(){Ar=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return C()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var l={};function p(){}function h(){}function d(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(j([])));v&&v!==e&&r.call(v,a)&&(f=v);var y=d.prototype=p.prototype=Object.create(f);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=u(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new b(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Fr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={formData:{createContainerId:n.props.ceateContainerId,loading:!1},errors:[]},n.create=n.create.bind(Object(_.a)(n)),n.attributesList=n.attributesList.bind(Object(_.a)(n)),n.handleSuccessResponse=n.handleSuccessResponse.bind(Object(_.a)(n)),n.handleErrorResponse=n.handleErrorResponse.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"create",value:function(){var t=Object(it.a)(Ar().mark((function t(e){var r,n,a,o=this;return Ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState({loading:!0}),r=this.props.accountId,n=this.props.containerId,a=this.props.userHidden,e.owner=r,e.container=n,e.userHidden=a,_r.create(e,this.props.containerId).then((function(t){d.a.isRequestSuccess(t)?o.handleSuccessResponse(t,e):o.handleErrorResponse(t)}));case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"handleErrorResponse",value:function(t){this.setState({loading:!1,errors:["Error occurs when creating entity"],formData:t})}},{key:"handleSuccessResponse",value:function(t,e){this.setState({loading:!1});var r=t.data.attributes.id;this.props.onCreateItemSuccess&&this.props.onCreateItemSuccess(r)}},{key:"attributesList",value:function(){var t=this,e={title:"Summary",icon:"fa fa-info float-right",formId:"create_profileAttributesList_form",saveButtonTitle:"CREATE",addHeaderMargin:!0,onSubmit:function(e){return t.create(e)},attributes:[{name:"Display Name",dataField:"displayName",type:"text",required:!0,placeHolder:"Name"},{name:"Key",dataField:"key",type:"text",required:!0},{name:"Value",dataField:"value",type:"text",required:!0}]};return e}},{key:"render",value:function(){if(!0===this.state.loading)return u.a.createElement(ge,{bordered:!1});var t=[];this.state.errors.length>0&&this.state.errors.map((function(e){t.push(u.a.createElement("p",null,e))}));var e=Object(xt.a)({},this.state.formData);return u.a.createElement("div",null,u.a.createElement("div",{id:"form-errors-section",className:"form-error"},t),u.a.createElement(M.a,{attributesListConfig:this.attributesList(),data:e,standardFooterActions:"true",formMode:"create_object"}))}}]),r}(s.Component),Tr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={loading:!0,results:[],metaData:{},createForm:{},editingRow:null},n.updateEditedSetting=n.updateEditedSetting.bind(Object(_.a)(n)),n.cancelEditedSetting=n.cancelEditedSetting.bind(Object(_.a)(n)),n.setEditingRow=n.setEditingRow.bind(Object(_.a)(n)),n.formDataChange=n.formDataChange.bind(Object(_.a)(n)),n.getCreatePage=n.getCreatePage.bind(Object(_.a)(n)),n.delete=n.delete.bind(Object(_.a)(n)),n.getRootObjectForDetailsId=n.getRootObjectForDetailsId.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"getRootObjectForDetailsId",value:function(){return cr.a.parse(this.props.location.search).rootId}},{key:"delete",value:function(t){var e=this,r=this.props.containerId;_r.drop(t,r).then((function(t){e.componentDidMount(),e.setState({loading:!0,createForm:{},editingRow:null})}))}},{key:"onCreateItemSuccess",value:function(t){t&&t(),this.componentDidMount()}},{key:"getCreatePage",value:function(t){var e=this;return u.a.createElement(Fr,{userHidden:!0,accountId:this.getRootObjectForDetailsId(),containerId:this.props.containerId,onCreateItemSuccess:function(){return e.onCreateItemSuccess(t)},wizardMode:!0})}},{key:"updateEditedSetting",value:function(t){var e=this,r=t.id,n=this.props.containerId,a=this.getRootObjectForDetailsId(),o=this.state.createForm.value;_r.update(a,r,n,o).then((function(t){e.componentDidMount(),e.setState({createForm:{},editingRow:null})}))}},{key:"cancelEditedSetting",value:function(t){t.id;this.setState({createForm:{},editingRow:null})}},{key:"setEditingRow",value:function(t,e){var r={};r.value=t.value,r.id=t.id,this.setState({editingRow:t.id,createForm:r})}},{key:"formDataChange",value:function(t){var e=Object(xt.a)({},this.state.createForm);e[t.target.name]=t.target.value,this.setState({createForm:e})}},{key:"settingsDatatable",value:function(){var t=this,e={columnsConfig:[{name:"Name",dataField:"attributes.displayName",headerClassName:"td-left",className:"td-left"},{name:"Value",displayComponent:function(e,r){return t.settingsValue(e,r)},dataField:"attributes",headerClassName:"td-left",className:"td-left"},{displayComponent:function(e,r){return t.rowAction(e,r)},dataField:"attributes"}]},r=[];return this.state.results.map((function(t){r.push({attributes:{id:t.attributes.accountId,value:t.attributes.value,key:t.attributes.key,displayName:t.attributes.displayName}})})),u.a.createElement(R,{items:JSON.stringify(r),metaData:JSON.stringify(this.state.metaData),tableConfig:e,displayTotalElements:!0,paginate:!1})}},{key:"settingsValue",value:function(t){var e;return e=this.state.editingRow&&this.state.editingRow===t.id?u.a.createElement(Nt.a.Control,{type:"text",placeholder:"Value",onChange:this.formDataChange,value:this.state.createForm.value,name:"value",className:"mb-2"}):t.value,u.a.createElement("td",{className:"td-left"},e)}},{key:"componentDidMount",value:function(){var t=this,e=this.props.containerId,r=this.getRootObjectForDetailsId();_r.getSystemPreferences(r,e).then((function(e){return t.setState({results:e.data,metaData:e.metaData,loading:!1}),e})).catch((function(e){console.log(e),t.setState({loading:!1})}))}},{key:"headerActions",value:function(){var t=this;return u.a.createElement("div",{className:"btn-toolbar footer-btn-toolbar header-btn-toolbar"},u.a.createElement(xe,{dialogSize:"md",buttonIcon:"fa fa-sm fa-plus",hideFooter:!0,buttonTitle:"NEW USER SETTINGS",dialogTitle:"New user settings",dialogContentProvider:function(e){return t.getCreatePage(e)}}))}},{key:"rowAction",value:function(t,e){var r=this;if(this.state.editingRow&&this.state.editingRow===t.id)return u.a.createElement("td",{width:"12%"},u.a.createElement("div",{className:"btn-toolbar",style:{paddingTop:"1rem"}},u.a.createElement("button",{onClick:function(){return r.updateEditedSetting(t,e)}}," UPDATE "),u.a.createElement("button",{onClick:function(){return r.cancelEditedSetting(t,e)}},"CANCEL")));var n=t.id;return u.a.createElement("td",{width:"12%"},u.a.createElement("div",{className:"btn-toolbar",style:{paddingTop:"1rem"}},u.a.createElement("button",{onClick:function(){return r.setEditingRow(t,e)}},u.a.createElement("i",{className:"fa fa-pencil"})),u.a.createElement(Ne,{buttonIcon:"fa fa-times",onConfirm:function(){return r.delete(n)},dialogMessage:"Do you really want to remove this user system settings?",dialogTitle:"Remove setting".toUpperCase()})))}},{key:"rows",value:function(){return this.state.results&&this.state.results.length>0?this.settingsDatatable():u.a.createElement(ke,null)}},{key:"render",value:function(){return!0===this.state.loading?u.a.createElement(ge,null):u.a.createElement("div",{className:""},this.headerActions(),this.rows())}}]),r}(s.Component),Dr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={},n}return Object(o.a)(r,[{key:"componentDidMount",value:function(){d.a.katappult_core_logout();var t=qt.a.clientSideRenderedURL("/login");window.location.href=t}},{key:"render",value:function(){return u.a.createElement(ge,{waitingMessage:"Bye"})}}]),r}(u.a.Component),Rr=r(661),Mr=r(218),Ur=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={items:[]},n.pushItem=n.pushItem.bind(Object(_.a)(n)),n._dopopBreadCrumb=n._dopopBreadCrumb.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"getHomeLabel",value:function(){return this.props.homeLabel?this.props.homeLabel:"Home"}},{key:"getHomeUrl",value:function(){return this.props.homeUrl?this.props.homeUrl:"#/home"}},{key:"pushItem",value:function(t){var e=this.props.items.slice();e.push(t),this.setState({items:e})}},{key:"_dopopBreadCrumb",value:function(t,e){this.props.popBreadCrumb&&(t&&t.preventDefault(),this.props.popBreadCrumb(e))}},{key:"_doselectHomePage",value:function(t,e){this.props.homeUrlAction&&(t&&t.preventDefault(),this.props.homeUrlAction(e))}},{key:"renderBreadCrumb",value:function(){var t=this,e=[];!0!==this.props.hideHome&&e.push(u.a.createElement(Rr.a.Item,{href:this.getHomeUrl(),onClick:function(t){return t.preventDefault()}},u.a.createElement(Mr.a,null),this.getHomeLabel())),this.props.items&&this.props.items.map((function(r){e.push(u.a.createElement(Rr.a.Item,{href:r.href,onClick:function(e){return t._dopopBreadCrumb(e,r)}},u.a.createElement(Mr.a,null),r.title))}));var r=u.a.createElement(Rr.a,{className:"no-border"},e);return u.a.createElement(u.a.Fragment,null,u.a.createElement("table",{className:"app-breadcrum-table"},u.a.createElement("tr",null,u.a.createElement("td",{class:"dt-center"},u.a.createElement("nav",{"aria-label":"breadcrumb"},r)))))}},{key:"render",value:function(){return this.renderBreadCrumb()}}]),r}(u.a.Component),Gr=function(t){Object(i.a)(r,t);var e=Object(c.a)(r);function r(t){var n;return Object(a.a)(this,r),(n=e.call(this,t)).state={items:[],loading:!0},n.tableActions=n.tableActions.bind(Object(_.a)(n)),n}return Object(o.a)(r,[{key:"componentDidMount",value:function(){var t=this,e=this.props.revControlledId;this.props.versionId?ie.allIterationsOfversion(e,this.props.versionId,this.props.containerId).then((function(e){t.setState({items:e&&e.data?e.data:[],metaData:e&&e.data?e.metaData:{},loading:!1})})):ie.allIterationsOf(e,this.props.containerId).then((function(e){t.setState({items:e&&e.data?e.data:[],metaData:e&&e.data?e.metaData:{},loading:!1})}))}},{key:"tableActions",value:function(t,e){var r=this;return u.a.createElement("td",{className:"td-center"},u.a.createElement(ee.a,{onClick:function(){return r.props.toIterationDetails(t.id)}},u.a.createElement("i",{className:"fa fa-info fa-sm"})))}},{key:"render",value:function(){var t,e=this,r=this.state.items,n=this.state.metaData;return t=this.props.versionId?{columnsConfig:[{displayComponent:function(t){return Br(t)},dataField:"attributes",defaultSortOrder:"asc",headerClass:"td-left",className:"td-left"},{name:"Name",dataField:"attributes",displayComponent:function(t){return Hr(e.props.name)},headerClass:"td-left",className:"td-left"},{name:"Version",dataField:"attributes.versionInfo.versionId",defaultSortOrder:"asc",headerClass:"td-left",className:"td-left"},{name:"Iteration",dataField:"attributes.iterationInfo.iterationNumber",defaultSortOrder:"asc",headerClass:"td-left",className:"td-left"},{name:"Created",dataField:"attributes.createDate",dateFormat:"DD/MM/YYYY",headerClass:"td-left",className:"td-left"},{name:"Updated",dataField:"attributes.lastModifiedDate",dateFormat:"DD/MM/YYYY",headerClass:"td-left",className:"td-left"},{dataField:"attributes",displayComponent:function(t,r){return e.tableActions(t,r)},headerClass:"td-center",className:"td-center"}]}:{columnsConfig:[{displayComponent:function(t){return Br(t)},dataField:"attributes",defaultSortOrder:"asc",headerClass:"td-left",className:"td-left"},{name:"Name",dataField:"attributes",displayComponent:function(t){return Hr(e.props.name)},headerClass:"td-left",className:"td-left"},{name:"Version",dataField:"attributes.iterationInfo.iterationNumber",defaultSortOrder:"asc",headerClass:"td-left",className:"td-left"},{name:"Created",dataField:"attributes.createDate",dateFormat:"DD/MM/YYYY",headerClass:"td-left",className:"td-left"},{name:"Updated",dataField:"attributes.lastModifiedDate",dateFormat:"DD/MM/YYYY",headerClass:"td-left",className:"td-left"}]},null!==r&&r.length>0?u.a.createElement(R,{items:JSON.stringify(r),tableClassName:"data-table",pagination:!1,displayTotalElements:!0,metaData:JSON.stringify(n),tableConfig:t}):!0===this.state.loading?u.a.createElement(ge,null):u.a.createElement(ke,{hideMainMessage:!0,secondaryMessage:"No history"})}}]),r}(s.Component),Hr=function(t){return u.a.createElement("td",{className:"td-left"},t)},Br=function(t){return!0===t.workInfo.isWorkingCopy?u.a.createElement("td",{className:"dt-left"},u.a.createElement(Ve.k,{color:"#000",size:"1.5em"})):!0===t.iterationInfo.isLatestIteration?u.a.createElement("td",{className:"td-left"},u.a.createElement(Ve.c,{color:"#000",size:"1.5em"})):u.a.createElement("td",null)},Yr=(s.Component,function(t){return u.a.createElement("td",{className:"td-left"},t)}),zr=function(t){return!0===t.workInfo.isWorkingCopy?u.a.createElement("td",{className:"dt-left"},u.a.createElement(Ve.k,{color:"#000",size:"1.5em"})):!0===t.iterationInfo.isLatestIteration?u.a.createElement("td",{className:"td-left"},u.a.createElement(Ve.c,{color:"#000",size:"1.5em"})):u.a.createElement("td",null)};r(229);function Vr(t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Le.a,{centered:!0,size:"sm",className:"processing-modal",show:t.show,backdrop:"static",keyboard:!1},u.a.createElement(Le.a.Body,null,u.a.createElement(Wt.a,{animation:"border",variant:"warning"}))))}var Wr={fadeIn:{animation:"x 100ms",animationName:we.a.keyframes(be.fadeIn,"fadeIn")}};var qr=function(t){var e=Object(s.useState)(t.expanded?t.expanded:n),r=Object(A.a)(e,2),n=r[0],a=r[1];return u.a.createElement(Ee.a,null,u.a.createElement("div",{className:"accordion-pane"},t.titleComponent,t.title?u.a.createElement("h3",{className:"form-title-level-0 hand-hover",onClick:function(){a(!n)}},t.title):u.a.createElement(u.a.Fragment,null),n&&u.a.createElement("div",{style:Wr.fadeIn},t.content)))}},176:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(9),a=r(3);function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(x){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var p={};function h(){}function d(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var i={getAllLifecycles:function(t,e,r,n){return L.apply(this,arguments)},getAllFolderTemplates:function(t,e,r,n){return x.apply(this,arguments)},getAllEmailTemplates:function(t,e,r,n){return I.apply(this,arguments)},getAllTeamTemplates:function(t,e,r,n){return N.apply(this,arguments)},getRootTypes:function(t,e,r,n){return S.apply(this,arguments)},getAllMembers:function(t,e,r,n){return P.apply(this,arguments)},getApplicationRootContainer:function(){return C.apply(this,arguments)},getChildrenContainers:function(t){return E.apply(this,arguments)},getById:function(t){return b.apply(this,arguments)},getByPath:function(t){return w.apply(this,arguments)},getParentContainer:function(t){return g.apply(this,arguments)},getAccessiblesChildrenContainers:function(t,e){return j.apply(this,arguments)},getOwnedChildrenContainers:function(t,e){return k.apply(this,arguments)},getAllAccessibleContainers:function(t,e){return O.apply(this,arguments)},isUserContainerAdmin:function(t,e){return f.apply(this,arguments)},countMembers:function(t){return d.apply(this,arguments)},createContainer:function(t,e){return h.apply(this,arguments)},getContainerSettings:function(t){return l.apply(this,arguments)},updateContainerSetting:function(t,e,r){return p.apply(this,arguments)},populateContainerSetting:function(t){return u.apply(this,arguments)},getContainersOfOwner:function(t,e){return s.apply(this,arguments)},populateFromSellsy:function(t){return c.apply(this,arguments)},getAllContainerAdmin:function(t){return m.apply(this,arguments)},containerAdminAdd:function(t,e){return v.apply(this,arguments)},containerAdminDelete:function(t,e){return y.apply(this,arguments)}};function c(){return(c=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/contained/populateFromSellsy?containedId="+e,n="".concat(a.a)+r,t.abrupt("return",Object(a.f)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/container/ofOwner?ownerId="+r+"&containerId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(){return(u=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/container/populateSettings?containerId="+e,n="".concat(a.a)+r,t.abrupt("return",Object(a.f)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return(l=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/container/settings?containerId="+e,n="".concat(a.a)+r,t.abrupt("return",Object(a.c)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(n.a)(o().mark((function t(e,r,n){var i,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="/api/secured/v1/katappult/container/settings?containerId="+r+"&settingsId="+n,c="".concat(a.a)+i,t.abrupt("return",Object(a.f)(c,JSON.stringify(e)));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(){return(h=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/contained/create?containedId="+r,i="".concat(a.a)+n,t.abrupt("return",Object(a.f)(i,JSON.stringify(e)));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return(d=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/container/countMembers?containerId="+e,n="".concat(a.a)+r,t.abrupt("return",Object(a.c)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/container/isUserContainerAdmin?accountId="+e+"&containerId="+r,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return(m=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/container/allContainerAdmin?containerId="+e,n="".concat(a.a)+r,t.abrupt("return",Object(a.c)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/container/containerAdmin?accountId="+e+"&containerId="+r,i="".concat(a.a)+n,t.abrupt("return",Object(a.f)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){return(y=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/container/containerAdmin?accountId="+e+"&containerId="+r,i="".concat(a.a)+n,t.abrupt("return",Object(a.b)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/container/parent?containerId="+e,n="".concat(a.a)+r,t.abrupt("return",Object(a.c)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/container/byId?containerId="+e,n="".concat(a.a)+r,t.abrupt("return",Object(a.c)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/container?path="+encodeURI(e),n="".concat(a.a)+r,t.abrupt("return",Object(a.c)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=Object(n.a)(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/api/secured/v1/katappult/container/subContainers?containerId="+e,n="".concat(a.a)+r,t.abrupt("return",Object(a.c)(n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/container/allAccessibleContainers?userAccountId="+r+"&containerId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){return(k=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/container/ownerSubContainers?userAccountId="+r+"&containerId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(){return(j=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/container/accessibleSubContainers?userAccountId="+r+"&containerId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(){return(C=Object(n.a)(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/api/secured/v1/katappult/container?path=%2F",e="".concat(a.a)+"/api/secured/v1/katappult/container?path=%2F",t.abrupt("return",Object(a.c)(e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){return(L=Object(n.a)(o().mark((function t(e,r,n,i){var c,s,u,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={page:r,pageSize:n,includeParentItems:i},s=Object(a.j)(c),u="/api/secured/v1/katappult/lifecycles?".concat(s).concat("&containerId="+e),l="".concat(a.a)+u,t.abrupt("return",Object(a.c)(l));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){return(x=Object(n.a)(o().mark((function t(e,r,n,i){var c,s,u,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={page:e,pageSize:r,includeParentItems:n},s=Object(a.j)(c),u="/api/secured/v1/katappult/container/folderTemplates?".concat(s).concat("&containerId="+i),l="".concat(a.a)+u,t.abrupt("return",Object(a.c)(l));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return(I=Object(n.a)(o().mark((function t(e,r,n,i){var c,s,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={page:e,pageSize:r,includeParentItems:n},Object(a.j)(c),s="/api/secured/v1/katappult/container/enTemplates/list?containerId="+i,u="".concat(a.a)+s,t.abrupt("return",Object(a.c)(u));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(n.a)(o().mark((function t(e,r,n,i){var c,s,u,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={page:e,pageSize:r,includeParentItems:n},s=Object(a.j)(c),u="/api/secured/v1/katappult/container/teamTemplates?".concat(s).concat("&containerId="+i),l="".concat(a.a)+u,t.abrupt("return",Object(a.c)(l));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(){return(S=Object(n.a)(o().mark((function t(e,r,n,i){var c,s,u,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={page:e,pageSize:r,includeParentItems:n},s=Object(a.j)(c),u="/api/secured/v1/katappult/types/rootTypes?".concat(s).concat("&containerId="+i),l="".concat(a.a)+u,t.abrupt("return",Object(a.c)(l));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return(P=Object(n.a)(o().mark((function t(e,r,n,i){var c,s,u,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={page:e,pageSize:r,includeParentItems:n},s=Object(a.j)(c),u="/api/secured/v1/katappult/container/members?".concat(s).concat("&containerId="+i),l="".concat(a.a)+u,t.abrupt("return",Object(a.c)(l));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},224:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(9),a=r(3);function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(x){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var p={};function h(){}function d(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var i={details:function(t,e){return p.apply(this,arguments)},promote:function(t,e){return f.apply(this,arguments)},setState:function(t,e,r){return v.apply(this,arguments)},setStateWithComment:function(t,e,r,n){return y.apply(this,arguments)},setLinkState:function(t,e,r,n,a){return b.apply(this,arguments)},denote:function(t,e){return m.apply(this,arguments)},statesBySetState:function(t,e){return w.apply(this,arguments)},statesByAction:function(t,e,r,n){return u.apply(this,arguments)},statesByPromote:function(t,e){return E.apply(this,arguments)},statesByDenote:function(t,e){return O.apply(this,arguments)},getAllPossibleStatesOfLifecyle:function(t,e){return h.apply(this,arguments)},updateMasterAttributes:function(t,e,r){return l.apply(this,arguments)},setStateFromExternalApp:function(t,e,r){return g.apply(this,arguments)},createLifecycle:function(t,e){return s.apply(this,arguments)},archive:function(t,e){return c.apply(this,arguments)},lifecycleTransitions:function(t,e){return d.apply(this,arguments)}};function c(){return(c=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycles/archive?containerId="+r+"&entityId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.f)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycles?containerId="+r,i="".concat(a.a)+n,t.abrupt("return",Object(a.g)(i,e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(){return(u=Object(n.a)(o().mark((function t(e,r,n,i){var c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="/api/secured/v1/katappult/lifecycles/statesByAction?entityId="+e+"&fromState="+r+"&actionName="+n+"&containerId="+i,s="".concat(a.a)+c,t.abrupt("return",Object(a.c)(s));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(){return(l=Object(n.a)(o().mark((function t(e,r,n){var i,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="/api/secured/v1/katappult/lifecycles/updateMasterAttributes?containerId="+n+"&entityId="+e,c="".concat(a.a)+i,t.abrupt("return",Object(a.i)(c,r));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(){return(p=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycles/details?containerId="+r+"&entityId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(){return(h=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycles/allStatesOf?name="+e+"&containerId="+r,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return(d=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycles/transitions?entityId="+e+"&containerId="+r,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycleManaged/promote?containerId="+r+"&entityId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.f)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return(m=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycleManaged/denote?containerId="+r+"&entityId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.f)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(n.a)(o().mark((function t(e,r,n){var i,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="/api/secured/v1/katappult/lifecycleManaged/setState?state="+r+"&containerId="+n+"&entityId="+e,c="".concat(a.a)+i,t.abrupt("return",Object(a.f)(c));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){return(y=Object(n.a)(o().mark((function t(e,r,n,i){var c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="/api/secured/v1/katappult/lifecycleManaged/setStateWithComment?state="+r+"&containerId="+i+"&entityId="+e,s="".concat(a.a)+c,t.abrupt("return",Object(a.f)(s,JSON.stringify(n)));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(){return(g=Object(n.a)(o().mark((function t(e,r,n){var i,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="/api/secured/v1/katappult/lifecycleManaged/setStateFromExternalApp?state="+r+"&actionName="+n+"&entityId="+e,c="".concat(a.a)+i,t.abrupt("return",Object(a.f)(c));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(n.a)(o().mark((function t(e,r,n,i,c){var s,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="/api/secured/v1/katappult/lifecycleManaged/setLinkState?state="+n+"&linkClass="+i+"&containerId="+c+"&roleBid="+r+"&roleAid="+e,u="".concat(a.a)+s,t.abrupt("return",Object(a.f)(u));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return(w=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycleManaged/statesBySetState?containerId="+r+"&entityId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycleManaged/stateByPromote?containerId="+r+"&entityId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/lifecycleManaged/stateByDenote?containerId="+r+"&entityId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},228:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return c}));var n=r(25),a=r(33),o={userContext:{systemPreferences:[],userPreferences:[],rolesInApplicationContainer:[],rolesInWorkingContainer:[],applicationcContainer:{},workingContainer:{},userAccount:{},userDetails:{},sessionId:"not_authentified"}},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_USER_CONTEXT":var r=Object(a.a)(t,(function(t){t.userContext=e.payload}));return r;case"CLEAR_USER_CONTEXT":var i=Object(a.a)(t,(function(t){t.userContext=o.userContext}));return i;case"SET_USER_CONTEXT_NOT_AUTH":var c=Object(a.a)(t,(function(t){var e=Object(n.a)({},t.userContext);e.sessionId="not_authentified",t.userContext=e}));return c;default:return t}},c=function(t){return{type:"UPDATE_USER_CONTEXT",payload:t}}},229:function(t,e,r){"use strict";var n=r(13),a=r(14),o=r(16),i=r(15),c=r(1),s=r.n(c),u=function(t){Object(o.a)(r,t);var e=Object(i.a)(r);function r(t){return Object(n.a)(this,r),e.call(this,t)}return Object(a.a)(r,[{key:"getLockStatusDisplay",value:function(){var t,e;return!0===(this.props.workInfo&&!0===this.props.workInfo.isWorkingCopy)?(t=s.a.createElement("i",{className:"fa fa-unlock fa-md"}),e="workinfo-details workinfo-unlocked"):(t=s.a.createElement("i",{className:"fa fa-lock fa-md"}),e="workinfo-details workinfo-locked"),s.a.createElement("span",{className:e},t)}},{key:"getVersionDisplay",value:function(){var t="";return this.props.versionInfo||this.props.iterationInfo?(this.props.versionInfo&&(t=t.concat(this.props.versionInfo.versionId).concat(".")),this.props.iterationInfo&&(t=t.concat(this.props.iterationInfo.iterationNumber))):t="N/A",t}},{key:"getNumberOrReference",value:function(){return s.a.createElement(s.a.Fragment,null,this.props.number)}},{key:"render",value:function(){this.props.businessTypeDisplayName,this.props.lifecycleCurrentState;var t,e=this.props.displayName;this.props.description;return this.props.headerActionsProvider&&(t=this.props.headerActionsProvider()),s.a.createElement("div",{className:this.props.headerClassName},s.a.createElement("p",{className:"page-title"},e,this.props.number&&s.a.createElement("span",{className:"rev-contr-head-ref"},"\xa0[",this.getNumberOrReference(),"]\xa0"),s.a.createElement("span",null,"\xa0",this.getLockStatusDisplay())," \xa0",this.getVersionDisplay()),s.a.createElement("div",{className:"btn-toolbar"},t))}}]),r}(c.Component);e.a=u},283:function(t,e,r){"use strict";var n=r(69),a=r(1),o=r.n(a),i=r(72),c=r(133);function s(t){var e=Object(a.useState)(),r=Object(n.a)(e,2),s=r[0],u=r[1];Object(a.useEffect)((function(){var e=t.contentHolderId;i.a.contentInfos(e,"primary",t.containerId).then((function(t){u(t.data)}))}),[t.contentHolderId]);var l=function(){var e=t.contentHolderId;i.a.contentInfos(e,"primary",t.containerId).then((function(t){u(t.data)}))};if(s&&s.length>0){var p=s[0],h=!!t.displayContentSize&&t.displayContentSize,d=p.attributes.contentFormat?p.attributes.contentFormat.mimeType:"",f=t.contentHolderFileName?t.contentHolderFileName:"Contenu primaire";return o.a.createElement("div",{className:"content-holder-primary-info",style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("div",null,o.a.createElement("div",null,f),o.a.createElement("div",null,d),h&&o.a.createElement("div",null,p.attributes.contentSize," octet(s)")),o.a.createElement("div",null,o.a.createElement(c.a,{onUploadSuccess:l,containerId:t.containerId,contentHolderId:t.contentHolderId,canUpload:t.canUpload})))}return o.a.createElement("div",{className:"content-holder-primary-info",style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("p",null,"Pas de contenu primaire"),o.a.createElement(c.a,{onUploadSuccess:l,noContent:!0,containerId:t.containerId,contentHolderId:t.contentHolderId,canUpload:t.canUpload}))}s.defaultProps={},e.a=s},29:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(9),a=r(3);function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(x){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var p={};function h(){}function d(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var i={lock:function(t,e){var r="/api/secured/v1/katappult/principals/account/lock?containerId="+e+"&accountId="+t,n="".concat(a.a)+r;return Object(a.f)(n)},unlock:function(t,e,r){var n={lockToken:e||""},o=Object(a.j)(n),i="/api/secured/v1/katappult/principals/account/unlock?containerId="+r+"&accountId="+t+"&".concat(o),c="".concat(a.a)+i;return Object(a.f)(c)},resetPassword:function(t,e){var r="/api/secured/v1/katappult/principals/account/resetPassword?containerId="+e+"&accountId="+t,n="".concat(a.a)+r;return Object(a.i)(n)},updatePassword:function(t,e,r){var n="/api/secured/v1/katappult/principals/account/updatePassword?containerId="+r+"&accountId="+t,o="".concat(a.a)+n;return Object(a.i)(o,e)},lostPassword:function(t){var e="/api/anon/v1/katappult/security/auth/lostPassword?login="+t,r="".concat(a.a)+e;return Object(a.c)(r)},updateLostPasswordByUser:function(t,e){var r="/api/anon/v1/katappult/security/auth/resetPassword?token="+t,n="".concat(a.a)+r;return Object(a.i)(n,e)},accountDetails:function(t,e){var r="/api/secured/v1/katappult/principals/account/details?containerId="+e+"&accountId="+t,n="".concat(a.a)+r;return Object(a.c)(n)},accountOfParty:function(t,e){var r={partyId:t},n=Object(a.j)(r),o="/api/secured/v1/katappult/principals/account?containerId="+e+"&"+n,i="".concat(a.a)+o;return Object(a.c)(i)},updatePersonProfile:function(t,e,r){var n="/api/secured/v1/katappult/person/update?containerId="+r+"&id="+t,o="".concat(a.a)+n;return Object(a.i)(o,e)},updateOrgProfile:function(t,e,r){var n="/api/secured/v1/katappult/organization?containerId="+r+"&id="+t,o="".concat(a.a)+n;return Object(a.i)(o,e)},activateAccount:function(t,e,r){var n="/katappult/security/inactive/auth/activateAccount?login="+t,o="".concat(a.a)+n;return Object(a.f)(o,JSON.stringify(e))},registerPersonWithAccount:function(t){var e="".concat(a.a)+"/api/secured/v1/katappult/person/create";return Object(a.f)(e,JSON.stringify(t))},registerOrgWithAccount:function(t){var e="".concat(a.a)+"/api/secured/v1/katappult/organization/";return Object(a.f)(e,JSON.stringify(t))},registerPersonWithAccountAnon:function(t){var e="".concat(a.a)+"/katappult/people/v1/anon/api/person/register";return Object(a.f)(e,JSON.stringify(t))},registerOrgWithAccountAnon:function(t){var e="".concat(a.a)+"/api/secured/v1/katappult/organization/register/";return Object(a.f)(e,JSON.stringify(t))},containersMembership:function(t,e){var r="/api/secured/v1/katappult/principals/account/containersMembership?containerId="+e+"&accountId="+t,n="".concat(a.a)+r;return Object(a.c)(n)},isUserInContainer:function(t,e){var r="/api/secured/v1/katappult/principals/account/containersMembership/isMember?containerId="+e+"&accountId="+t,n="".concat(a.a)+r;return Object(a.c)(n)},addContainerMembership:function(t,e){var r="/api/secured/v1/katappult/principals/account/containersMembership?containerId="+e+"&accountId="+t,n="".concat(a.a)+r;return Object(a.f)(n)},removeContainerMembership:function(t,e){var r="/api/secured/v1/katappult/principals/account/containersMembership?containerId="+e+"&accountId="+t,n="".concat(a.a)+r;return Object(a.b)(n)},ownerType:function(t,e){return c.apply(this,arguments)},ownersName:function(t,e){return s.apply(this,arguments)},isValidAccountLockToken:function(t){var e="/api/anon/v1/katappult/security/auth/isValidAccountLockToken?token="+t,r="".concat(a.a)+e;return Object(a.c)(r)}};function c(){return(c=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/principals/account/ownerType?containerId="+r+"&accountId="+e,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function s(){return(s=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/api/secured/v1/katappult/principals/account/ownersName?ownersLogin="+e+"&containerId="+r,i="".concat(a.a)+n,t.abrupt("return",Object(a.c)(i));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},3:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return p})),r.d(e,"j",(function(){return h})),r.d(e,"f",(function(){return d})),r.d(e,"g",(function(){return f})),r.d(e,"h",(function(){return m})),r.d(e,"c",(function(){return v})),r.d(e,"e",(function(){return y})),r.d(e,"d",(function(){return g})),r.d(e,"i",(function(){return b})),r.d(e,"b",(function(){return w}));r(301);var n=r(9),a=r(12);r(302);function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(x){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var p={};function h(){}function d(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var i,c=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_VERSION:"1.0-SNAPSHOT",REACT_APP_CLIENT_LOGIN_URL:"/login.xhtml",REACT_APP_ROUTER_BASE:"/",REACT_APP_CONTEXT_ROOT:"",REACT_APP_BUILD_VERSION:"",REACT_APP_BUILD_DATETIME:"202301171856",REACT_APP_CLIENT_ROOT_URL:"/home.xhtml"}).REACT_APP_PROXY_URL,s=window&&window.location&&window.location.hostname,u=window&&window.location&&window.location.port,l=window&&window.location&&window.location.origin;c?i=c:/^localhost/.test(s)&&u&&("3000"===u||"3001"===u)?("3000"===u&&(i="http://".concat(s,":8080")),"3001"===u&&(i="http://".concat(s,":8081"))):i="".concat(l);var p=i,h=function(t){return Object.keys(t).map((function(e){return"".concat(e,"=").concat(encodeURI(t[e]))})).join("&")},d=function(){var t=Object(n.a)(o().mark((function t(e,r,n){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.replace(":containerId","_replace_this_"),!r){t.next=5;break}return t.abrupt("return",fetch(E(i),{timeout:n&&n.timeout?n.timeout:15e3,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()},body:r}).then((function(t){return O(t),t.json()})));case 5:return t.abrupt("return",fetch(E(i),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()}}).then((function(t){return O(t),t.json()})));case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),f=function(){var t=Object(n.a)(o().mark((function t(e,r,n){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.replace(":containerId","_replace_this_"),!r){t.next=3;break}return t.abrupt("return",fetch(E(i),{method:"POST",headers:{Accept:"application/json",Authorization:a.a.authorizationCookie()},body:r}).then((function(t){return O(t),t.json()})));case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),m=function(){var t=Object(n.a)(o().mark((function t(e,r,n){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.replace(":containerId","_replace_this_"),!r){t.next=5;break}return t.abrupt("return",fetch(E(i),{timeout:n&&n.timeout?n.timeout:15e3,method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()},body:r}));case 5:return t.abrupt("return",fetch(E(i),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()}}));case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),v=function(){var t=Object(n.a)(o().mark((function t(e,r,n,i){var c,s,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=E(c=e.replace(":containerId","_replace_this_")),t.next=4,fetch(c,{timeout:i&&i.timeout?i.timeout:15e3,method:"GET",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:n||a.a.authorizationCookie()}}).then((function(t){return t}));case 4:if(O(s=t.sent),200!==s.status){t.next=12;break}return t.next=9,s.json();case 9:u=t.sent,t.next=13;break;case 12:204===s.status?u={error:"204"}:s&&500===s.status&&(u={error:"500"});case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}}),t)})));return function(e,r,n,a){return t.apply(this,arguments)}}(),y=function(){var t=Object(n.a)(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.replace(":containerId","_replace_this_"),t.abrupt("return",fetch(E(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()}}).then((function(t){return O(t),t.text()})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(n.a)(o().mark((function t(e){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.replace(":containerId","_replace_this_"),t.abrupt("return",fetch(E(r),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/octet-stream",Authorization:a.a.authorizationCookie()}}).then((function(t){return 200!=t.status?null:(O(t),t.blob())})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(n.a)(o().mark((function t(e,r,n){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.replace(":containerId","_replace_this_"),!r){t.next=5;break}return t.abrupt("return",fetch(E(i),{timeout:n&&n.timeout?n.timeout:15e3,method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()},body:JSON.stringify(r)}).then((function(t){return O(t),t.json()})));case 5:return t.abrupt("return",fetch(E(i),{timeout:n&&n.timeout?n.timeout:15e3,method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()}}).then((function(t){return O(t),t.json()})));case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),w=function(){var t=Object(n.a)(o().mark((function t(e,r,n){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.replace(":containerId","_replace_this_"),!r){t.next=5;break}return t.abrupt("return",fetch(E(i),{timeout:n&&n.timeout?n.timeout:15e3,method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()},body:JSON.stringify(r)}).then((function(t){return O(t),t.json()})));case 5:return t.abrupt("return",fetch(E(i),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:a.a.authorizationCookie()}}).then((function(t){return O(t),t.json()})));case 6:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();function E(t){return t.includes("/api/anon/v1/katappult/security/auth/login")&&t,t.includes("/v1/anon/auth/lostPassword")&&t,t.includes("/v1/anon/auth/resetPassword")&&t,(t.includes("?")?t+"&lang=fr":t+"?lang=fr").replace(/([^:])(\/{2,})/g,"$1/")}function O(t){!t||511!==t&&511!==t.status||function(){a.a.authorizationCookie()&&a.a.katappult_core_logout();window.location.href="/login.xhtml",window.location.reload(!0)}()}}).call(this,r(531).Buffer)},302:function(t){t.exports=JSON.parse('{"name":"1001parents","version":"1.0.0","description":"Application generated from Katappult","author":"NEXITIA TECHNOLOGIES","copyright":"Copyright 2022 KATAPPULT","license":"Apache","private":true,"homepage":"https://localhost:8080/","repository":{"type":"git","url":"https://github.com/"},"dependencies":{"babel-register":"^6.26.0","bootstrap":"^4.4.1","chart.js":"^3.4.1","classnames":"^2.2.6","core-js":"^3.6.4","draft-js":"^0.11.6","draftjs-to-html":"^0.9.1","enzyme-adapter-react-16":"^1.15.2","file-saver":"^2.0.2","flag-icon-css":"^3.4.6","font-awesome":"^4.7.0","history":"^4.10.1","immer":"^5.3.4","jquery":"^3.5.0","moment":"2.24.0","prismjs":"^1.20.0","prop-types":"^15.7.2","radium":"^0.26.1","rc-tree":"^2.1.3","rc-trigger":"^3.0.0","react":"^17.0.2","react-accessible-accordion":"^3.3.4","react-animations":"^1.0.0","react-app-polyfill":"^1.0.6","react-bootstrap":"1.0.0-beta.16","react-chartjs-2":"^3.0.4","react-chrono":"^1.12.1","react-datepicker":"^2.11.0","react-dom":"^17.0.2","react-draft-wysiwyg":"^1.14.5","react-dropzone":"^10.2.1","react-event-timeline":"^1.6.3","react-file-previewer":"^0.6.3","react-icons":"^3.10.0","react-image":"^2.3.0","react-images-upload":"^1.2.7","react-input-range":"^1.3.0","react-jsonschema-form":"^1.8.1","react-markdown":"^4.3.1","react-native-cookies":"^3.3.0","react-overlays":"^3.2.0","react-redux":"^7.1.3","react-router-config":"^5.1.1","react-router-dom":"^5.1.2","react-sidebar":"^3.0.2","react-simple-code-editor":"^0.11.0","react-test-renderer":"^17.0.2","react-toastify":"^5.5.0","react-xml-viewer":"^1.0.3","reactstrap":"^8.4.1","redux":"^4.0.5","simple-line-icons":"^2.4.1","styled-components":"^5.2.1","universal-cookie":"^4.0.3"},"devDependencies":{"cross-env":"^7.0.3","enzyme":"^3.11.0","eslint-plugin-flowtype":"^3.13.0","expect":"^25.1.0","jsdom":"^16.1.0","mocha":"^7.0.1","query-string":"^7.0.1","react-scripts":"^3.3.1"},"scripts":{"start":"cross-env REACT_APP_CONTEXT_ROOT=/ REACT_APP_CLIENT_ROOT_URL=/home.xhtml REACT_APP_VERSION=1.0-SNAPSHOT PORT=3000 react-scripts start","build":"CI=false && react-scripts build","test:cov":"npm test --coverage --watchAll=false","test:debug":"react-scripts --inspect-brk test --runInBand","eject":"react-scripts eject","test":"mocha --reporter spec testSetup.js \\"src/_components/Contactable/Contactable.test.js\\""},"bugs":{"url":"https://github.com/issues"},"eslintConfig":{"extends":"react-app"},"browserslist":[">0.2%","not dead","not ie <= 9","not op_mini all"],"jest":{"collectCoverageFrom":["src/**/*.{js,jsx}","!**/*index.js","!src/serviceWorker.js","!src/polyfill.js"]}}')},31:function(t,e,r){"use strict";r.d(e,"k",(function(){return n})),r.d(e,"j",(function(){return a})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"b",(function(){return c})),r.d(e,"l",(function(){return s})),r.d(e,"m",(function(){return u})),r.d(e,"n",(function(){return l})),r.d(e,"f",(function(){return p})),r.d(e,"i",(function(){return h})),r.d(e,"g",(function(){return d})),r.d(e,"h",(function(){return f})),r.d(e,"a",(function(){return m})),r.d(e,"c",(function(){return v}));var n="SET_USER_WORKING_CONTAINER",a="SET_APPLICATION_CONTAINER",o="LOGIN_USER",i="LOGOUT_USER",c="DOLOGIN_USER",s="USER_ACCOUNT_LOCKED",u="USER_ACCOUNT_UNLOCKED",l="USER_ACCOUNT_UPDATE_PASS",p="SEARCHTERM_UPDATE",h="SEARCH_RESULTS",d="SEARCH_HEADER_COMP_SEARCHTERM_UPDATE",f="SEARCH_HEADER_COMP_SEARCH_RESULTS",m="BUSINESS_RULES_SEARCHCRITERIAS_UPDATE",v="ENUMERATIONS_SELECTION_UPDATE"},333:function(t,e,r){t.exports=r.p+"static/media/profile.9dc38257.png"},339:function(t,e,r){t.exports=r(630)},446:function(t,e){!function(){if("function"===typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}t.prototype=window.Event.prototype,window.CustomEvent=t}()},454:function(t,e,r){},471:function(t,e,r){},472:function(t,e,r){},55:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(12),a={clientSideRenderedURL:function(t){return"/backOffice/#"+t},backOfficeViewURL:function(t,e,r){var a="/view?tab="+n.a.getValueFromUrl("tab")+"&name="+e;r&&r.map((function(t){a=a+"&"+t}));return a},backOfficeHomeURL:function(){return"/backoffice/#/view?tab=platform&name=businessRules"},backOfficeRealViewURL:function(t,e,r){var n="/view?tab="+t+"&name="+e;r&&r.map((function(t){n=n+"&"+t}));return n}}},628:function(t,e,r){},630:function(t,e,r){"use strict";r.r(e),r.d(e,"store",(function(){return N})),r.d(e,"SW_INIT",(function(){return S})),r.d(e,"SW_UPDATE",(function(){return P}));var n=r(25),a=(r(340),r(267),r(446),r(1)),o=r.n(a),i=r(34),c=r.n(i),s=r(44),u=r(219),l=r(50),p=r(37),h=r(48),d=r(138),f=(r(627),r(628),o.a.lazy((function(){return r.e(11).then(r.bind(null,1365))}))),m=o.a.lazy((function(){return r.e(12).then(r.bind(null,1366))})),v=Object(h.a)();var y=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{history:v},o.a.createElement(o.a.Suspense,{fallback:o.a.createElement("div",{className:"animated fadeIn pt-3 text-center"},o.a.createElement(d.C,null))},o.a.createElement(p.d,null,o.a.createElement(p.b,{exact:!0,path:"/login",name:"Login",render:function(t){return o.a.createElement(m,t)}}),o.a.createElement(p.b,{exact:!0,path:"/logout",name:"Logout",render:function(t){return o.a.createElement(m,t)}}),o.a.createElement(p.b,{path:"/view",name:"Back office",component:f}),o.a.createElement(p.b,{path:"*",name:"Unkown",component:f},o.a.createElement(p.a,{to:{pathname:"/view?tab=platform&view=businessRules"}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=r(31),b=r(33),w={},E={},O={},k={},j={appConfig:{currentPageTitle:""}},C={},L={config:{viewName:"emailTemplates",location:"R\xe8gles m\xe9tiers",breadItems:[{href:"#",title:"R\xe8gles m\xe9tiers"}],viewMode:"viewList",menuGroup:"platformAdministration"}},x=r(228),I=Object(u.a)({searchMembers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g.f:var r=Object(b.a)(t,(function(t){t.searchTerm=e.payload.searchTerm,t.searchType=e.payload.searchType}));return r;case g.i:var n=Object(b.a)(t,(function(t){t.searchResults=e.payload}));return n;default:return t}},searchBusinessRules:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g.a:var r=Object(b.a)(t,(function(t){t.rules=e.payload.rules,t.types=e.payload.types,t.businessType=e.payload.businessType,t.businessClass=e.payload.businessClass,t.searchTerm=e.payload.searchTerm}));return r;default:return t}},enumerations:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g.c:var r=Object(b.a)(t,(function(t){t.en=e.payload[0],t.fr=e.payload[1]}));return r;default:return t}},headerSearchComp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g.g:var r=Object(b.a)(t,(function(t){t.searchTerm=e.payload.searchTerm,t.criterias=e.payload.criterias}));return r;case g.h:var n=Object(b.a)(t,(function(t){t.searchResults=e.payload}));return n;default:return t}},applicationConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"UPDATE_APPLICATION_PROPERTIES_PAGE_TITLE":var r=Object(b.a)(t,(function(t){t.currentPageTitle=e.payload}));return r;case"APPLICATION_SET_ADMIN_HOME_ACTIVE_TAB":var n=Object(b.a)(t,(function(t){t.adminHome=e.payload}));return n;case"APPLICATION_UPDATE_LIFECYCLE_NAV_CRITERIAS":var a=Object(b.a)(t,(function(t){t.lifecycleNavCriterias=e.payload}));return a;case"APPLICATION_UPDATE_EMAIL_TEMPLATES_NAV_CRITERIAS":var o=Object(b.a)(t,(function(t){t.emailTemplatesNavCriterias=e.payload}));return o;default:return t}},imagesCaches:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_BASE64_IMAGE_TO_CACHE":var r=Object(b.a)(t,(function(t){t[e.payload.key]=e.payload.image}));return r;case"CLEAR_IMAGE_CACHE":Object(b.a)(t,(function(t){}));return C;default:return t}},navigationConfig:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_ADMIN_HOME_ACTIVE_TAB":var r=Object(b.a)(t,(function(t){t.config=e.payload,t.config.activeMenu=e.payload.viewName}));return r;default:return t}},userContextStore:x.b,rootReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(n.a)(Object(n.a)({},t),{},{serviceWorkerInitialized:!t.serviceWorkerInitialized});case P:return Object(n.a)(Object(n.a)({},t),{},{serviceWorkerUpdated:!t.serviceWorkerUpdated,serviceWorkerRegistration:e.payload});default:return t}},serviceWorkerInitialized:!1,serviceWorkerUpdated:!1,serviceWorkerRegistration:null}),N=Object(u.b)(I),S="SW_INIT",P="SW_UPDATE";c.a.render(o.a.createElement(s.a,{store:N},o.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},66:function(t,e,r){"use strict";r.d(e,"e",(function(){return a})),r.d(e,"f",(function(){return o})),r.d(e,"g",(function(){return i})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return s})),r.d(e,"a",(function(){return u})),r.d(e,"b",(function(){return l}));var n=r(31),a=function(t){return{type:n.l,payload:t}},o=function(t){return{type:n.m,payload:t}},i=function(t){return{type:n.n,payload:t}},c=function(t){return{type:n.f,payload:t}},s=function(t){return{type:n.i,payload:t}},u=function(t){return{type:n.a,payload:t}},l=function(t){return{type:n.c,payload:t}}},72:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(9),a=r(3);function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(x){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var p={};function h(){}function d(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var i={downloadPrimaryContent:function(t,e){var r="/api/secured/v1/katappult/contentHolder/downloadContent?role=primary&containerId="+e+"&contentHolderId="+t,n="".concat(a.a)+r;return Object(a.e)(n)},downloadPrimaryContentBlob:function(t,e){var r="/api/secured/v1/katappult/contentHolder/downloadContent?role=primary&containerId="+e+"&contentHolderId="+t,n="".concat(a.a)+r;return Object(a.d)(n)},downloadAttachment:function(t,e){},contentInfos:function(t,e,r){var n="/api/secured/v1/katappult/contentHolder/getContentInfo?role="+e+"&containerId="+r+"&contentHolderId="+t,o="".concat(a.a)+n;return Object(a.c)(o)},setPrimaryContentFile:function(t,e,r){var n="/api/secured/v1/katappult/contentHolder/setContentFile?role=primary&containerId="+r+"&contentHolderId="+t,o="".concat(a.a)+n;return Object(a.g)(o,e)},addAttachment:function(t,e){return c.apply(this,arguments)},deletePrimaryContent:function(t,e){var r="/api/secured/v1/katappult/contentHolder/deleteContent?role=primary&containerId="+e+"&contentHolderId="+t,n="".concat(a.a)+r;return Object(a.b)(n)}};function c(){return(c=Object(n.a)(o().mark((function t(e,r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},78:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(9),a=r(3);function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(x){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new j(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var p={};function h(){}function d(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,c){var s=l(t[a],t,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(p).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=f,s(g,"constructor",f),s(f,"constructor",d),d.displayName=s(f,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},b(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var i={login:function(t){var e="".concat(a.a,"/api/anon/v1/katappult/security/auth/login"),r="{'username': '".concat(t.login).concat("',").concat("'password': '").concat(t.password).concat("'}");return Object(a.h)(e,r)},logout:function(){var t="".concat(a.a,"/api/secured/v1/katappult/security/auth/logout");return Object(a.f)(t)},loginAsAnon:function(){var t="".concat(a.a,"/api/anon/v1/katappult/security/auth/login"),e="{'username': '".concat("epanon").concat("',").concat("'password': '").concat("epadmin").concat("'}");return Object(a.h)(t,e)},postLogin:function(t,e){return c.apply(this,arguments)}};function c(){return(c=Object(n.a)(o().mark((function t(e,r){var n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r||"",i="".concat(a.a,"/api/secured/v1/katappult/security/auth/postlogin?defaultContainerId=").concat(n),t.abrupt("return",Object(a.c)(i,e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},96:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(3),a={checkin:function(t,e,r){var a="/api/secured/v1/katappult/workables/checkin?containerId="+r+"&workableId="+t,o="".concat(n.a)+a;return Object(n.f)(o,{comment:"no comment"})},checkout:function(t,e,r,a){var o="/api/secured/v1/katappult/workables/checkout?containerId="+a+"&workableId="+t+"&idOnly="+e,i="".concat(n.a)+o;return Object(n.f)(i)},undoCheckout:function(t,e,r){var a="/api/secured/v1/katappult/workables/undoCheckout?containerId="+r+"&workableId="+t,o="".concat(n.a)+a;return Object(n.f)(o)},workingCopy:function(t,e,r){var a="/api/secured/v1/katappult/rc/workingCopy?containerId="+r+"&workableId="+t+"&idOnly="+e,o="".concat(n.a)+a;return Object(n.c)(o)},originalCopy:function(t,e,r){var a="/api/secured/v1/katappult/workables/originalCopy?containerId="+r+"&workableId="+t+"&idOnly="+e,o="".concat(n.a)+a;return Object(n.c)(o)}}},97:function(t,e,r){"use strict";var n=r(128),a=r(25),o=r(13),i=r(14),c=r(5),s=r(16),u=r(15),l=r(1),p=r.n(l),h=r(647),d=r(220),f=r(644),m=r(12),v=r(645),y=r(646),g=function(t){Object(s.a)(r,t);var e=Object(u.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).state={mode:"view",items:t.items,initalItems:t.items},n.moveDown=n.moveDown.bind(Object(c.a)(n)),n.moveUp=n.moveUp.bind(Object(c.a)(n)),n.delete=n.delete.bind(Object(c.a)(n)),n.save=n.save.bind(Object(c.a)(n)),n.footerActions=n.footerActions.bind(Object(c.a)(n)),n.add=n.add.bind(Object(c.a)(n)),n.edit=n.edit.bind(Object(c.a)(n)),n.cancel=n.cancel.bind(Object(c.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(c.a)(n)),n.isEditing=n.isEditing.bind(Object(c.a)(n)),n}return Object(i.a)(r,[{key:"handleFormChange",value:function(t){var e=t.target.name.split("_")[0],r=t.target.name.split("_")[1],n=this.state.items.slice();n[r][e]=t.target.value,this.setState({items:n})}},{key:"cancel",value:function(t){t.preventDefault();var e=this.state.initalItems.slice();if(this.setState({items:e,mode:"view"}),this.props.wrapInform){var r=document.getElementById(this.props.wrapInform);r&&r.reset()}}},{key:"save",value:function(t){t.preventDefault();var e=this.state.items.slice();this.setState({mode:"view",initalItems:e}),this.props.attributesListConfig.onSubmit(e)}},{key:"add",value:function(t){t.preventDefault();var e=this.state.items.slice();e[e.length]=m.a.clone(this.props.newObjectFormData),this.setState({items:e})}},{key:"moveUp",value:function(t,e){t.preventDefault();var r=this.state.items.slice(),n=r.indexOf(e);r.splice(n,1);var a=n-1;a<0?r.splice(r.length+1,0,e):r.splice(a,0,e),this.setState({items:r})}},{key:"moveDown",value:function(t,e){t.preventDefault();var r=this.state.items.slice(),n=r.indexOf(e);r.splice(n,1);var a=n+1;a===r.length?r.splice(r.length,0,e):a>r.length?r.splice(0,0,e):r.splice(a,0,e),this.setState({items:r})}},{key:"delete",value:function(t,e){t.preventDefault();var r=this.state.items.slice(),n=r.indexOf(e);r.splice(n,1),this.setState({items:r})}},{key:"edit",value:function(t){t.preventDefault(),this.setState({mode:"edit"})}},{key:"isEditing",value:function(){return this.state.mode&&"edit"===this.state.mode}},{key:"rowActions",value:function(t,e){var r=this;return this.isEditing()?p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{align:"right",colspan:e||4},p.a.createElement("table",{width:"100%"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{align:"right",colspan:"2"},p.a.createElement(v.a,{className:"btn-toolbar-right"},p.a.createElement(y.a,{onClick:function(e){return r.moveUp(e,t)}},p.a.createElement("i",{className:"fa fa-arrow-circle-up"})),p.a.createElement(y.a,{onClick:function(e){return r.moveDown(e,t)}},p.a.createElement("i",{className:"fa fa-arrow-circle-down"})),p.a.createElement(y.a,{onClick:function(e){return r.delete(e,t)}},p.a.createElement("i",{className:"fa fa-trash"})," Supprimer"))))))))):p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null))}},{key:"footerActions",value:function(){var t=this;return this.isEditing()?p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"btn-toolbar-right"},p.a.createElement(y.a,{onClick:function(e){return t.save(e)}},p.a.createElement("i",{className:"fa fa-save"})," Sauvegarder"),p.a.createElement(y.a,{onClick:function(e){return t.cancel(e)}},p.a.createElement("i",{className:"fa fa-undo"})," Annuler"),p.a.createElement(y.a,{onClick:function(e){return t.add(e)}},p.a.createElement("i",{className:"fa fa-plus"})," Ajouter"))):!0===this.props.canEdit?p.a.createElement("div",{className:"btn-toolbar-right"},p.a.createElement(y.a,{onClick:function(e){return t.edit(e)}},p.a.createElement("i",{className:"fa fa-edit"}),"\xa0MODIFIER")):""}},{key:"render",value:function(){var t=this;if(this.state.items&&0===this.state.items.length)return p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{colspan:"3"},p.a.createElement("div",{className:"empty-pane"},p.a.createElement("strong",null,"Pas d'\xe9l\xe9ments"),this.footerActions(this.props.attribute)))));var e=[],r=0;if("true"===this.props.firstRowLabel&&this.props.attribute.items.attributes.map((function(t){var r=t.name;e.push(p.a.createElement("td",null,p.a.createElement("strong",null,r)))})),this.state.items&&this.state.items.map((function(n){var a=[];t.props.attribute.items.attributes.map((function(e){var o=e.dataField+"_"+r,i=m.a.getPropByString(n,e.dataField),c=m.a.getInputType(e);t.isEditing()?a.push(p.a.createElement("td",null,p.a.createElement(h.a,{type:c,defaultValue:i,name:o,onChange:function(e){return t.handleFormChange(e)}}))):a.push(p.a.createElement("td",null,p.a.createElement(d.a,null,i)))})),e.push(p.a.createElement("tr",null,a)),e.push(t.rowActions(n,0,t.props.attribute)),r++})),e.push(p.a.createElement("tr",null,p.a.createElement("td",{colSpan:4},this.footerActions(this.props.attribute)))),this.props.wrapInform){var n=this.props.wrapInform;return p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{colSpan:1},p.a.createElement("form",{id:n},p.a.createElement(f.a,{size:"sm",borderless:!0,className:"noBorder"},p.a.createElement("tbody",null,e))))))}return p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{colSpan:1},p.a.createElement(f.a,{size:"sm",borderless:!0,className:"noBorder"},p.a.createElement("tbody",null,e)))))}}]),r}(l.Component);g.defaultProps={items:[],firstRowLabel:!1};var b=g,w=function(t){Object(s.a)(r,t);var e=Object(u.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).state={editingItems:[],items:t.items,initalItems:t.items,addingNewItem:!1},n.delete=n.delete.bind(Object(c.a)(n)),n.save=n.save.bind(Object(c.a)(n)),n.footerActions=n.footerActions.bind(Object(c.a)(n)),n.add=n.add.bind(Object(c.a)(n)),n.edit=n.edit.bind(Object(c.a)(n)),n.cancel=n.cancel.bind(Object(c.a)(n)),n.isEditingThisItem=n.isEditingThisItem.bind(Object(c.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(c.a)(n)),n}return Object(i.a)(r,[{key:"handleFormChange",value:function(t,e){var r=this.state.editingItems.slice();r[m.a.indexOfItemInArray(e,r)][t.target.name]=t.target.value,this.setState({editingItems:r})}},{key:"cancel",value:function(t,e,r){if(t.preventDefault(),e.id){var n=this.state.editingItems.slice(),a=this.state.initalItems.slice(),o=this.state.items.slice(),i=m.a.indexOfItemInArray(e,a),c=m.a.indexOfItemInArray(e,n),s=m.a.indexOfItemInArray(e,o);n.splice(c,1),o[s]=a[i],this.setState({editingItems:n}),document.getElementById(r).reset()}}},{key:"save",value:function(t,e,r){t.preventDefault();var n=this.state.editingItems.slice(),a=this.state.initalItems.slice(),o=this.state.items.slice(),i=m.a.indexOfItemInArray(e,a),c=m.a.indexOfItemInArray(e,n),s=m.a.indexOfItemInArray(e,o),u=JSON.parse(JSON.stringify(n[c]));o[s]=u,a[i]=u,n.splice(c,1),this.setState({editingItems:n,initalItems:a,items:o,addingNewItem:!1})}},{key:"add",value:function(t){t.preventDefault();var e=this.state.editingItems.slice(),r=this.state.items.slice(),n=m.a.clone(this.props.newObjectFormData);e[e.length]=n,r[r.length]=n,this.setState({editingItems:e,items:r,addingNewItem:!0})}},{key:"delete",value:function(t,e){t.preventDefault();var r=this.state.items.slice(),n=r.indexOf(e);r.splice(n,1),this.setState({items:r})}},{key:"edit",value:function(t,e){if(t.preventDefault(),!this.isEditingThisItem(e)){var r=this.state.editingItems.slice(),n=JSON.parse(JSON.stringify(e));r.push(n),this.setState({editingItems:r})}}},{key:"isEditingThisItem",value:function(t){var e=!1;return this.state.editingItems.map((function(r){r.id===t.id&&(e=!0)})),e}},{key:"rowActions",value:function(t,e){var r=this;return this.isEditingThisItem(t)?p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{align:"right",colspan:"2"},p.a.createElement("table",{width:"100%"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{align:"right",colspan:"2"},p.a.createElement(v.a,null,p.a.createElement(y.a,{className:"katappult-btn",color:"warning",size:"xs",onClick:function(n){return r.cancel(n,t,e)}},p.a.createElement("i",{className:"fa fa-rotate-left"})," Annuler"),p.a.createElement(y.a,{className:"katappult-btn",color:"warning",size:"xs",onClick:function(e){return r.save(e,t)}},p.a.createElement("i",{className:"fa fa-save"})," Sauvegarder"),p.a.createElement(y.a,{className:"katappult-btn",color:"warning",size:"xs",onClick:function(e){return r.delete(e,t)}},p.a.createElement("i",{className:"fa fa-trash"})," Supprimer"))))))))):p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{align:"right",colspan:"2"},p.a.createElement("table",{width:"100%"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{align:"right",colspan:"2"},p.a.createElement(v.a,null,p.a.createElement(y.a,{className:"katappult-btn",color:"warning",size:"xs",onClick:function(e){return r.edit(e,t)}},p.a.createElement("i",{className:"fa fa-edit"})," Modifier"),p.a.createElement(y.a,{className:"katappult-btn",color:"warning",size:"xs",onClick:function(e){return r.delete(e,t)}},p.a.createElement("i",{className:"fa fa-trash"})," Supprimer")))))))))}},{key:"footerActions",value:function(){var t=this;return this.state.addingNewItem?p.a.createElement(p.a.Fragment,null,p.a.createElement("div",null)):p.a.createElement(p.a.Fragment,null,p.a.createElement(y.a,{block:!0,className:"katappult-btn",color:"white",size:"md",onClick:function(e){return t.add(e)}},p.a.createElement("i",{className:"fa fa-plus"})," AJouter"))}},{key:"render",value:function(){var t=this,e=p.a.createElement("tr",null,p.a.createElement("td",{colspan:"3",align:"right"},this.footerActions(this.props.attribute)));if(this.state.items&&0===this.state.items.length){var r=[];return r.push(p.a.createElement("div",null,p.a.createElement("strong",null,"This section is empty."))),r.push(e),r}var n=[];if(this.props.attribute.items&&this.props.attribute.items.attributes){var a=11;this.state.items.map((function(e){var r="katappult_array_form_"+a;a++;var o,i=[];t.props.attribute.headerActions&&(o=t.props.attribute.headerActions());var c=t.props.attribute.title;t.props.attribute.arrayTitleProvider&&(c=t.props.attribute.arrayTitleProvider(e)),i.push(p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{colspan:"3"},p.a.createElement("label",{className:"katappult-form-title-level-1"},c),o)))),t.props.attribute.items.attributes.map((function(r){var n=r.name,a=m.a.getPropByString(e,r.dataField),o=m.a.getInputType(t.props.attribute);i.push(p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement("label",null,n)),p.a.createElement("td",null,p.a.createElement(h.a,{type:o,defaultValue:a,name:r.dataField,id:r.dataField,onChange:function(r){return t.handleFormChange(r,e)}}))))})),i.push(t.rowActions(e,r)),n.push(p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement("form",{id:r},p.a.createElement("table",{width:"100%"},p.a.createElement("tbody",null,i))))))})),n.push(e)}return p.a.createElement(p.a.Fragment,null,n)}}]),r}(l.Component);w.defaultProps={items:[]};var E=w,O=r(81),k=r(215),j=r.n(k),C=r(58),L=r.n(C),x=r(28),I=(r(473),function(t){Object(s.a)(r,t);var e=Object(u.a)(r);function r(t){var n;return Object(o.a)(this,r),(n=e.call(this,t)).standardFooterActions=function(t,e){var r=t+"_view",a=e.saveButtonTitle?e.saveButtonTitle:"Sauvegarder";return"edit"===n.state.formsState[r]||"create_object"===n.props.formMode?"create_object"===n.props.formMode?p.a.createElement(p.a.Fragment,null,n.props.additionalWizardLeftActions&&n.props.additionalWizardLeftActions(),p.a.createElement(x.a,{block:!0,className:e.saveButtonClassName,onClick:function(t){return n.standardSaveForm(t,r,e)}}," ",a,e.saveButtonIcon)):p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"float-right"},p.a.createElement(x.a,{onClick:function(t){return n.standardSaveForm(t,r,e)}}," ",p.a.createElement("i",{className:"fa fa-save"})," Enregistrer"),p.a.createElement(x.a,{onClick:function(t){return n.standardResetForm(t,r)}}," ",p.a.createElement("i",{className:"fa fa-undo"})," Annuler"))):n.state.formsState[r]&&"view"!==n.state.formsState[r]?void 0:n.props.canEdit?p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"float-right"},p.a.createElement(x.a,{onClick:function(t){return n.standardEditForm(t,r)}},p.a.createElement("i",{className:"fa fa-edit"})," Modifier"))):p.a.createElement("hr",null)},n.state={formsState:[],formValidated:!1,editingFormData:void 0===t.data?"{}":t.data.attributes,initialData:void 0===t.data?"{}":t.data,errors:[]},n.standardFooterActions=n.standardFooterActions.bind(Object(c.a)(n)),n.standardEditForm=n.standardEditForm.bind(Object(c.a)(n)),n.standardSaveForm=n.standardSaveForm.bind(Object(c.a)(n)),n.standardResetForm=n.standardResetForm.bind(Object(c.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(c.a)(n)),n.isEditing=n.isEditing.bind(Object(c.a)(n)),n}return Object(i.a)(r,[{key:"handleFileChange",value:function(t){}},{key:"handleFormChange",value:function(t,e,r,n){var o=Object(a.a)({},this.state.editingFormData),i=e||t.target.name;if(t&&t.target&&"checkbox"===t.target.type)if(t.target.name.startsWith("yes_no_"))o[i.split("yes_no_")[1]]=t.target.checked;else{var c=o[i]?o[i].split(";"):[];if(t.target.checked)c.push(t.target.value),o[i]=c.join(";");else if(c.length<=1)o[i]="";else{var s=c.indexOf(t.target.value);-1!==s&&c.splice(s,1),o[i]=c.join(";")}}else t&&t.target&&"radio"===t.target.type?o[i]=t.target.value:r&&"date"===r?o[i]=null!=t?L()(t).format("YYYYMMDD"):null:r&&"datetime"===r?o[i]=null!=t?L()(t).format("YYYYMMDDHHmmss"):null:(o[i]=t.target?t.target.value:t,"file"===t.target.type&&this.setState({masterFile:t.target.files[0]}));n?t.target.value.match(n)&&(this.props.onFormChange&&this.props.onFormChange(o),this.setState({editingFormData:o})):(this.props.onFormChange&&this.props.onFormChange(o),this.setState({editingFormData:o}))}},{key:"setFormDataValue",value:function(t,e){var r=Object(a.a)({},this.state.editingFormData);r[t]=e,this.setState({editingFormData:r})}},{key:"standardEditForm",value:function(t,e){t.preventDefault();var r=Object(n.a)(this.state.formsState);r[e]="edit",this.state.editingFormData?this.setState({formsState:r}):this.setState({formsState:r,editingFormData:{}})}},{key:"standardSaveForm",value:function(t,e,r){t.preventDefault(),r.processing&&r.processing();var o=Object(a.a)({},this.state.editingFormData);t.preventDefault(),t.stopPropagation();var i=[];if(r.formValidity&&(i=r.formValidity(o)),r.endProcessing&&r.endProcessing(),Object.keys(i).length>0)this.setState({errors:i});else{var c=Object(n.a)(this.state.formsState);if(c[e]="view",this.state.masterFile&&(o.masterFile=this.state.masterFile),r.onSubmit)r.onSubmit(o)&&this.setState({formsState:c,formValidated:!0})}}},{key:"standardResetForm",value:function(t,e){t.preventDefault();var r=this.state.formsState.slice();r[e]="view";var n=Object(a.a)({},this.state.initialData);this.setState({formsState:r,editingFormData:n.attributes});var o=document.getElementById(e.split("_view")[0]);o&&o.reset()}},{key:"processGroup",value:function(t){var e=this,r=[];if(t&&t.length>0){var n=0;t.map((function(a){var o=++n===t.length;if(a.type&&"custom"===a.type)a.displayComponent&&r.push(a.displayComponent());else if(a.type&&"object"===a.type)r.push(p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",{className:"noBorder"},p.a.createElement("td",{colSpan:"3"},p.a.createElement("div",{className:"spacer-20"}))),p.a.createElement("tr",{className:"noBorder"},p.a.createElement("td",{colSpan:"3",className:"paddingless"},p.a.createElement("label",{className:"katappult-form-title-level-1"},a.title))),p.a.createElement("tr",null))),a.items.map((function(t){r.push(e.simpleHRow(t))}));else if(!a.type||"objectarray"!==a.type&&"editableLabelObjectarray"!==a.type){var i=a.rowActions?a.rowActions():"";"horizontal"===e.props.orientation?i?r.push(e.actionableHRow(a)):r.push(e.simpleHRow(a,o)):r.push(e.simpleVRow(a,o))}else{var c;a.headerActions&&(c=a.headerActions());var s=a.title;(a.title||a.titleProvider)&&(s=a.title?a.title:a.titleProvider(),r.push(p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"3",className:"paddingless"},p.a.createElement("label",{className:"katappult-form-title-level-1"},s),p.a.createElement("div",{className:"float-right"},c)))))),r.push(e.simpleArrayRow(a))}}))}return r}},{key:"processHeader",value:function(){var t,e;return!0===this.props.displayHeader&&this.props.attributesListConfig.headerActions&&(e=this.props.attributesListConfig.headerActions()),!0===this.props.displayHeader&&this.props.attributesListConfig.title&&(t=p.a.createElement("tr",{width:"100%"},p.a.createElement("td",{colSpan:"3",className:"paddingless"},p.a.createElement("h3",{className:"form-title-level-0"},this.props.attributesListConfig.title),p.a.createElement("div",{className:"float-right"},e)))),!0===this.props.displayHeader&&this.props.attributesListConfig.titleProvider&&(t=p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"3",className:"paddingless"},p.a.createElement("h3",null,this.props.attributesListConfig.titleProvider()),p.a.createElement("div",{className:"float-right"},e)))),t}},{key:"simpleArrayRow",value:function(t){var e=this.props.data;if("objectarray"===t.type||"editableLabelObjectarray"===t.type){var r=m.a.getPropByString(e,t.dataField);if(r&&""!==r||(r=[]),"editableLabelObjectarray"===t.type){return p.a.createElement(b,Object.assign({},this.props,{canEdit:this.props.canEdit,items:r,attribute:t,wrapInform:"formid_array_group_1"}))}var n=p.a.createElement(E,Object.assign({},this.props,{items:r,attribute:t}));return p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"3"},p.a.createElement("table",{width:"100%",id:"dt-form"},p.a.createElement("tbody",null,n)))),p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"3"})))}}},{key:"rowActions",value:function(t){var e=t.items.rowActions?t.items.rowActions():"";return p.a.createElement("tr",null,p.a.createElement("td",{colspan:"2",align:"right"},e))}},{key:"simpleVRow",value:function(t){var e=this,r=this.state.editingFormData,n=m.a.getPropByString(r,t.dataField),a=t.type?t.type:"text",o=t.pattern;return p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",{className:"td-left"},p.a.createElement("td",null,t.name)),p.a.createElement("tr",{className:"td-left"},p.a.createElement("td",null,p.a.createElement(h.a,{type:a,defaultValue:n,autoComplete:"off",onChange:function(t){return e.handleFormChange(t,null,null,o)},name:t.dataField,pattern:t.pattern}))))}},{key:"simpleHRow",value:function(t,e){var r=this;if(this.isEditing()&&!t.readOnly){var n=this.state.editingFormData,a=n?m.a.getPropByString(n,t.dataField):"",o=m.a.getInputType(t),i="true"!==t.labelLess,c=p.a.createElement(O.a.Control.Feedback,{type:"invalid"},t.invalidFeedBack?t.invalidFeedBack:"Valeur requise");if(t.editorComponent)return p.a.createElement(O.a.Group,{className:"field field-string"},i&&p.a.createElement(O.a.Label,null,t.name),t.editorComponent());if("select"===o&&t.enumProvider){var s=[],u=t.enumProvider(this.state.editingFormData);return t.required||s.push(p.a.createElement("option",{value:""},"...")),u.map((function(t){var e=p.a.createElement("option",{value:t.key},t.value);s.push(e)})),p.a.createElement(p.a.Fragment,null,p.a.createElement(O.a.Group,{className:"field field-string"},i&&p.a.createElement(O.a.Label,null,t.name),p.a.createElement(O.a.Control,{as:"select",className:"field-select",type:"select",value:a,isInvalid:!!this.state.errors[t.dataField],onChange:this.handleFormChange,name:t.dataField},s),c))}if("yesno"===o)return p.a.createElement(O.a.Group,{className:"field field-string"},p.a.createElement(O.a.Check,{type:"checkbox",label:t.name,onChange:function(t){return r.handleFormChange(t)},name:"yes_no_"+t.dataField,checked:!0===a?"checked":"",isInvalid:!!this.state.errors[t.dataField],value:a,required:t.required}),c);if("date"===o){var l=(a=a?L()(a,"YYYYMMDD"):null)?a.toDate():null;t.placeHolder&&t.placeHolder;return p.a.createElement(O.a.Group,{className:"field field-string"},i&&p.a.createElement(O.a.Label,null,t.name),p.a.createElement(j.a,{selected:l,isInvalid:!!this.state.errors[t.dataField],onChange:function(e){return r.handleFormChange(e,t.dataField,"date")},placeholderText:t.placeHolder,dateFormat:"dd-MM-yyyy",isClearable:!0}),c)}if("datetime"===o){var h=(a=a?L()(a,"YYYYMMDDHHmmss"):null)?a.toDate():null;return p.a.createElement(O.a.Group,{className:"field field-string"},i&&p.a.createElement(O.a.Label,null,t.name),p.a.createElement(j.a,{selected:h,showTimeSelect:!0,withPortal:!0,isClearable:!0,isInvalid:!!this.state.errors[t.dataField],onChange:function(e){return r.handleFormChange(e,t.dataField,"datetime")},placeholderText:t.placeHolder,dateFormat:"dd-MM-yyyy HH:mm",timeFormat:"HH:mm"}),c)}if("textarea"===o)return p.a.createElement(O.a.Group,{className:"field field-string"},i&&p.a.createElement(O.a.Label,null,t.name),p.a.createElement(O.a.Control,{placeholder:t.placeHolder,autoComplete:"off",className:"",isInvalid:!!this.state.errors[t.dataField],onChange:function(t){return r.handleFormChange(t)},name:t.dataField,defaultValue:a,value:a,type:t.type?t.type:"textarea",as:"textarea",rows:"4",required:t.required}),c);if("checkbox"===o&&t.enumProvider){var f=t.enumProvider(this.state.editingFormData).map((function(e){return p.a.createElement(O.a.Check,{type:"checkbox",onChange:function(t){return r.handleFormChange(t)},isInvalid:!!r.state.errors[t.dataField],name:t.dataField,checked:a.split(";").includes(e.key)?"checked":"",value:e.key,label:e.value,required:t.required})}));return p.a.createElement(O.a.Group,{className:"field field-string"},p.a.createElement(O.a.Label,null,t.name),p.a.createElement("div",{style:{display:"flex"}},f))}if("radio"===o&&t.enumProvider){var v=t.enumProvider(this.state.editingFormData).map((function(e){return p.a.createElement(O.a.Check,{type:"radio",onChange:function(t){return r.handleFormChange(t)},name:t.dataField,checked:a===e.key,isInvalid:!!r.state.errors[t.dataField],value:e.key,label:e.value,required:t.required})}));return p.a.createElement(O.a.Group,{className:"field field-string"},p.a.createElement(O.a.Label,null,t.name),v)}return p.a.createElement(O.a.Group,{className:"field field-string"},i&&p.a.createElement(O.a.Label,null,t.name),p.a.createElement(O.a.Control,{placeholder:t.placeHolder,autoComplete:"off",className:"",onChange:function(t){return r.handleFormChange(t)},name:t.dataField,isInvalid:!!this.state.errors[t.dataField],defaultValue:a,value:a,type:t.type?t.type:"text",pattern:t.pattern,required:t.required}),c)}var y=this.state.initialData.attributes,g=t.dataField;g.startsWith("attributes.")&&(g=t.dataField.split("attributes.")[1]);var b=y?m.a.getPropByString(y,g):"",w=m.a.getAttributeViewer(t,b),E=t.suffix?t.suffix:"",k=[];return t.enumProvider&&t.enumProvider(this.state.editingFormData).map((function(t){b.split(";").includes(t.key)&&k.push(t.value)})),"yesno"===t.type?p.a.createElement(p.a.Fragment,null,p.a.createElement("table",{width:"100%",className:e?"dt-form-last-row":""},p.a.createElement("tr",{className:"td-left"},p.a.createElement("td",{width:"40%",className:"dt-form td-left"},p.a.createElement(d.a,{className:"control-label-view"},t.name)),p.a.createElement("td",{width:"60%",className:"dt-form td-left",style:{"word-wrap":"break-word"}},p.a.createElement("input",{type:"checkbox",disabled:!0,checked:b}))))):p.a.createElement(p.a.Fragment,null,p.a.createElement("table",{width:"100%",className:e?"dt-form-last-row":""},p.a.createElement("tr",{className:"td-left"},p.a.createElement("td",{width:"40%",className:"dt-form td-left"},p.a.createElement(d.a,{className:"control-label-view"},t.name)),p.a.createElement("td",{width:"60%",className:"dt-form td-left",style:{"word-wrap":"break-word"}},k.length>0?k.join(", "):w," ",E))))}},{key:"actionableHRow",value:function(t){var e=this,r=this.state.editingFormData,n=m.a.getPropByString(r,t.dataField),a=t.rowActions?t.rowActions():"",o=t.rowGroupActions?t.rowGroupActions():"",i=m.a.getInputType(t);return p.a.createElement(p.a.Fragment,null,p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement(d.a,{className:"control-label-view"},t.name)),p.a.createElement("td",null,p.a.createElement("table",{width:"100%"},p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement(h.a,{type:i,defaultValue:n,onChange:function(t){return e.handleFormChange(t)},name:t.dataField,pattern:t.pattern})),p.a.createElement("td",null,a)),p.a.createElement("tr",null,p.a.createElement("td",null,t.empty),p.a.createElement("td",null,o)))))))}},{key:"processFooter",value:function(){var t;return this.props.attributesListConfig.footerActions?t=this.props.attributesListConfig.footerActions():this.props.standardFooterActions&&(t=this.standardFooterActions(this.props.attributesListConfig.formId,this.props.attributesListConfig)),t}},{key:"isEditing",value:function(){var t=this.props.attributesListConfig.formId;return"edit"===this.state.formsState[t+"_view"]||"create_object"===this.props.formMode}},{key:"componentWillReceiveProps",value:function(t){this.setState({editingFormData:t.data.attributes,initialData:t.data})}},{key:"render",value:function(){var t,e,r=this,n=this.props.attributesListConfig.attributes,a=this.processGroup(n);if(!0===this.props.displayHeader){var o=this.processHeader();t=p.a.createElement("table",{width:"100%",id:"dt-form"},p.a.createElement("tbody",null,o))}var i=this.processFooter();i&&(e=p.a.createElement("div",{className:"btn-toolbar-right"},i));var c,s="no-border";return(this.props.attributesListConfig.addHeaderMargin||this.props.addHeaderMargin)&&(s="no-border noBorder katappult-top-margin-20"),c=this.props.attributesListConfig.formId?this.isEditing()?p.a.createElement("div",{className:this.props.cardClassName},p.a.createElement(O.a,{ref:function(t){return r.formEl=t},validated:this.state.formValidated,id:this.props.attributesListConfig.formId},a)):p.a.createElement("div",{className:this.props.cardClassName},p.a.createElement(f.a,{id:"dt-form",borderless:this.props.attributesListConfig.borderLess,size:"sm",className:s},p.a.createElement("tbody",null,a))):p.a.createElement("div",{className:this.props.cardClassName},p.a.createElement(f.a,{id:"dt-form",borderless:this.props.attributesListConfig.borderLess||this.isEditing(),size:"sm",className:s},p.a.createElement("tbody",null,a))),p.a.createElement("div",{className:"attributes-list"},t,c,e)}}]),r}(l.Component));I.defaultProps={cardClassName:" no-border",orientation:"horizontal",displayHeader:!1};e.a=I}},[[339,5,6]]]);
//# sourceMappingURL=main.19a8071f.chunk.js.map