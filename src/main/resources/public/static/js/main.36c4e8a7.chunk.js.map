{"version":3,"sources":["_helpers/commons.js","_components/_common/ContentHolder/ContentHolderAction/ContentFileSelector.js","_components/_common/ContentHolder/ContentHolderAction/ContentHolderPrimaryAction.js","_components/_common/DataTable/Header/DataTableHeader.js","_components/_common/DataTable/Row/DataTableRow.js","_components/_common/DataTable/Table/ListGroupDataTable.js","_components/_common/DataTable/ContextualMenu/ContextualMenu.js","_components/_common/DataTable/AutoScrollDataTable/AutoScrollDataTable.js","_components/_common/DataTable/Table/DatatablePagination.js","_components/_common/DataTable/Table/DataTable.js","_components/_common/AttributeListGroup/AttributesGroup.js","_components/_common/WorkInfo/WorkInfo.js","_components/_common/PersistenceInfo/PersistenceInfo.js","_components/_common/ContentHolder/ContentHolderInfo/ContentHolderAttachmentsInfo.js","_components/_common/ContentHolder/ContentHolderInfo/ContentHolderInfo.js","_components/_common/ViewDefinition/ViewDefinition.js","_services/contactable.services.js","_components/_common/Contactable/Contactable.js","_components/_common/UserProfile/ResetPassword.js","_components/_common/UserProfile/LockUser.js","_components/_common/UserProfile/UnLockUser.js","_components/_common/UserProfile/UpdatePassword.js","_components/_common/GenderViewer/GenderViewer.js","_components/_common/UserProfile/ActivatePassword.js","_components/_common/WorkInfo/WorkableAction.js","_services/revcontrolled.services.js","_components/_common/RevControlled/RevControlledAction.js","_components/_common/ThumbInfo/ThumbInfo.js","_components/_common/WaitingPane/WaitingPane.js","_components/_common/TotalElements/TotalElements.js","_components/_common/EmptyPane/EmptyPane.js","_components/_common/DefaultFooter/DefaultFooter.js","_components/_common/Wizard/Wizard.js","_components/_common/WizardConfirm/WizardConfirm.js","_services/listvalues.services.js","_components/_common/Enumerations/Enumerations.js","_components/_common/Users/AddOrg/AddOrg.js","_components/_common/Users/AddPeople/AddPeople.js","_components/_common/Users/AddPerson/AddPerson.js","_services/search.services.js","_components/_common/Users/ManageContainerUsers/ManageContainerUsers.js","pages/AdminPages/Container/ContainersMembership.js","_services/role.services.js","_components/_common/Users/UserRoles/UserRoles.js","_components/_common/Users/PeopleDetails/PeopleDetails.js","_components/_common/Users/PeopleCard/PeopleCard.js","_services/preferences.service.js","_components/_common/Users/UserSystemSettings/AddSettings.js","_components/_common/Users/UserSystemSettings/UserSystemSettings.js","_components/_common/Logout/Logout.js","_components/_common/AppBreadcrumb/AppBreadcrumb.js","_components/_common/RevControlled/AllIterations.js","_components/_common/RevControlled/AllVersions.js","_components/_common/ProcessingModal/ProcessingModal.js","_components/_common/Accordion/Accordion.js","_services/container.services.js","_services/lifecycle.services.js","_reducers/coreUserContextReducer.js","_components/_common/RevControlled/RevControlledDetailsHeader/RevControlledDetailsHeader.js","_components/_common/ContentHolder/ContentHolderInfo/ContentHolderPrimaryInfo.js","_services/account.services.js","_services/utils/services.config.js","_actions/actionTypes.js","assets/img/profile.png","polyfill.js","_helpers/CoreUri.js","App.js","serviceWorker.js","_reducers/searchMembersReducer.js","_reducers/searchBusinessRulesReducer.js","_reducers/enumerationsReducer.js","_reducers/headerSearchReducer.js","_reducers/applicationReducer.js","_reducers/imagesCachesReducer.js","_reducers/navigationReducer.js","index.js","_actions/actions.js","_services/contentHolder.services.js","_services/login.services.js","_services/workable.services.js","_components/_common/AttributeListGroup/AttributeArrayGroup.js","_components/_common/AttributeListGroup/AttributeArrayObjectGroup.js","_components/_common/AttributeListGroup/AttributeListGroup.js"],"names":["commons","toastError","response","style","errorFamily","errorCode","className","message","toastSuccess","textInfo","getValueFromUrl","token","href","window","location","split","length","urlParams","queryString","parse","getStatusesFromUrl","statuses","statusesFromUrl","Array","isArray","push","toJSONObject","data","d","JSON","stringify","getPropByString","obj","propString","prop","props","i","iLen","candidate","undefined","getInputType","attribute","type","indexOfItemInArray","item","array","index","map","id","clone","getAttributeViewer","value","Fragment","disabled","defaultChecked","checked","staticValue","displayComponent","dateformat","dateFormat","date","moment","format","String","getWorkingContainerName","userContextRX","workingContainer","name","getWorkingContainerPath","path","getWorkingContainerId","hasRoleAdmin","hasAnyRole","hasRoleSuperAdmin","hasRoleReader","rolesInWorkingContainer","hasRole","hasRoleUser","hasRoleAnon","getRootContainerId","applicationContainer","getCurrentUserAccountId","userAccount","getCurrentUserAccountOwnerId","userDetails","getRestErrorMessage","isRequestError","isRequestSuccess","getUrlVars","arrayRemove","arr","filter","ele","setSessionId","session_id","document","cookie","katappult_core_logout","katappult_core_loginSuccess","console","log","links","userContext","rolesInApplicationContainer","userPreferences","systemPreferences","account","user","applicationCurrentEnvironmentName","applicationFriendlyName","isanon","nickName","isepadmin","attributes","key","katappult_core_loginError","sessionId","getAuthorizationCookie","isLoggedIn","katappult_core_isUserConnected","katappult_core_isAnonConnected","getSystemPreference","result","preference","isLoggedInAsUser","isLoggedInAsAnon","isNotLoggedIn","clientContainerId","getContainerSetting","containerSettingsRX","setting","getBooleanContainerSetting","this","getApiRootURL","API_ROOTV","hostname","port","origin","proxyURL","process","REACT_APP_PROXY_URL","test","validateEmail","email","isServer","createElement","authorizationCookie","roleNames","role","includes","roleName","status","cookieValue","find","row","startsWith","ContentFileSelector","handleClick","bind","refs","fileUploader","click","Button","onClick","hidden","uploadLabel","display","accept","ref","onChange","onChangeFile","Component","ContentHolderPrimaryAction","downloadPrimaryContent","viewPrimaryContent","deletePrimaryContent","e","preventDefault","file","target","files","formData","FormData","append","contentHolderService","setPrimaryContentFile","contentHolderId","containerId","then","toast","onUploadSuccess","error","downloadedFileName","blob","blobObject","Blob","FileSaver","saveAs","blobUrl","URL","createObjectURL","open","canUpload","hasContent","noContent","canDelete","downloadLabel","canDownload","canUpdload","defaultProps","canView","DataTableHeader","columns","col","headerClass","headerClassName","scope","hideTableHeader","toHeader","DataTableRow","cells","isDateCol","field","dataField","locale","localization","dateRow","isDisplayableCol","val","enumProvider","selectValue","stringRow","classname","colclass","suffix","contentClassName","toRow","toString","tableConfig","onRowClick","rowClassName","ListGroupDataTable","loading","pagination","pitem","paginate","metaData","hasPreviousPage","hasNextPage","PaginationItem","PaginationLink","previous","tag","totalPages","active","pageNumber","next","CardFooter","Row","Col","md","Pagination","aria-label","size","paginationSize","totalElements","title","rows","populatePagination","displayHeader","xs","lg","xl","ListGroup","emptyTableContent","emptyMessageTitle","emptyMessageDescription","emptyMessageSubDescription","emptyActions","description","subDescription","emptyActionsDisplay","sm","Card","Pane","mainMessage","secondaryMessage","actions","items","tableClassName","React","DatatablePagination","useState","maxPage","setMaxPage","hasPrevious","setHasPrevious","hasNext","setHasNext","currentPage","setCurrentPage","setTotalElements","useEffect","_doGoToPage","goToPage","displayTotalElements","pc","goPreviousPage","pageIndex","elem","handlePagination","goNextPage","DataTable","state","columnsConfig","nextProps","prevState","setState","populateRows","tableTitle","titleDisplay","Table","hover","responsive","tableId","striped","bordered","AttributesGroup","attributesGroup","config","view","AttributeListGroup","attributesListConfig","WorkInfo","schemas","versioned","orientation","cardClassName","displayActions","attributesSchema","PersistenceInfo","schema","ContentHolderAttachmentsInfo","attachments","contentInfos","ci","header","ContentHolderInfo","width","ContentHolderPrimaryInfo","ViewDefinition","CardBody","Form","action","method","FormGroup","Label","htmlFor","Input","placeholder","FormText","color","ListGroupItem","contactableService","getWebContacts","getTelecomContacts","getPostalContacts","updateWebContacts","updateTelecomContacts","updatePostalContacts","getAllContacts","getContactableContactMechanismByRole","contactableId","uri","url","API_ROOT","_doGet","contactMecId","payload","_doPut","Contactable","postalAddressTitle","contacts","allContacts","updateWebContactsSuccess","reloadContacts","form","concat","businessId","catch","updateTelecomContactsSuccess","updatePostalContactSuccess","firstItem","lastModifiedDate","secondItem","finalItem","firstItemLastModification","toDate","contactMecIndex","webAttributesList","formId","onSubmit","borderLess","phonesAttributesList","postalAddressAttributesList","arrayTitleProvider","updatePostalContact","additionalAttributesDisplay","postalAddress","canEdit","standardFooterActions","newObjectFormData","newPostalAddressFormData","hideMobileContacts","firstRowLabel","newWebFormData","newPhoneFormData","emptyContacts","postal","address1","address2","postalCode","city","country","contact","viewMode","summaryContactView","badge","Badge","pill","variant","canSwitch","ButtonToolbar","selectNextContactMecView","fullContactView","ResetPassword","modal","accountId","notify","password","toggle","doResetPassword","dialogContent","handleChange","accountService","resetPassword","resetSuccess","Group","controlId","Control","Check","label","success","afterUpdate","ProcessingModal","show","buttonTitle","toUpperCase","onConfirm","dialogMessage","dialogTitle","LockUser","doLockUser","lockSuccess","lock","onAccountLocked","buttonColor","connect","store","disptach","UnLockUser","doUnlockUser","unlockSuccess","unlock","onAccountUnLocked","buttonSize","UpdatePassword","oldPassword","newPassword","newPasswordValidation","processing","formError","canUpdate","doUpdatePassword","handleFormChange","updateSuccess","backHome","userPostLogin","coreUri","clientSideRenderedURL","event","formadata","emptypass","samePass","match","params","lockToken","updateLostPasswordByUser","json","updated","userEmail","updateSuccess2","updateError","login","loginService","text","authorization","alert","postLogin","history","updatePassword","InputGroup","InputGroupAddon","addonType","autoComplete","block","Spinner","animation","InputGroupText","Modal","isOpen","centered","ModalHeader","ModalBody","formContent","ModalFooter","reinitLostPass","modalUpdatePassWord","onUserAccountUpdatePass","GenderViewer","ActivatePassword","doActivateAccount","activatePassword","info","doActivatePassword","WorkableAction","checkin","checkout","undoCheckout","toWorkingCopy","toOriginalCopy","prevProps","workableId","wc","workInfo","isWorkingCopy","locked","lockedBy","setLoading","idOnly","workableService","originalCopy","loadDatas","workingCopy","refreshListView","wcid","original","res","VALIDATE_LABEL","DELETE_WC_LABEL","validateIcon","deleteIcon","buttonIcon","hasWorkingCopy","lockedSince","canForwardToWc","canForwardToOriginalCopy","canCheckout","iterationInfo","isLatestIteration","versionInfo","isLatestVersion","CLONE_LABEL","cloneIcon","workingCopyActions","WC_LABEL","OC_LABEL","workabaleActions","canCheckin","canUndoCheckout","toWcCallBack","revControlledService","allIterationsOf","allIterationsOfversion","allVersionsOf","exactIterationAndVersion","exactIterationAndVersionIdOnly","latestIterationOf","latestIterationOfIdOnly","revise","revControlledId","_doPost","versionId","version","iteration","RevControlledAction","getNextIteration","getPreviousIteration","getLatestIteration","onAllIterationsSelected","currentIteration","iterationNumber","nextIteration","previousIteration","firstIndex","canRevise","rcActions","ThumbInfo","rootUrl","host","productId","pathname","join","imageName","backgroundImage","WaitingPane","waitingMessage","styles","fadeIn","animationName","Radium","keyframes","EmptyPane","rootClassName","DefaultFooter","buildVersion","Navbar","fixed","Wizard","modalShow","hideWizard","setModalShow","onWizardHide","buttonIconComp","buttonBlock","hideButtonIf","buttonClassName","MyVerticallyCenteredModal","onHide","content","dialogSize","hideFooter","hideHeader","dialogContentProvider","additionalParams","dialogClassName","aria-labelledby","scrollable","Header","closeButton","Body","Footer","WizardConfirm","onConfirmAndClose","Confirm","wizardButtonTitle","modalSize","bodyClassName","listValuesService","names","listvalues","noLocale","details","p","buildURLQuery","Enumerations","selectedItem","fr","en","selectItem","source","srcElement","activate","updateEnumerationsSelection","navs","noSelection","hasEnum","v","LinkTo","angleRight","link","to","enumerations","AddOrg","container","getRegisteringContainer","withAccount","simpleUserForm","errors","registerAttributesList","registerUser","handleResponse","onFormChange","formValidity","registeringContainer","orgType","handleRegister","setPropsProcessing","fromConnectedUser","registerOrgWithAccount","registerOrgWithAccountAnon","onProcessing","onError","loginForm","accountEmail","accountPassword","handleLoginSuccess","onCreatePeopleSuccess","newErrors","saveButtonTitle","createButtonTitle","saveButtonClassName","createButtonClassName","_handleRegister","required","placeHolder","initialData","additionalWizardLeftActions","formMode","AddPeople","initialFormData","peopleSimpleType","peopleMode","gender","step","handleSelectTypeChange","onSuccess","options","row0","as","peopleCreationOption","getStepContent","hideAgreements","replace","AddPerson","lastName","firstName","findFormErrors","peopleType","registerPersonWithAccount","registerPersonWithAccountAnon","searchService","searchUserByNameLikeInWholeApplication","searchUserByLoginLikeInWholeApplication","searchContainerMemberByNameLike","searchContainerMemberByLoginLike","searchContainerMemberByLoginLike2","searchProductByNameLike","searchProductByReferenceLike","reference","queryParams","ManageContainerUsers","totalMembers","members","loadingMembers","statesFilter","reachableStates","queryFilters","page","pageSize","includeParentItems","manageMembers","unsubscribe","blockUser","setLinkState","switchToView","onPeopleDetailsChange","moreActions","getRootObjectForDetailsId","userAccountId","newMembers","m","wizardCloseFunction","refreshView","selectedAccountId","showSuccessAlert","currentItemIdParam","search","rootId","wasRemoved","pushBreadCrumb","updatePeopleCallBack","results","owner","ownerSummary","businessType","LinkToPeople","selectPerson","roleAid","roleBid","lifecycleService","route","backOfficeViewURL","nameOf","searchTermUpdated","datas","class","updateStates","for","datatable","total","membersDatatable","hideMainMessage","headerActions","newPeople","searchHeader","showDetailsView","searchTerm","searchMembers","searchBusinessClass","searchBusinessType","searchResults","updateSearchTerm","updateSearchResults","LinkToOrg","align","ContainersMembership","needUpdate","membershipStates","switchToParent","emptyTableActions","isMember","marginTop","addMemberToContainer","removeMemberFromContainer","paddingTop","switchTo","containerName","removeContainerMembership","addContainerMembership","currentContainerId","containerService","getParentContainer","parentId","parentContainerId","getChildrenContainers","isUserInContainer","toChild","isRootContainer","roleService","getUserRoles","addRoleToUser","removeRoleToUser","searchRoleByNameLike","roleId","_doDelete","UserRoles","getCreatePage","removeFromRole","onCreateItemSuccess","loadRoles","prevprops","prevstate","prevQueryUrlParams","prevId","roles","wizardMode","rolesDisplay","c","AddRole","searching","searchResult","searchRole","isSuperAdmin","getDatas","_doSearchRole","componentDidMount","addUserToRole","getRows","PeopleDetails","loadDataError","summaryMode","activeTab","userProfile","overviewTabContent","accountAttributesList","contactTabContent","updateProfile","updateOrgProfile","isLocked","refresh","isCurrentAccountOwner","organizationAttributesView","accountRoles","accountSystemPrefsContent","updatePersonProfile","updateProfileSuccess","accountDetails","tab","tabsConfig","tabItems","tabContent","visible","containerAccessTabContent","containerAccessTabContentVisible","accountTabContent","customTabItems","xaccessTableConfig","containerMembership","containerMembershipMetaData","contactNavigation","peopleProfileAttributesList","organizationProfileAttributesList","addHeaderMargin","presState","loadAllDatas","refreshbread","currentAccountOwner","currentAccountId","loadContainerMemberships","containersMembership","siret","notLoading","attributesView","accountShortType","isOrganizationProfile","peopleAttributesView","expanded","isAdmin","readOnly","navTabContents","tabsConfigs","tabItem","Tab","eventKey","src","profile","height","Tabs","defaultActiveKey","PeopleCard","people","orgDetailsLink","personDetailsLink","thumb","logicalPath","thumbedId","addressageName","getDisplay","preferencesService","getUserPreferences","ownerId","getSystemPreferences","update","preferenceId","create","drop","AddSettings","createContainerId","ceateContainerId","attributesList","handleSuccessResponse","handleErrorResponse","userHidden","itemId","icon","UserSystemSettings","createForm","editingRow","updateEditedSetting","cancelEditedSetting","setEditingRow","formDataChange","delete","settingsValue","rowAction","displayName","settingsDatatable","Logout","loginUrl","AppBreadcrumb","pushItem","_dopopBreadCrumb","homeLabel","homeUrl","slice","popBreadCrumb","homeUrlAction","hideHome","Breadcrumb","Item","getHomeUrl","getHomeLabel","locations","renderBreadCrumb","AllIterations","tableActions","toIterationDetails","lockedIcon","defaultSortOrder","backdrop","keyboard","Accordion","setEpanded","titleComponent","getAllLifecycles","getAllFolderTemplates","getAllEmailTemplates","getAllTeamTemplates","getRootTypes","getAllMembers","getApplicationRootContainer","getById","getByPath","getAccessiblesChildrenContainers","getOwnedChildrenContainers","getAllAccessibleContainers","isUserContainerAdmin","countMembers","createContainer","getContainerSettings","updateContainerSetting","populateContainerSetting","getContainersOfOwner","populateFromSellsy","getAllContainerAdmin","containerAdminAdd","containerAdminDelete","settingsId","encodeURI","promote","setStateWithComment","denote","statesBySetState","statesByAction","statesByPromote","statesByDenote","getAllPossibleStatesOfLifecyle","updateMasterAttributes","setStateFromExternalApp","createLifecycle","archive","lifecycleTransitions","lifecycleId","_doPostMp","fromState","actionName","lifecycleName","lifecycleManagedId","linkClass","inialState","applicationcContainer","userContextReducer","ns2","produce","nexState","ns3","ns4","updateUserContext","RevControlledDetailsHeader","lockIcon","number","businessTypeDisplayName","lifecycleCurrentState","headerActionsProvider","getNumberOrReference","getLockStatusDisplay","getVersionDisplay","primaryContent","setPrimaryContent","displayContentSize","mime","contentFormat","mimeType","fileName","contentHolderFileName","justifyContent","contentSize","lostPassword","formdata","accountOfParty","partyId","profileId","activateAccount","ownerType","ownersName","isValidAccountLockToken","accoundId","Object","keys","k","finalurl","fetch","appendAccessToken","timeout","headers","body","handleJWTError","_doPostWithoutResponse","addSessionId","credentials","_doGetText","_doGetBlob","reload","forwardToLoginPage","SET_USER_WORKING_CONTAINER","SET_APPLICATION_CONTAINER","LOGIN_USER","LOGOUT_USER","DOLOGIN_USER","USER_ACCOUNT_LOCKED","USER_ACCOUNT_UNLOCKED","USER_ACCOUNT_UPDATE_PASS","SEARCHTERM_UPDATE","SEARCH_RESULTS","SEARCH_HEADER_COMP_SEARCHTERM_UPDATE","SEARCH_HEADER_COMP_SEARCH_RESULTS","BUSINESS_RULES_SEARCHCRITERIAS_UPDATE","ENUMERATIONS_SELECTION_UPDATE","module","exports","CustomEvent","bubbles","cancelable","detail","evt","createEvent","initCustomEvent","prototype","Event","tabName","viewName","targetURL","param","backOfficeHomeURL","backOfficeRealViewURL","AdminLayout","lazy","LoginLayout","browserHistory","createBrowserHistory","App","Suspense","fallback","exact","render","component","Boolean","appConfig","currentPageTitle","breadItems","menuGroup","allReducers","combineReducers","types","nextState","searchType","ns","searchBusinessRules","rules","businessClass","enumds","headerSearchComp","criterias","applicationConfig","ns1","ns7","adminHome","ns9","lifecycleNavCriterias","ns10","emailTemplatesNavCriterias","imagesCaches","imageCache","image","navigationConfig","ns13","actualState","activeMenu","userContextStore","rootReducer","SW_INIT","serviceWorkerInitialized","SW_UPDATE","serviceWorkerUpdated","serviceWorkerRegistration","createStore","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","userAccountLocked","userAccountUnLocked","userAccountUpdatePass","updateSearchMembersTerm","updateBusinessRulesSearchCriterias","downloadPrimaryContentBlob","downloadAttachment","attachementId","addAttachment","bodyson","logout","loginAsAnon","contId","comment","AttributeArrayGroup","moveDown","moveUp","save","footerActions","add","edit","cancel","isEditing","initalItems","mode","wrapInform","reset","newItems","a","indexOf","splice","newplace","colspan","ButtonGroup","childRows","rowDef","cols","datakey","editor","defaultValue","rowActions","colSpan","borderless","AttributeArrayObjectGroup","isEditingThisItem","editingItems","initialindex","editingindex","currentIndex","newItem","addingNewItem","blocs","indexdata","formsState","standardSaveForm","saveButtonIcon","standardResetForm","standardEditForm","formValidated","editingFormData","pattern","attPath","masterFile","stopPropagation","endProcessing","attrs","lastRow","simpleHRow","actionableHRow","simpleVRow","titleProvider","simpleArrayRow","rootdata","arrayOfvalues","showLabel","labelLess","feedBack","Feedback","invalidFeedBack","editorComponent","enums","opt","isInvalid","selected","placeholderText","isClearable","showTimeSelect","withPortal","timeFormat","dataKey","rowGroupActions","empty","finalheader","finalFooter","processGroup","processHeader","footer","processFooter","formEl","validated"],"mappings":"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","file":"static/js/main.36c4e8a7.chunk.js","sourcesContent":["import React from 'react';\nimport {GenderViewer } from '_components/_common';\nimport {Label} from 'reactstrap';\nimport moment from 'moment';\nimport queryString from 'query-string';\n\nexport const commons = {\n\ttoastError,\n\ttoastSuccess,\n\tgetValueFromUrl,\n\tgetStatusesFromUrl,\n\ttoJSONObject,\n\tgetPropByString,\n\tgetInputType,\n\tindexOfItemInArray,\n\tclone,\n\tgetAttributeViewer,\n\tgetWorkingContainerName,\n\tgetWorkingContainerPath,\n\tgetWorkingContainerId,\n\thasRoleAdmin,\n\thasRoleSuperAdmin,\n\thasRoleReader,\n\thasRoleUser,\n\thasRoleAnon,\n\tgetRootContainerId,\n\tgetCurrentUserAccountId,\n\tgetCurrentUserAccountOwnerId,\n\tgetRestErrorMessage,\n\tisRequestError,\n\tisRequestSuccess,\n\tgetUrlVars,\n\tarrayRemove,\n\tsetSessionId,\n\tkatappult_core_logout,\n\tkatappult_core_loginSuccess,\n\tkatappult_core_loginError,\n\tsessionId,\n\tisLoggedIn,\n\tgetSystemPreference,\n\thasRole,\n\thasAnyRole,\n\tkatappult_core_isUserConnected,\n\tkatappult_core_isAnonConnected,\n\tisLoggedInAsUser,\n\tisLoggedInAsAnon,\n\tisNotLoggedIn,\n\tclientContainerId,\n\tgetContainerSetting,\n\tgetBooleanContainerSetting,\n\tgetApiRootURL,\n\tvalidateEmail,\n\tisServer,\n\tauthorizationCookie\n}\n\nfunction isServer (){\n\treturn !(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n}\n\nfunction getContainerSetting(containerSettingsRX, key){\n\tlet value = ''\n\tcontainerSettingsRX.map(setting => {\n\t\tif(setting.attributes.key === key){\n\t\t\tvalue = setting.attributes.value;\n\t\t}\n\t})\n\n\treturn value\n}\n\nfunction getBooleanContainerSetting(containerSettingsRX, key){\n\tlet result = this.getContainerSetting(containerSettingsRX, key);\n\tif(result === 'oui' || result === 'true' || result === 'yes' || result === '1'){\n\t\treturn true\n\t}\n\treturn false;\n}\n\nfunction clientContainerId(userContextRX){\n\treturn userContextRX.workingContainer.id\n}\n\nfunction hasAnyRole(userContextRX, roleNames){\n\tlet result = false;\n\tif(userContextRX.rolesInWorkingContainer){\n\t\tuserContextRX.rolesInWorkingContainer.map(role => {\n\t\t\tif(roleNames.includes(role.attributes.key)){\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t})\n\t}\n\treturn result;\n}\n\nfunction hasRole(userContextRX, roleName){\n\tlet result = false;\n\tif(userContextRX.rolesInWorkingContainer){\n\t\tuserContextRX.rolesInWorkingContainer.map(role => {\n\t\t\tif(role.attributes.key === roleName){\n\t\t\t\tresult = true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t})\n\t}\n\n\treturn result;\n}\n\nfunction getSystemPreference(userContextRX, name){\n\tlet result;\n\tuserContextRX.systemPreferences.map(preference => {\n\t\tif(preference.attributes.key === name){\n\t\t\tresult = preference.attributes.value;\n\t\t}\n\t})\n\treturn result;\n}\n\nfunction getRootContainerId(userContextRX){\n\treturn userContextRX.applicationContainer?.id\n}\n\nfunction getWorkingContainerId(userContextRX){\n\treturn userContextRX.workingContainer?.id\n}\n\n/**\n * When fetched single result from remote server, this json object must be\n * parsed like this in order to read attributes on it.\n *\n * @param data\n * @returns JSON object\n */\nfunction toJSONObject(data){\n\tconst d = JSON.stringify(data);\n\tconst datason = JSON.parse(d);\n\treturn datason;\n}\nfunction clone(data){\n\tconst d = JSON.stringify(data);\n\tconst datason = JSON.parse(d);\n\treturn datason;\n}\n/**\n * Resolve attribute value on object.\n * Ex: Will read 'masterAttributes.name' on 'Obj'\n *\n * @param obj\n * @param propString\n * @returns\n */\nfunction getPropByString (obj, propString) {\n\tif (!propString) return \"-\";\n\n\tlet prop, props = propString.split('.');\n\tlet i = 0;\n\tfor (let iLen = props.length - 1; i < iLen; i++) {\n\t\tprop = props[i];\n\t\tlet candidate = obj[prop];\n\t\tif (candidate !== undefined) {\n\t\t\tobj = candidate;\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn obj && obj[props[i]] ? obj[props[i]] : '';\n}\n/**\n *\n * @param {*} attribute\n */\nfunction getInputType(attribute){\n\tswitch(attribute.type){\n\t\tcase 'string': return 'text';\n\t\tcase 'text': return 'text';\n\t\tcase 'textarea': return 'textarea';\n\t\tcase 'yesno': return 'yesno';\n\t\tcase 'bool': return 'checkbox';\n\t\tcase 'radio': return 'radio';\n\t\tcase 'checkbox': return 'checkbox';\n\t\tcase 'email': return 'email';\n\t\tcase 'tel': return 'tel';\n\t\tcase 'number': return 'number';\n\t\tcase 'select': return 'select';\n\t\tcase 'password': return 'password';\n\t\tcase 'date': return 'date';\n\t\tcase 'datetime': return 'datetime';\n\t\tcase 'file': return 'file';\n\t\tdefault: return 'text';\n\t}\n}\nfunction getAttributeViewer(attribute, value){\n\tconst type = attribute.type\n\tif( 'gender' === type){\n\t\treturn (\n\t\t\t<GenderViewer value={value}/>\n\t\t)\n\t}\n\telse if('bool' === type || 'yesno' === type){\n\t\treturn <React.Fragment>\n\t\t\t<input type='checkbox' disabled={true} defaultChecked={value} checked={value}/>\n\t\t</React.Fragment>\n\t}\n\telse if(attribute.staticValue){\n\t\treturn <Label className=\"control-value-view\">{attribute.staticValue}</Label>\n\t}\n\telse if(attribute.displayComponent){\n\t\treturn attribute.displayComponent(value)\n\t}\n\telse if(attribute.type === 'date' || attribute.type === 'datetime'){\n\t\tlet dateformat = attribute.dateFormat\n\t\tif(value === null || value === '') return <span></span>\n\n\t\tconst date = moment(value, 'YYYY-MM-DD HH:mm:ss S').format(dateformat);\n\t\treturn <Label className=\"control-value-view\">{date}</Label>\n\t}\n\telse {\n\t\treturn <Label className=\"control-value-view\">{String(value) === 'undefined' ? '' : String(value)}</Label>\n\t}\n}\n/**\n * Get the index of an item in given array.\n * Items arre compared by id\n */\nfunction indexOfItemInArray(item, array){\n\tlet index = -1\n\tlet i= 0\n\tarray.map(d => {\n\t\tif(d.id === item.id) index = i\n\t\ti++\n\t})\n\treturn index\n}\n\nfunction getWorkingContainerName(userContextRX){\n\treturn userContextRX.workingContainer.name\n}\n\nfunction getWorkingContainerPath(userContextRX){\n\treturn userContextRX.workingContainer.path\n}\n\nfunction getWorkingContainer(userContextRX){\n\treturn userContextRX.workingContainer.id;\n}\n\nfunction hasRoleAdmin(userContextRX){\n\tlet admin = hasAnyRole(userContextRX,['ROLE_ADMIN', 'ROLE_SUPERADMIN']) || hasRoleSuperAdmin(userContextRX);\n\treturn admin;\n}\n\nfunction hasRoleSuperAdmin(userContextRX){\n\tlet result = false;\n\tuserContextRX.rolesInApplicationContainer.map(role => {\n\t\tif(role.attributes.key === 'ROLE_SUPERADMIN'){\n\t\t\tresult = true;\n\t\t\treturn true;\n\t\t}\n\t})\n\n\treturn result;\n}\n\nfunction hasRoleReader(userContextRX){\n\tif(userContextRX.rolesInWorkingContainer.length === 0){\n\t\treturn true\n\t}\n\treturn hasRole(userContextRX, 'ROLE_READER')\n}\n\nfunction hasRoleUser(userContextRX){\n\tif(userContextRX.rolesInWorkingContainer.length === 0){\n\t\treturn false;\n\t}\n\treturn hasRole(userContextRX,'ROLE_USER')\n}\n\nfunction hasRoleAnon(userContextRX){\n\tif(userContextRX.rolesInWorkingContainer.length === 0){\n\t\treturn true\n\t}\n\treturn hasRole(userContextRX,'ROLE_ANON')\n}\n\n\n/**\n * Return true if current user is super admin\n * @returns\n */\nfunction isSuperAdministrator(userContextRX){\n\tif(userContextRX.rolesInWorkingContainer.length === 0){\n\t\treturn false\n\t}\n\treturn hasRole(userContextRX, 'ROLE_SUPERADMIN')\n}\n/**\n * @returns\n */\nfunction getCurrentUserAccountId(userContextRX){\n\treturn userContextRX.userAccount.id\n}\n/**\n * @returns\n */\nfunction getCurrentUserAccountOwnerId(userContextRX){\n\treturn userContextRX.userDetails.id\n}\nfunction getUrlVars() {\n\tlet lets = {};\n\treturn lets;\n}\nfunction arrayRemove(arr, value) {\n\treturn arr.filter(function(ele){\n\t\treturn ele != value;\n\t});\n}\n\nfunction sessionId(){\n\treturn getAuthorizationCookie();\n}\n\nfunction getCurrentUserAccountLogin(userContextRX){\n\treturn userContextRX.userAccount.nickName;\n}\n\nfunction katappult_core_logout() {\n\tdocument.cookie = 'Authorization=; Max-Age=0; Path=/';\n}\n\nfunction setSessionId(session_id){\n\tdocument.cookie =  'Authorization=' + session_id + '; Max-Age=365; path=/';\n}\n\nfunction katappult_core_loginSuccess(response) {\n\tconsole.log('response:: ' + JSON.stringify(response))\n\tlet links = response.data.links;\n\tlet userContext = {}\n\tuserContext.rolesInApplicationContainer  = links.rolesInApplicationContainer.data\n\tuserContext.rolesInWorkingContainer = links.rolesInWorkingContainer.data\n\tuserContext.userPreferences = links.userPreferences.data\n\tuserContext.systemPreferences = links.systemPreferences?.data\n\tuserContext.workingContainer = JSON.parse(links.workingContainer)\n\tuserContext.applicationContainer = JSON.parse(links.applicationContainer)\n\tuserContext.userAccount = JSON.parse(links.account)\n\tuserContext.userDetails = JSON.parse(links.user)\n\tuserContext.applicationCurrentEnvironmentName = links.applicationCurrentEnvironmentName\n\tuserContext.applicationFriendlyName = links.applicationFriendlyName\n\n\tlet isanon = userContext.userAccount.nickName === 'epanon';\n\tlet isepadmin = userContext.userAccount.nickName === 'epadmin';\n\tif(isanon) {\n\t\tuserContext.rolesInWorkingContainer = [{attributes:{key: 'ROLE_ANON'}}]\n\t}\n\telse if(isepadmin){\n\t\tuserContext.rolesInWorkingContainer = [{attributes:{key: 'ROLE_ADMIN'}}, {attributes:{key: 'ROLE_USER'}}]\n\t}\n\treturn userContext;\n}\n\nfunction katappult_core_loginError(){\n}\n\nfunction katappult_core_isUserConnected (userContextRX) {\n\tlet sessionId = getAuthorizationCookie(),\n\t\tsession_valid = sessionId !== undefined && sessionId != null;\n\treturn session_valid && userContextRX.userAccount.nickName !== 'epanon';\n}\n\nfunction katappult_core_isAnonConnected(userContextRX){\n\tlet result = userContextRX.userAccount.nickName === 'epanon'\n\treturn result;\n}\n\nfunction isNotLoggedIn(userContextRX){\n\treturn !katappult_core_isUserConnected(userContextRX)\n}\n\nfunction isLoggedIn(userContextRX){\n\treturn katappult_core_isUserConnected(userContextRX) || commons.katappult_core_isAnonConnected(userContextRX);\n}\n\nfunction isLoggedInAsUser(userContextRX){\n\treturn katappult_core_isUserConnected(userContextRX) && !commons.katappult_core_isAnonConnected(userContextRX);\n}\n\nfunction isLoggedInAsAnon(userContextRX){\n\treturn commons.katappult_core_isAnonConnected(userContextRX);\n}\n\nfunction validateEmail(email){\n\tif (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)){\n\t\treturn false\n\t}\n\treturn true\n}\n\nfunction getApiRootURL(){\n\tconst backendRootContext = process.env.REACT_APP_CONTEXT_ROOT;\n\tconst hostname = window && window.location && window.location.hostname;\n\tconst port = window && window.location && window.location.port;\n\tconst origin = window && window.location && window.location.origin;\n\tconst proxyURL = process.env.REACT_APP_PROXY_URL\n\n\tlet API_ROOTV;\n\tif(proxyURL){\n\t\tAPI_ROOTV = proxyURL;\n\t}\n\telse {\n\t\tif (/^localhost/.test(hostname) && port && (port === '3000' || port === '3001')) {\n\t\t\tAPI_ROOTV = `http://${hostname}:8080/${backendRootContext}`;\n\t\t} else {\n\t\t\tAPI_ROOTV = `${origin}/${backendRootContext}`;\n\t\t}\n\t}\n\treturn API_ROOTV;\n}\n\nfunction isRequestError(response){\n\treturn !response || response.status === 'error'\n\t\t||  response.status === 500 ||  response.status === '500'\n\t\t||  response.status === 404 ||  response.status === '404'\n\t\t||  response.status === 400 ||  response.status === '400'\n\t\t||  response.status === 401 ||  response.status === '401'\n}\n\nfunction isRequestSuccess(response){\n\treturn !isRequestError(response);\n}\n\nfunction getRestErrorMessage(response) {\n\treturn response ? response.message : 'Erreur interne, veuillez contacter le support';\n}\n\nfunction toastError(response) {\n\treturn <div>\n\t\t<div style={{'font-size':\"13px\",'font-weight':'bold'}}>\n\t\t\t<span>{response.errorFamily}</span>\n\t\t\t{response.errorCode ? <span> - {response.errorCode}</span> : ''}\n\t\t</div>\n\t\t<div style={{'display': 'flex','margin':'0.6rem'}}>\n\t\t\t<i className={'fa fa-exclamation-triangle fa-lg'} style={{'margin-top':'0.5rem'}}></i>\n\t\t\t<div style={{'font-size':\"13px\",'margin-left':'1rem'}}>{response.message}</div>\n\t\t</div>\n\t</div>\n}\n\nfunction toastSuccess(textInfo) {\n\tconst content = <div className={'toast-info'}>\n\t\t<i className={'fa fa-check-circle fa-md'}></i>\n\t\t<div className={'message'}>{textInfo}</div>\n\t</div>\n\n\treturn content;\n}\n\nfunction getValueFromUrl (token)  {\n\tconst href = window.location.href\n\tif(href.split('?').length > 0){\n\t\tconst urlParams  = queryString.parse(\"?\" + href.split('?')[1])\n\t\treturn urlParams[token] ? urlParams[token] : ''\n\t}\n\n\treturn '';\n}\n\nfunction getStatusesFromUrl ()  {\n\tconst href = window.location.href\n\tlet statuses = []\n\tif(href.split('?').length > 0){\n\t\tconst urlParams  = queryString.parse(\"?\" + href.split('?')[1])\n\t\tconst statusesFromUrl = urlParams[\"status[]\"]\n\t\tif(!Array.isArray(statusesFromUrl) && statusesFromUrl){\n\t\t\tstatuses.push(statusesFromUrl)\n\t\t}\n\t\telse {\n\t\t\tstatuses = statusesFromUrl\n\t\t}\n\t}\n\n\treturn statuses ? statuses : [];\n}\n\nfunction authorizationCookie(){\n\treturn getAuthorizationCookie();\n}\n\nfunction getAuthorizationCookie(){\n\tconst cookieValue = document.cookie\n\t\t.split('; ')\n\t\t.find((row) => row.startsWith('Authorization'))\n\t\t?.split('=')[1];\n\n\treturn cookieValue ? cookieValue : '';\n}\n","import React, {Component} from 'react'\nimport {Button} from 'reactstrap'\n\nclass ContentFileSelector extends Component {\n\n    constructor(props) {\n        super(props)\n        this.handleClick = this.handleClick.bind(this)\n    }\n\n    handleClick() {\n        this.refs.fileUploader.click()\n    }\n\n    render() {\n        return (<>\n            <Button onClick={this.handleClick}\n                    hidden={this.props.hidden}>\n                <i className=\"fa fa-upload fa-md\"></i>\n                &nbsp;{this.props.uploadLabel}\n            </Button>\n\n            <input type=\"file\" id=\"file\" style={{display: 'none'}}\n                   accept={this.props.accept}\n                   ref='fileUploader' onChange={this.props.onChangeFile}/>\n        </>)\n    }\n}\n\nexport default ContentFileSelector\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport FileSaver from 'file-saver';\nimport {contentHolderService} from '_services/contentHolder.services';\nimport ContentFileSelector from './ContentFileSelector.js';\nimport Button from 'react-bootstrap/Button'\nimport {toast} from 'react-toastify';\nimport {commons} from \"_helpers/commons\";\n\nconst propTypes = {\n    contentHolderId: PropTypes.string.isRequired,\n    canDelete: PropTypes.bool,\n    canUpdload: PropTypes.bool,\n    canDownload: PropTypes.bool,\n    canView: PropTypes.bool,\n}\n\nconst defaultProps = {\n    canDelete: false,\n    canUpdload: true,\n    canDownload: true,\n    canView: true,\n}\n\n/**\n * Download/Upload, view content action on a content holder\n */\nclass ContentHolderPrimaryAction extends Component {\n\n    constructor(props) {\n        super(props)\n        this.downloadPrimaryContent = this.downloadPrimaryContent.bind(this)\n        this.viewPrimaryContent = this.viewPrimaryContent.bind(this)\n        this.onChangeFile = this.onChangeFile.bind(this)\n        this.deletePrimaryContent = this.deletePrimaryContent.bind(this)\n    }\n\n    onChangeFile(e) {\n        e.preventDefault();\n        let file = e.target.files[0];\n        let formData = new FormData();\n        formData.append('file', file);\n\n        contentHolderService.setPrimaryContentFile(this.props.contentHolderId, formData, this.props.containerId).then(response => {\n            if (commons.isRequestError(response)) {\n                toast(commons.toastError(response));\n            } else {\n                toast(commons.toastSuccess('Le contenu primaire a été téléversé'));\n                if (this.props.onUploadSuccess) {\n                    this.props.onUploadSuccess()\n                }\n            }\n        })\n    }\n\n    async deletePrimaryContent() {\n        contentHolderService.deletePrimaryContent(this.props.contentHolderId, this.props.containerId).then(response => {\n            if (!commons.isRequestError(response)) {\n                toast(commons.toastSuccess(\"Le contenu a été supprimé\"));\n                if (this.props.onUploadSuccess) {\n                    this.props.onUploadSuccess()\n                }\n            } else {\n                toast.error(\"Impossible de supprimer le contenu\");\n            }\n        })\n    }\n\n    async downloadPrimaryContent(e) {\n        e.preventDefault();\n        const downloadedFileName = this.props.downloadedFileName ? this.props.downloadedFileName : 'primary-content.txt';\n        contentHolderService.downloadPrimaryContent(this.props.contentHolderId, this.props.containerId).then(blob => {\n            const blobObject = new Blob([blob], {type: \"text/plain;charset=utf-8\"});\n            FileSaver.saveAs(blobObject, downloadedFileName);\n        })\n    }\n\n    async viewPrimaryContent(e) {\n        e.preventDefault()\n        contentHolderService.downloadPrimaryContent(this.props.contentHolderId, this.props.containerId).then(response => {\n            let blob = new Blob([response], {type: \"plain/text;charset=UTF-8\"});\n            let blobUrl = URL.createObjectURL(blob);\n            window.open(blobUrl)\n        })\n    }\n\n    render() {\n        const canUpload = this.props.canUpload ? this.props.canUpload : false;\n        const hasContent = !this.props.noContent;\n        const canDelete = !this.props.canDelete ? false: true;\n\n        const downloadLabel = this.props.downloadLabel ? this.props.downloadLabel : 'Télécharger';\n        const uploadLabel = this.props.uploadLabel ? this.props.uploadLabel : 'Téléverser contenu';\n\n        if (canUpload) {\n            return <div className={'btn-toolbar btn-toolbar-right'}>\n                {hasContent && <Button onClick={this.downloadPrimaryContent}\n                                       hidden={!this.props.canDownload}>\n                    <i className=\"fa fa-download fa-sm\"></i>&nbsp;{downloadLabel}\n                </Button>\n                }\n\n                <ContentFileSelector hidden={!this.props.canUpdload}\n                                     accept={this.props.accept}\n                                     uploadLabel={uploadLabel}\n                                     onChangeFile={this.onChangeFile}/>\n\n                {hasContent && canDelete &&\n                <Button onClick={this.deletePrimaryContent}>\n                    <i className=\"fa fa-trash fa-md\"></i>\n                </Button>\n                }\n            </div>\n        } else {\n            return <div className={'btn-toolbar btn-toolbar-right'}>\n                <Button onClick={this.downloadPrimaryContent}\n                        hidden={!this.props.canDownload}>\n                    <i className=\"fa fa-download fa-sm\"></i>&nbsp;{downloadLabel}\n                </Button>\n            </div>\n        }\n    }\n}\n\nContentHolderPrimaryAction.propTypes = propTypes;\nContentHolderPrimaryAction.defaultProps = defaultProps;\n\nexport default ContentHolderPrimaryAction;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './DataTableHeader.css';\n\nconst propTypes = {\n\tcolumns: PropTypes.array,\n};\n\nconst defaultProps = {\n\tcolumns:[],\n};\n\n/**\n * Header of simple data table\n */\nclass DataTableHeader extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\ttoHeader(columns){\n\t\treturn columns.map(col => {\n\t\t\tlet className = col.headerClass ? col.headerClass : '';\n\t\t\tclassName = col.headerClassName ? col.headerClassName : className\n\t\t\treturn <th scope=\"col\" className={className}>{col.name}</th>\n\t\t});\n\t}\n\n\trender() {\n\t\tif(this.props.hideTableHeader === 'true'){\n\t\t\treturn <></>\n\t\t}\n\n\t\tconst {columns, ...attributes } = this.props;\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t{this.toHeader(columns)}\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nDataTableHeader.propTypes = propTypes;\nDataTableHeader.defaultProps = defaultProps;\n\nexport default DataTableHeader;\n\n\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {commons} from '_helpers/commons.js';\nimport moment from 'moment'\nimport localization from 'moment/locale/fr';\nimport './DataTableRow.css';\n\nconst propTypes = {\n\tcolumns: PropTypes.array,\n};\n\nconst defaultProps = {\n\tcolumns:[],\n};\n\n/**\n * Simple Datatable Row\n */\nclass DataTableRow extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\n\ttoRow(columns, item) {\n\t\tconst cells = [];\n\t\tcolumns.map(col => {\n\t\t\tconst className = col.className ? col.className : 'dt-center'\n\t\t\tconst type = col.type;\n\t\t\tif(this.isDateCol(col)){\n\t\t\t\tconst dateFormat = col.dateFormat;\n\t\t\t\tconst field = col.dataField;\n\t\t\t\tconst d = commons.getPropByString(item, field);\n\n\t\t\t\tif(d && d !== ''){\n\t\t\t\t\tconst date = moment(d,  'YYYY-MM-DD hh:mm:ss S').locale('fr', localization).format(dateFormat);\n\t\t\t\t\tcells.push(this.dateRow(date, className));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcells.push(<td className={className}></td>);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(this.isDisplayableCol(col)){\n\t\t\t\tlet field = col.dataField;\n\t\t\t\tlet val = commons.getPropByString(item, field);\n\t\t\t\tif(col.dataField){\n\t\t\t\t\tcells.push(col.displayComponent(val, item));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcells.push(col.displayComponent(val, item));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(col.enumProvider){\n\t\t\t\tlet val = commons.getPropByString(item, col.dataField);\n\t\t\t\tval = val ? val.split(';') : []\n\t\t\t\tlet selectValue = []\n\t\t\t\tcol.enumProvider().map(value => {\n\t\t\t\t\tif(val.includes(value.key)) {\n\t\t\t\t\t\tselectValue.push(value.value)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tcells.push(<td className={className}>{selectValue}</td>);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet field = col.dataField;\n\t\t\t\tconst value = commons.getPropByString(item, field);\n\t\t\t\tif(type === 'yesno'){\n\t\t\t\t\tif(String(value) === \"true\"){\n\t\t\t\t\t\tcells.push(<td className={col.className ? col.className : \"dt-center\"}>\n\t\t\t\t\t\t\t\t<input type={'checkbox'} checked disabled/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcells.push(<td className={col.className ? col.className : \"dt-center\"}>\n\t\t\t\t\t\t\t\t<input type={'checkbox'} disabled/>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcells.push(this.stringRow(item, field, col));\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tisDateCol(col){\n\t\treturn col.dateFormat !== undefined;\n\t}\n\n\tisDisplayableCol(col) {\n\t\treturn col.displayComponent !== undefined;\n\t}\n\n\tdateRow(value, classname){\n\t\tconst colclass = classname ? classname : 'dt-center'\n\t\treturn <td className={colclass}>{value}</td>\n\t}\n\n\tstringRow(item, field, col) {\n\t\tlet suffix = col.suffix ? col.suffix : ''\n\t\treturn <td className={col.className ? col.className : \"dt-center\"}>\n\t\t\t{col.contentClassName && <span className={'col.contentClassName'}>{String(commons.getPropByString(item, field))}{suffix}</span>}\n\t\t\t{!col.contentClassName && <>{String(commons.getPropByString(item, field))}{suffix}</>}\n\t\t</td>\n\t}\n\n\trender() {\n\t\tconst item = this.props.item;\n\t\tconst { columns, ...attributes } = this.props;\n\t\tconst row = this.toRow(columns, item);\n\n\t\tlet id;\n\t\tif(item.attributes){\n\t\t\tid = item.attributes.id.toString()\n\t\t}\n\t\telse {\n\t\t\tid = item.id.toString()\n\t\t}\n\n\t\tif(this.props.tableConfig.onRowClick){\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<tr key={id} className={this.props.rowClassName}\n\t\t\t\t\t\tonClick={(e ) => this.props.tableConfig.onRowClick(e, id, item)}>\n\t\t\t\t\t\t{row}\n\t\t\t\t\t</tr>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<tr key={id} className={this.props.rowClassName}>\n\t\t\t\t\t{row}\n\t\t\t\t</tr>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nDataTableRow.propTypes = propTypes;\nDataTableRow.defaultProps = defaultProps;\n\nexport default DataTableRow;\n","import React, { Component} from 'react';\nimport { ListGroup, CardFooter, Card, Col, Pagination, PaginationItem, PaginationLink, Row } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { EmptyPane } from '_components/_common';\n\nconst propTypes = {\n    tableConfig: PropTypes.array,\n    items: PropTypes.any,\n    metaData: PropTypes.any,\n    tableClassName: PropTypes.string,\n    paginate: PropTypes.bool,\n};\n\nconst defaultProps = {\n    tableConfig:[], \n    items:'',\n    metaData: '',\n    tableClassName: 'katappultsimple-table',\n    paginate: true,\n};\n\n/**\n * Simple ListGroupDataTable\n */\nclass ListGroupDataTable extends Component {\n    \n\tpopulatePagination() {\n\t\tlet index = 0;\n\t\tconst pitem = [];\n        let pagination;\n\n        if(this.props.paginate === true) {\n\n            const metaData = JSON.parse(this.props.metaData);\n            let hasPreviousPage = !metaData.hasPreviousPage;\n            let hasNextPage = !metaData.hasNextPage;\n            \n            pitem.push(<PaginationItem disabled={hasPreviousPage}>\n                <PaginationLink previous tag=\"button\">Prev</PaginationLink>\n            </PaginationItem>);\n        \n            for(let i = index; i < metaData.totalPages; i++) {\n                pitem.push(<PaginationItem active={metaData.pageNumber === i}>\n                    <PaginationLink tag=\"button\">{++index}</PaginationLink>\n                    </PaginationItem>);\n            }\n\n            pitem.push(<PaginationItem disabled={hasNextPage}>\n                    <PaginationLink next tag=\"button\">Next</PaginationLink>\n                </PaginationItem>);\n\n            pagination = <CardFooter className=\"katappultsimple-table-footer\">\n                <Row>\n                    <Col md=\"6\"></Col>\n                    <Col md=\"6\">\n                        <div className=\"float-right\">\n                            <Pagination aria-label=\"Page navigation\" size={this.props.tableConfig.paginationSize}>{pitem}</Pagination>\n                        </div>\n                    </Col>\n                </Row>    \n            </CardFooter>\n        }\n        else {\n            pagination = <div></div>\n        }\n        \n\t\treturn pagination;\n    }\n    \n\tloading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n    \n\trender() {\n        const metaData = JSON.parse(this.props.metaData);\n\t\tif(metaData.totalElements > 0){\n\t\t\tconst rows = this.props.rows;\n\t\t\tconst pagination = this.populatePagination();\n            \n\t\t\tlet title\n\t\t\tif(this.props.tableConfig.displayHeader === true){\n\t\t\t\ttitle = <Row>\n\t\t                <Col xs=\"12\" lg=\"12\">\n\t\t            \t<div className=\"katappult-table-header\">\n\t\t                    <h3 className=\"float-left, katappult-table-title\">{this.props.tableConfig.title}</h3>\n\t\t                </div>\n\t\t            </Col>\n\t\t        </Row>\n\t\t\t}\n            \n\t\t\treturn (\n\t\t\t    <div>\n                    {title}\n\t\t            <Row>\n                        <Col xs=\"12\" lg=\"12\" xl=\"12\">\n                            <ListGroup>{rows}</ListGroup>    \n                            {pagination}\n                        </Col>\n                    </Row>\n\t\t\t   </div>\n\t\t  );\n\t\t}\n\t\telse {\n            return emptyTableContent(this.props.tableConfig.emptyMessageTitle, \n                this.props.tableConfig.emptyMessageDescription, \n                this.props.tableConfig.emptyMessageSubDescription,\n                this.props.tableConfig.emptyActions)\n\t\t}\n  }\n}\n\nconst emptyTableContent = (title, description, subDescription, emptyActions) => {\n\tlet emptyActionsDisplay\n\tif(emptyActions){\n\t\temptyActionsDisplay = emptyActions()\n\t}\n\t\n\treturn (\n        <div className=\"flex-row align-items-center\">\n                <Row className=\"justify-content-center\">\n                    <Col xs=\"12\" sm=\"12\" md=\"12\" lg=\"12\" xl=\"10\">\n                        <Card className=\"card-accent-warning\">\n                        \t<EmptyPane Pane mainMessage={title} secondaryMessage={description} actions={emptyActionsDisplay}/>\n                        </Card>\n                    </Col>\n                </Row>\n        </div>\n  )\n}\n\n\nListGroupDataTable.propTypes = propTypes;\nListGroupDataTable.defaultProps = defaultProps;\n\nexport default ListGroupDataTable;\n","import React from 'react';\nimport './ContextualMenu.css';\n\n/**\n * Displays ellipsis on table\n */\nclass ContextualMenu extends React.Component {\n    render() {\n\t    return (\n\t      <React.Fragment> \n\t      \t\t<td><i className=\"cui-options icons font-xl\"></i></td>\n\t\t   </React.Fragment>\n\t    );\n\t }\n}\n\nexport default ContextualMenu;\n","import React, {Component} from 'react';\nimport {Table} from 'reactstrap';\nimport {DataTableHeader, DataTableRow} from '../index';\n\nclass AutoScrollDataTable extends Component {\n\n    constructor(props) {\n        super(props)\n\n        let maxPage= 1,\n            metaData = null,\n            currentPage = 0,\n            hasPrevious = false,\n            hasNext = false,\n            pageElements= 0,\n            totalElements = 0;\n\n        if (this.props.metaData) {\n            metaData = JSON.parse(this.props.metaData)\n            if (metaData) {\n                maxPage = metaData.totalPages\n                currentPage = metaData.pageNumber\n                hasPrevious = metaData.hasPreviousPage\n                hasNext = metaData.hasNextPage\n                totalElements = metaData.totalElements\n                pageElements = metaData.pageElements ? metaData.pageElements : 0;\n            }\n        }\n\n        this.state = {\n            currentPage: currentPage,\n            maxPage: maxPage,\n            metaData: metaData,\n            hasPrevious: hasPrevious,\n            hasNext: hasNext,\n            totalElements: totalElements,\n            pageElements: pageElements,\n            isLoading: false,\n            items: this.props.items !== null ? JSON.parse(this.props.items) : [],\n        }\n\n        this.handlePagination = this.handlePagination.bind(this)\n        this.onScroll = this.onScroll.bind(this)\n    }\n\n    onScroll() {\n        let scroll = window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight\n            && !this.state.isLoading;\n\n        if (scroll) {\n            let canGoNext = this.state.hasNext === true && this.props.goToPage;\n            if (canGoNext) {\n                this.goNextPage();\n            }\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener('scroll', this.onScroll, false);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('scroll', this.onScroll, false);\n    }\n\n    handlePagination(e, i) {\n        if (e) e.preventDefault();\n        if (this.props.goToPage) {\n            this._doGoToPage(e.target.name)\n        }\n    }\n\n    goNextPage(e) {\n        if (e) e.preventDefault();\n        if (this.state.hasNext === true && this.props.goToPage) {\n            let pc = ++this.state.currentPage\n            if (pc > this.state.maxPage) {\n                this._doGoToPage(0)\n            } else {\n                this._doGoToPage(pc)\n            }\n\n        }\n    }\n\n    goPreviousPage(e) {\n        if (e) e.preventDefault();\n        if (this.state.hasPrevious === true && this.props.goToPage) {\n            let pc = --this.state.currentPage\n            if (pc < 0) {\n                this._doGoToPage(0)\n            } else {\n                this._doGoToPage(pc)\n            }\n\n        }\n    }\n\n    _doGoToPage(i) {\n        if (this.props.goToPage) {\n            this.props.goToPage(i)\n        }\n        this.setState({isLoading: true})\n    }\n\n    populateHeaderPagination() {\n        const {metaData} = this.state;\n        let pagination = <div className=\"float-right autoscroll-pagination\">\n            <p className=\"table-total-element\">{this.state.pageElements}/{metaData.totalElements} Element(s)</p>\n        </div>\n        return pagination;\n    }\n\n    populateFooterPagination() {\n        const {metaData} = this.state;\n        let pagination = <div className=\"float-right autoscroll-pagination\">\n            <p className=\"table-total-element\">{this.state.pageElements}/{metaData.totalElements} Element(s)</p>\n        </div>\n        return pagination;\n    }\n\n    loading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n\n    populateRows() {\n        const rows = [];\n        const items = this.state.items;\n        items.map((item) => {\n            rows.push(\n                <DataTableRow  {...this.props} item={item} columns={this.props.tableConfig.columnsConfig}/>\n            );\n        });\n\n        return rows;\n    }\n\n    componentWillUpdate(nextProps, prevState) {\n        if (this.state.metaData && nextProps.metaData !== JSON.stringify(this.state.metaData)) {\n            let metaData = JSON.parse(nextProps.metaData);\n            let currItems = this.state.items.slice();\n            currItems.concat(JSON.parse(nextProps.items));\n\n            //console.log('nextProps.metaData : ' + nextProps.metaData)\n            let pageElements;\n            if (metaData.totalPages > 1) {\n                pageElements = this.state.pageElements + metaData.pageElements\n            } else {\n                pageElements = metaData.totalElements\n            }\n\n            this.setState({\n                metaData: metaData,\n                items: JSON.parse(nextProps.items),\n                currentPage: metaData.pageNumber,\n                maxPage: metaData.totalPages,\n                hasPrevious: metaData.hasPreviousPage,\n                hasNext: metaData.hasNextPage,\n                totalElements: metaData.totalElements,\n                pageElements: pageElements,\n                isLoading: false\n            })\n        }\n    }\n\n    render() {\n        if (this.props.totalElements > 0 || this.props.items !== null) {\n            const rows = this.populateRows();\n            const headerPagination = this.populateHeaderPagination();\n            const footerPagination = this.populateFooterPagination();\n\n            return (\n                <React.Fragment>\n                    {headerPagination}\n                    <Table hover={this.props.hover} responsive\n                           size={this.props.size} id={this.props.tableId}\n                           className={this.props.tableClassName} striped={this.props.striped}\n                           bordered={this.props.bordered}>\n\n                        <DataTableHeader {...this.props}\n                                         hideTableHeader={this.props.tableConfig.hideTableHeader}\n                                         columns={this.props.tableConfig.columnsConfig}/>\n                        <tbody>{rows}</tbody>\n                    </Table>\n                    {footerPagination}\n                </React.Fragment>\n            );\n        }\n    }\n}\n\n\nexport default AutoScrollDataTable;\n","import React, {useEffect, useState} from 'react';\nimport {Pagination, PaginationItem, PaginationLink} from \"reactstrap\";\n\nfunction DatatablePagination(props) {\n\n    const [maxPage, setMaxPage] = useState(props.metaData.totalPages)\n    const [hasPrevious, setHasPrevious] = useState(props.metaData.hasPreviousPage)\n    const [hasNext, setHasNext] = useState(props.metaData.hasNextPage)\n    const [currentPage, setCurrentPage] = useState(props.metaData.pageNumber)\n    const [totalElements, setTotalElements] = useState(props.metaData.totalElements)\n\n    useEffect(() => {\n        setMaxPage(props.metaData.totalPages)\n        setHasPrevious(props.metaData.hasPreviousPage)\n        setHasNext(props.metaData.hasNextPage)\n        setCurrentPage(props.metaData.pageNumber)\n        setTotalElements(props.metaData.totalElements)\n\n    }, [props.metaData])\n\n    const goNextPage = (e) =>{\n        e.preventDefault();\n        if(hasNext === true){\n            let pc = currentPage + 1;\n            if(pc > maxPage){\n                _doGoToPage(0)\n            }\n            else {\n                _doGoToPage(pc)\n            }\n        }\n    }\n\n    const goPreviousPage = (e) => {\n        e.preventDefault();\n        if(hasPrevious === true){\n            let pc = currentPage - 1;\n            if(pc < 0){\n                _doGoToPage(0);\n            }\n            else {\n                _doGoToPage(pc)\n            }\n        }\n    }\n\n    const handlePagination = (e, i) => {\n        e.preventDefault();\n        _doGoToPage(i);\n    }\n\n    const _doGoToPage = (i)  => {\n        if (props.goToPage) {\n            props.goToPage(i)\n        }\n    }\n\n    let pagination, index = 0;\n    const pitem = [];\n\n    let displayTotalElements = props.displayTotalElements === true;\n    const paginationSize = props.tableConfig ? props.tableConfig.paginationSize : paginationSize;\n\n    if(props.paginate === true) {\n        pitem.push(<PaginationItem disabled={!hasPrevious} >\n            <PaginationLink previous tag=\"button\" onClick={e => goPreviousPage(e)}>Prev</PaginationLink>\n        </PaginationItem>);\n\n        for(let i = index; i < maxPage; i++) {\n            let pageIndex = i;\n            let active = currentPage === pageIndex\n            let elem = <PaginationItem active={active} key={i}>\n                <PaginationLink tag=\"button\" name={pageIndex} href={pageIndex} onClick={e => handlePagination(e, pageIndex)}>{++index}</PaginationLink>\n            </PaginationItem>\n\n            pitem.push(elem);\n        }\n\n        pitem.push(<PaginationItem disabled={!hasNext}>\n            <PaginationLink next tag=\"button\" onClick={e => goNextPage(e)}>Next</PaginationLink>\n        </PaginationItem>);\n\n        let totalElements;\n        if(displayTotalElements){\n            totalElements = <div className=\"items-number\">\n                <p>Page {currentPage + 1} of {maxPage} - {props.metaData.totalElements} Element(s)</p>\n            </div>\n        }\n\n        pagination = <div className=\"table-footer\">\n            {maxPage > 1 &&\n              <Pagination aria-label=\"Page navigation\" className=\"pagination\" size={paginationSize}>{pitem}</Pagination>\n            }\n            <div className=\"table-total-elements\">{totalElements}</div>\n        </div>\n    }\n    else {\n        pagination = <div></div>\n    }\n\n    return pagination;\n\n}\n\nexport default DatatablePagination;\n","import React, { Component } from 'react';\nimport { Table } from 'reactstrap';\nimport { DataTableHeader, DataTableRow } from '../index';\nimport PropTypes from 'prop-types';\nimport {EmptyPane} from '_components/_common';\nimport DatatablePagination from \"_components/_common/DataTable/Table/DatatablePagination\";\n\nconst propTypes = {\n    tableConfig: PropTypes.array,\n    items: PropTypes.any,\n    metaData: PropTypes.any,\n    tableClassName: PropTypes.string,\n    paginate: PropTypes.bool,\n    goToPage: PropTypes.func,\n};\nconst defaultProps = {\n    tableConfig:[],\n    items:'',\n    metaData: '',\n    paginate: true,\n};\n/**\n * Simple DataTable\n */\nclass DataTable extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\n\t\tlet maxPage = 1,\n\t\tmetaData = null, currentPage = 0,\n\t\thasPrevious =false,\n\t\thasNext = false, totalElements = 0;\n\n\t\tif(this.props.metaData){\n\t\t\tmetaData = JSON.parse(this.props.metaData)\n\t\t\tif(metaData){\n\t\t\t\tmaxPage = metaData.totalPages\n\t\t\t\tcurrentPage= metaData.pageNumber\n\t\t\t\thasPrevious= metaData.hasPreviousPage\n\t\t\t\thasNext= metaData.hasNextPage\n\t\t\t\ttotalElements = metaData.totalElements\n\t\t\t}\n\t\t}\n\n\t\tthis.state ={\n\t\t\tcurrentPage: currentPage,\n\t\t\tmaxPage: maxPage,\n\t\t\thasPrevious: hasPrevious,\n\t\t\thasNext: hasNext,\n\t\t\ttotalElements: totalElements,\n\n\t\t\tmetaData: metaData,\n\t\t\titems: this.props.items !== null ? JSON.parse(this.props.items) : [],\n\t\t}\n\t}\n\n\tloading = () => <div className=\"animated fadeIn pt-1 text-center\">Loading...</div>\n\n    populateRows() {\n        const rows = [];\n        const itms = JSON.parse(this.props.items);\n\t\titms.map((item) => {\n            rows.push(\n             <DataTableRow  {...this.props}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\ttableConfig={this.props.tableConfig}\n\t\t\t\t\t\t\tcolumns={this.props.tableConfig.columnsConfig}/>\n            );\n\t\t });\n\t\t return rows;\n\t}\n\n    componentWillUpdate(nextProps, prevState){\n    \t//console.log('>>>>>>>>>> nextProps : ' + nextProps.metaData)\n    \t//console.log('>>>>>>>>>> this.state : ' + JSON.stringify(this.state.metaData))\n    \tif(this.state.metaData && nextProps.metaData !== JSON.stringify(this.state.metaData)){\n    \t\tlet metaData = JSON.parse(nextProps.metaData);\n    \t\tthis.setState({\n    \t\t\tmetaData: metaData,\n    \t\t\titems: JSON.parse(nextProps.items),\n    \t\t\tcurrentPage: metaData.pageNumber,\n    \t\t\tmaxPage : metaData.totalPages,\n\t\t\t\thasPrevious: metaData.hasPreviousPage,\n\t\t\t\thasNext: metaData.hasNextPage,\n\t\t\t\ttotalElements: metaData.totalElements\n    \t\t})\n    \t}\n    }\n\n\trender() {\n\n\t\tif(this.props.totalElements > 0 || this.props.items ){\n\t\t\tconst rows = this.populateRows();\n            const title = this.props.tableTitle ? this.props.tableTitle :\n            \tthis.props.tableConfig.title? this.props.tableConfig.title : '';\n\n            const titleDisplay = title ? (\n                  <div className=\"katappult-table-header\">\n                      <h3>{title}</h3>\n                  </div>\n            ): ''\n\n\t\t\tconst metaData = this.props.metaData ? JSON.parse(this.props.metaData) : {}\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n                  {titleDisplay}\n                  <Table hover={this.props.hover} responsive\n                  \tsize={this.props.size} id={this.props.tableId}\n                  \tclassName={this.props.tableClassName} striped={this.props.striped}\n                  \tbordered={this.props.bordered}>\n\n\t\t\t\t\t  <DataTableHeader {...this.props}\n\t\t\t\t\t\t\thideTableHeader={this.props.tableConfig.hideTableHeader}\n\t\t\t\t\t\t\tcolumns={this.props.tableConfig.columnsConfig}/>\n\t\t\t\t\t  <tbody>{rows}</tbody>\n                  </Table>\n\t\t\t\t  <DatatablePagination {...this.props} metaData={metaData}/>\n          </React.Fragment>\n\t\t  );\n\t\t}\n\t\telse {\n            return emptyTableContent(this.props.tableConfig.emptyMessageTitle,\n                this.props.tableConfig.emptyMessageDescription,\n                this.props.tableConfig.emptyMessageSubDescription,\n                this.props.tableConfig.emptyActions);\n\t\t}\n  }\n}\n\nconst emptyTableContent = (title, description, subDescription, emptyActions) => {\n\tlet emptyActionsDisplay\n\tif(emptyActions){\n\t\temptyActionsDisplay = emptyActions()\n\t}\n\n\treturn (\n        <div className=\"empty-table-pane\">\n              <EmptyPane Pane mainMessage={title} secondaryMessage={description} actions={emptyActionsDisplay}/>\n        </div>\n  )\n}\n\n\nDataTable.propTypes = propTypes;\nDataTable.defaultProps = defaultProps;\n\nexport default DataTable;\n","import React, { Component } from 'react';\nimport {\n\tAttributeListGroup,\n} from '_components/_common';\n\nclass AttributesGroup extends Component {\n\n    render() {\n        const d = [];\n        this.props.attributesGroup.items.map(config => {\n            let view = <AttributeListGroup {...this.props} attributesListConfig={config} />\n            d.push(view);\n        });\n\n        return (\n            <React.Fragment>{d}</React.Fragment>\n        )\n    }\n}\n\nexport default AttributesGroup;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AttributeListGroup from '_components/_common/AttributeListGroup';\n\nconst propTypes = {\n    attributesSchema: PropTypes.array,\n    displayActions: PropTypes.bool,\n};\n\nconst defaultProps = {\n    displayActions: true,\n};\n/**\n * Displays work infos panel for Workable/Revision controlled entities\n */\nclass WorkInfo extends Component {\n\n    constructor(props){\n        super(props)\n    }\n\n\trender() {\n\t\tconst item = this.props.data;\n        const versionedSchema = {\n            attributes: [\n                {name: 'Version number',  dataField: 'versionInfo.versionId', type: 'number'},\n                {name: 'Iteration number',  dataField: 'iterationInfo.iterationNumber', type: 'number'},\n                {name: 'Latest',  dataField: 'iterationInfo.isLatestIteration', type: 'bool'},\n                {name: 'Locked by',  dataField: 'workInfo.lockedBy', type: 'text'},\n                {name: 'Locked since',  dataField: 'workInfo.lockedSince', type: 'date',  dateFormat: 'DD/MM/YYYY HH:mm'},\n                {name: 'Working copy',  dataField: 'workInfo.isWorkingCopy', type: 'bool'},\n            ],\n        }\n\n        const iteratedSchema = {\n            attributes: [\n                {name: 'Iteration number',  dataField: 'iterationInfo.iterationNumber', type: 'number'},\n                {name: 'Latest',  dataField: 'iterationInfo.isLatestIteration', type: 'bool'},\n                {name: 'Locked by',  dataField: 'workInfo.lockedBy', type: 'text'},\n                {name: 'Locked since',  dataField: 'workInfo.lockedSince', type: 'date',  dateFormat: 'DD/MM/YYYY HH:mm'},\n                {name: 'Working copy',  dataField: 'workInfo.isWorkingCopy', type: 'bool'},\n            ],\n        }\n\n        const schemas = this.props.versioned ? versionedSchema : iteratedSchema;\n\n\t\tconst d = [];\n            let view = <AttributeListGroup {...this.props}\n                attributesListConfig={schemas}\n                data={item}\n                orientation=\"horizontal\"\n                displayHeader={this.props.displayHeader}\n                cardClassName={this.props.cardClassName}/>\n\n\t\treturn <React.Fragment>{view}</React.Fragment>\n\t}\n}\n\nWorkInfo.propTypes = propTypes;\nWorkInfo.defaultProps = defaultProps;\n\nexport default WorkInfo;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AttributeListGroup from '_components/_common/AttributeListGroup';\n/**\n * Default attributes list\n */\nconst persistenceInfoAttributesSchema = {\n    items: [\n        {\n            attributes: [\n            \t{name: 'Créé par',  dataField: 'attributes.createdBy'},\n                {name: 'Créé le',  dataField: 'attributes.createDate',  dateFormat: 'DD/MM/YYYY HH:mm:ss', type: 'date'},\n            \t{name: 'Modifié par',  dataField: 'attributes.lastModifiedBy'},\n                {name: 'Modifié le',  dataField: 'attributes.lastModifiedDate',  dateFormat: 'DD/MM/YYYY HH:mm:ss', type: 'date'},\n            ]\n        },\n    ],\n};\n\nconst propTypes = {\n    attributesSchema: PropTypes.array,\n    orientation: PropTypes.string,\n};\n\nconst defaultProps = {\n    attributesSchema: persistenceInfoAttributesSchema,\n    orientation: 'horizontal'\n};\n/**\n * Persistnce informations of all entities\n */\nclass PersistenceInfo extends Component {\n\trender(){\n\t\tconst schema = this.props.attributesSchema;\n\t\tconst item = this.props.data;\n\n\t\tconst d = [];\n\t\tschema.items.map(config => {\n            let view = <AttributeListGroup {...this.props}\n                             attributesListConfig={config} data={item}\n                             cardClassName={this.props.cardClassName}/>\n\t        d.push(view);\n        });\n\n\t\treturn (<div className={'attribute-list'}>{d}</div>)\n\t}\n}\n\nPersistenceInfo.propTypes = propTypes;\nPersistenceInfo.defaultProps = defaultProps;\n\nexport default PersistenceInfo;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {contentHolderService} from '_services/contentHolder.services';\n\nconst propTypes = {\n    contentHolderId: PropTypes.string.isRequired\n}\n\nconst defaultProps = {}\n\n/**\n * Displays Attachments content infos\n */\nclass ContentHolderAttachmentsInfo extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            attachments: [],\n        }\n    }\n\n    componentDidMount() {\n        let contentHolderId = this.props.contentHolderId\n        contentHolderService.contentInfos(contentHolderId, 'attachements', this.props.containerId)\n            .then(ci => {\n            })\n    }\n\n    render() {\n        let header = (\n            <label className=\"katappult-form-title-level-1\">Attachements</label>\n        )\n\n        if (this.state.attachments.length === 0) {\n            return (\n                <React.Fragment>\n                    <div>\n                        {header}\n                        <strong>Pas de contenu</strong>\n                    </div>\n                </React.Fragment>\n            )\n        }\n    }\n}\n\nContentHolderAttachmentsInfo.propTypes = propTypes;\nContentHolderAttachmentsInfo.defaultProps = defaultProps;\n\nexport default ContentHolderAttachmentsInfo;\n","import React, {Component} from 'react';\nimport {Col, Row} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport ContentHolderPrimaryInfo from './ContentHolderPrimaryInfo.js';\nimport ContentHolderAttachmentsInfo from './ContentHolderAttachmentsInfo.js'\n\nconst propTypes = {\n    contentHolderId: PropTypes.string.isRequired\n}\n\nconst defaultProps = {}\n\n/**\n * Displays primary/attachments content infos\n */\nclass ContentHolderInfo extends Component {\n\n    render() {\n\n        return (\n            <React.Fragment>\n                <div className=\"spacer-20\"></div>\n                <Row>\n                    <Col>\n                        <h3><label className=\"form-title-level-0\">Contenu</label></h3>\n                    </Col>\n                </Row>\n                <table width=\"100%\">\n                    <tr className=\"noBorder\">\n                        <td>\n                            <ContentHolderPrimaryInfo contentHolderId={this.props.contentHolderId}\n                                                      canUpload={this.props.canUpload}/>\n                        </td>\n                    </tr>\n                    <tr className=\"noBorder\">\n                        <td>\n                            <div className=\"spacer-10\">&nbsp;</div>\n                        </td>\n                    </tr>\n                    <tr className=\"noBorder\">\n                        <td>\n                            <ContentHolderAttachmentsInfo contentHolderId={this.props.contentHolderId}\n                                                          canUpload={this.props.canUpload}/>\n                        </td>\n                    </tr>\n                </table>\n                <div className=\"spacer-10\"></div>\n            </React.Fragment>\n        )\n    }\n}\n\nContentHolderInfo.propTypes = propTypes;\nContentHolderInfo.defaultProps = defaultProps;\n\nexport default ContentHolderInfo;\n","import React, { Component } from 'react';\nimport { Form, \n\tFormGroup, Label, \n\tInput, FormText, \n\tCol, Row, \n\tListGroup, ListGroupItem,\n\tCardBody, Button,Card\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n\titem: PropTypes.any,\n};\n\nconst defaultProps = {\n\titem: {}, \n};\n\nclass ViewDefinition extends Component {\n    render(){\n        return (\n            <React.Fragment>\n                    <Row>\n                        <Col md=\"12\">\n                            <Card>\n                            <CardBody>\n                                <Form action=\"\" method=\"post\">\n                                    <FormGroup row>\n                                        <Col md=\"3\">\n                                            <Label htmlFor=\"email-input\">Identifier</Label>\n                                        </Col>\n                                        <Col xs=\"12\" md=\"12\">\n                                            <Input type=\"text\" id=\"view-id\" name=\"view-id\" placeholder=\"View identifier\"/>\n                                            <FormText className=\"help-block\">The unique identifier of the view. Avoid special characters.</FormText>\n                                            <FormText className=\"help-block\">This identifier is used to query views associated to this type.</FormText>\n                                        </Col>\n                                        <Col xs=\"12\" md=\"12\">\n                                            <Button  color=\"danger\" className=\"float-right\">Update</Button>\n                                        </Col>\n                                    </FormGroup>\n                                </Form>\n                            </CardBody>\n                            </Card>\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col md=\"12\">\n                            <ListGroup>\n                                <ListGroupItem className=\"justify-content-between\">UI Schema definition<Button  color=\"danger\" className=\"float-right\">View</Button></ListGroupItem>\n                                <ListGroupItem className=\"justify-content-between\">Web UI<Button  color=\"primary\" className=\"float-right\">View</Button></ListGroupItem>\n                                <ListGroupItem className=\"justify-content-between\">Mobile UI<Button  color=\"primary\" className=\"float-right\">View</Button></ListGroupItem>\n                                <ListGroupItem className=\"justify-content-between\">Desktop UI<Button  color=\"primary\" className=\"float-right\">View</Button></ListGroupItem>\n                            </ListGroup>\n                        </Col>\n                </Row>\n            \n        </React.Fragment>\n        )\n    }    \n}\n\nViewDefinition.propTypes = propTypes;\nViewDefinition.defaultProps = defaultProps;\n\nexport default ViewDefinition;\n\n\n","import { _doGet, buildURLQuery, _doPut, API_ROOT } from './utils/services.config';\n/**\n * Default Export\n */\nexport const contactableService = {\n\tgetWebContacts,\n\tgetTelecomContacts,\n\tgetPostalContacts,\n\tupdateWebContacts,\n\tupdateTelecomContacts,\n\tupdatePostalContacts,\n\tgetAllContacts,\n\tgetContactableContactMechanismByRole\n};\n\nasync function getContactableContactMechanismByRole(contactableId, role, containerId){\n\tconst uri = '/api/secured/v1/katappult/contactable/contacts/byRole?role=' + role + '&containerId=' + containerId + '&contactableId=' + contactableId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n\n/**\n */\nasync function getAllContacts(contactableId, containerId){\n\tconst uri = '/api/secured/v1/katappult/contactable/contacts?containerId=' + containerId + '&contactableId=' + contactableId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n */\nasync function updatePostalContacts(contactableId, contactMecId, payload, containerId){\n\tconst uri = '/api/secured/v1/katappult/contactable/contacts/postal?containerId=' + containerId + '&contactableId=' + contactableId + '&contactMechanismId=' + contactMecId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPut(url, payload);\n}\n/**\n */\nasync function updateTelecomContacts(contactableId, contactMecId, payload, containerId){\n\tconst uri = '/api/secured/v1/katappult/contactable/contacts/telecom?containerId=' + containerId + '&contactableId=' + contactableId + '&contactMechanismId=' + contactMecId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPut(url, payload);\n}\n/**\n */\nasync function updateWebContacts(contactableId, contactMecId, payload, containerId){\n\tconst uri = '/api/secured/v1/katappult/contactable/contacts/web?add=false&containerId=' + containerId + '&contactableId=' + contactableId + '&contactMechanismId=' + contactMecId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPut(url, payload);\n}\n/**\n */\nasync function getPostalContacts(contactableId, contactMecId, containerId){\n\tconst uri = '/api/secured/v1/katappult/contactable/contacts/?containerId=' + containerId + '&contactableId=' + contactableId + '&contactMechanismId=' + contactMecId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n */\nasync function getTelecomContacts(contactableId, contactMecId, containerId){\n\tconst uri = '/api/secured/v1/katappult/contactable/contacts?containerId=' + containerId + '&contactableId=' + contactableId + '&contactMechanismId=' + contactMecId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n */\nasync function getWebContacts(contactableId, contactMecId, containerId){\n\tconst uri = '/api/secured/v1/katappult/contactable/contacts?containerId=' + containerId + '&contactableId=' + contactableId + '&contactMechanismId=' + contactMecId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n","import React, {Component} from 'react';\nimport {AttributeListGroup,} from '_components/_common';\nimport {Button, ButtonToolbar} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport {commons} from '_helpers/commons.js';\nimport {contactableService} from '_services/contactable.services';\nimport {toast} from 'react-toastify';\nimport Badge from 'react-bootstrap/Badge'\nimport moment from 'moment';\n\nconst propTypes = {\n    businessId: PropTypes.string.isRequired,\n};\nconst defaultProps = {\n    businessId: ''\n};\n\n/**\n * Contactable component\n */\nclass Contactable extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            contacts: {},\n            contactMecId: '',\n            allContacts: []\n        }\n\n        this.updateWebContactsSuccess = this.updateWebContactsSuccess.bind(this)\n        this.reloadContacts = this.reloadContacts.bind(this)\n    }\n\n    /**\n     * Update the web contacts array\n     */\n    updateWebContacts(formData) {\n        let form = \"{\\\"webAddresses\\\":\".concat(JSON.stringify(formData)).concat('}')\n        contactableService\n            .updateWebContacts(this.props.businessId,\n                this.state.contactMecId,\n                JSON.parse(form), this.props.containerId)\n            .then(response => {\n                this.updateWebContactsSuccess()\n            })\n            .catch(error => {\n                toast.error('Error occurs updating web contacts')\n                console.error(error)\n            });\n    }\n\n    updateWebContactsSuccess() {\n    }\n\n    /**\n     * Update telecom contacts array\n     */\n    updateTelecomContacts(formData) {\n        let form = \"{\\\"telecomAddresses\\\":\".concat(JSON.stringify(formData)).concat('}')\n        contactableService\n            .updateTelecomContacts(this.props.businessId,\n                this.state.contactMecId,\n                JSON.parse(form), this.props.containerId)\n            .then(response => {\n                this.updateTelecomContactsSuccess()\n            })\n            .catch(error => {\n                toast.error('Error occurs updating web contacts')\n                console.error(error)\n            });\n    }\n\n    updateTelecomContactsSuccess() {\n    }\n\n    /**\n     * Update of postal address\n     */\n    updatePostalContact(formData) {\n        return contactableService.updatePostalContacts(this.props.businessId, this.state.contactMecId, formData, this.props.containerId).then(response => {\n                this.updatePostalContactSuccess()\n                return true;\n            }).catch(error => {\n                toast.error('Error occurs updating web contacts')\n                console.error(error)\n                return false;\n            });\n    }\n\n    updatePostalContactSuccess() {\n        this.reloadContacts()\n    }\n\n    /**\n     * Title of postal address section\n     */\n    postalAddressTitle = (data, config) => {\n        let value = commons.getPropByString(data, 'label');\n        return value;\n    }\n\n    async componentDidMount() {\n        this.reloadContacts()\n    }\n\n    async reloadContacts() {\n        contactableService.getAllContacts(this.props.businessId, this.props.containerId).then(response => {\n            if (commons.isRequestSuccess(response) && response.data.length > 0) {\n                const firstItem = response.data[0].attributes.lastModifiedDate;\n                const secondItem = response.data.length > 1 ? response.data[1].attributes.lastModifiedDate : null;\n                let finalItem =  response.data[0];\n\n                if(secondItem) {\n                    let firstItemLastModification = moment(firstItem, \"YYYY-MM-DDD hh:mm:ss\").toDate();\n                    let secondItemLastModification = moment(secondItem, \"YYYY-MM-DDD hh:mm:ss\").toDate();\n                    if(secondItemLastModification >= firstItemLastModification){\n                        finalItem =  response.data[1];\n                    }\n                }\n\n                this.setState({\n                    metaData: response.metaData,\n                    contactMecIndex: 0,\n                    contacts: finalItem,\n                    contactMecId: finalItem.attributes.id,\n                    allContacts: response.data\n                })\n            } else {\n                this.setState({\n                    metaData: undefined,\n                    contacts: undefined,\n                    contactMecId: undefined\n                })\n            }\n        })\n    }\n\n    fullContactView() {\n        /**\n         * Attributes list configuration\n         * objectarray\n         * stringarray\n         */\n        const webAttributesList = {\n            formId: 'webAttributesList_form',\n            onSubmit: (formData) => this.updateWebContacts(formData),\n            borderLess: true,\n            attributes: [\n                {\n                    title: 'Email et réseaux sociaux',\n                    type: 'editableLabelObjectarray',\n                    dataField: 'webAddress',\n                    items: {\n                        attributes: [\n                            {name: 'Titre', dataField: 'title', type: 'text'},\n                            {name: 'Valeur', dataField: 'webAddress', type: 'text'},\n                        ]\n                    },\n                },\n            ],\n        };\n\n        /**\n         * Attributes list configuration\n         * objectarray\n         * stringarray\n         */\n        const phonesAttributesList = {\n            formId: 'phonesAttributesList_form',\n            onSubmit: (formData) => this.updateTelecomContacts(formData),\n            borderLess: true,\n            attributes: [\n                {\n                    title: 'Coordonnées Téléphoniques',\n                    type: 'editableLabelObjectarray',\n                    dataField: 'telecomAddress',\n                    items: {\n                        attributes: [\n                            {name: \"Titre\", type: 'text', dataField: 'title'},\n                            {name: \"Code pays\", type: 'text', dataField: 'countryCode'},\n                            {name: \"Numéro\", type: 'tel', dataField: 'telecomNumber'},\n                        ],\n                    },\n                },\n            ],\n        };\n\n        const postalAddressAttributesList = {\n            arrayTitleProvider: (data) => this.postalAddressTitle(data, this),\n            onSubmit: (formData) => this.updatePostalContact(formData),\n            attributes: [\n                {name: 'Rue', dataField: 'address1', type: 'text'},\n                {name: '(Rue 1)', dataField: 'address2', type: 'text'},\n                {name: '(Rue 2)', dataField: 'address3', type: 'text'},\n                {name: 'Code postale', dataField: 'postalCode', type: 'text'},\n                {name: 'Ville', dataField: 'city', type: 'text'},\n                {name: 'Pays', dataField: 'country', type: 'text'},\n            ],\n        }\n\n        if (this.state.contacts && this.state.contacts.attributes) {\n\n            let additionalAttributesDisplay\n            if (this.props.additionalAttributesDisplay) {\n                additionalAttributesDisplay = this.props.additionalAttributesDisplay(this.state.contacts.links, this.state.contacts.attributes.id)\n            }\n\n            const postalAddress = {attributes: this.state.contacts.attributes.postalAddress}\n            return (\n                <React.Fragment>\n                    <div>\n                        {additionalAttributesDisplay}\n                        <AttributeListGroup {...this.props}\n                                            attributesListConfig={postalAddressAttributesList}\n                                            data={postalAddress}\n                                            displayHeader='true'\n                                            canEdit={this.props.canEdit}\n                                            standardFooterActions=\"true\"\n                                            newObjectFormData={newPostalAddressFormData}/>\n\n                        {this.props.hideMobileContacts !== true && <AttributeListGroup {...this.props}\n                                                                                       attributesListConfig={webAttributesList}\n                                                                                       data={this.state.contacts.attributes}\n                                                                                       canEdit={this.props.canEdit}\n                                                                                       firstRowLabel='false'\n                                                                                       newObjectFormData={newWebFormData}/>\n                        }\n\n                        {this.props.hideMobileContacts !== true && <AttributeListGroup {...this.props}\n                                                                                       attributesListConfig={phonesAttributesList}\n                                                                                       data={this.state.contacts.attributes}\n                                                                                       firstRowLabel='true'\n                                                                                       canEdit={this.props.canEdit}\n                                                                                       newObjectFormData={newPhoneFormData}/>\n                        }\n                    </div>\n                </React.Fragment>\n            )\n        }\n        if (this.props.emptyContacts) {\n            return <div>\n                {this.props.emptyContacts()}\n            </div>\n        }\n        return <></>\n    }\n\n    summaryContactView() {\n        if (this.state.contacts && this.state.contacts.attributes) {\n            let postal = this.state.contacts.attributes.postalAddress;\n\n            let additionalAttributesDisplay\n            if (this.props.additionalAttributesDisplay) {\n                additionalAttributesDisplay = this.props.additionalAttributesDisplay(this.state.contacts.links, this.state.contacts.attributes.id)\n            }\n\n            return <div>\n                {additionalAttributesDisplay}\n                <p><span>{postal.address1} </span> <span>{postal.address2} </span></p>\n                <p><span>{postal.postalCode}, </span> <span>{postal.city}. </span></p>\n                <p><span>{postal.country}</span></p>\n            </div>\n        }\n        if (this.props.emptyContacts) {\n            return <div>\n                {this.props.emptyContacts()}\n            </div>\n        }\n\n        return <></>\n    }\n\n    async selectNextContactMecView(e) {\n        if (e) e.preventDefault();\n        let index = this.state.contactMecIndex + 1;\n        if (index >= this.state.allContacts.length) {\n            index = 0;\n        }\n\n        let contact = this.state.allContacts[index];\n        this.setState({\n            contactMecIndex: index,\n            contacts: contact,\n            contactMecId: contact.attributes.id,\n        })\n    }\n\n    render() {\n        if (this.props.viewMode === 'summary') {\n            return this.summaryContactView()\n        } else {\n\n            let badge = <>&nbsp;&nbsp;&nbsp;</>;\n            if (this.state.allContacts.length > 0) {\n                badge = <Badge pill variant=\"warning\">{this.state.allContacts.length}</Badge>\n            }\n\n            return <>\n                <div>\n                    {this.state.allContacts.length > 1 && this.props.canSwitch &&\n                    <ButtonToolbar className=\"justify-content-start mb-4\">\n                        <Button onClick={e => this.selectNextContactMecView(e)}>\n                            {badge}&nbsp;SUIVANT &nbsp;\n                            <i className=\"fa fa-angle-right fa-lg\"></i>\n                        </Button>\n                    </ButtonToolbar>\n                    }\n                </div>\n                <div>\n                    {this.fullContactView()}\n                </div>\n            </>\n        }\n    }\n}\n\n\nconst newWebFormData = {\n    'label': '', 'value': ''\n}\nconst newPhoneFormData = {\n    'label': '', 'number': '', 'country': ''\n}\nconst newPostalAddressFormData = {\n    'id': '', 'label': 'New postal address', 'street': '', 'code': '', 'county': ''\n}\n\nconst postalAddressUIConfig = {\n    'role': {\n        'enumKey': 'contactMechanismRole',\n        'ui:widget': 'select'\n    },\n    'country': {\n        'enumLoader': 'loadCountries()',\n        'ui:widget': 'select'\n    }\n}\n\n\nContactable.propTypes = propTypes;\nContactable.defaultProps = defaultProps;\n\n\nexport default Contactable;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { accountService } from '_services/account.services';\nimport { toast } from 'react-toastify';\nimport { WizardConfirm, ProcessingModal } from '_components/_common';\nimport Form from 'react-bootstrap/Form'\n\nconst propTypes = {\n\taccountId: PropTypes.string.isRequired,\n}\n\nconst defaultProps = {\n}\n\n/**\n * Reset password modal\n */\nclass ResetPassword extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n\t  modal: false,\n\t  accountId: props.accountId,\n\t  form:{\n\t  \tnotify: true,\n\t  \tpassword:''\n\t  }\n    };\n\n\tthis.toggle = this.toggle.bind(this);\n\tthis.doResetPassword = this.doResetPassword.bind(this);\n\tthis.dialogContent = this.dialogContent.bind(this);\n\tthis.handleChange = this.handleChange.bind(this);\n  }\n  /**\n   * Toogle the modal\n   */\n  toggle() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n  }\n  /**\n   * Do reset password\n   */\n  doResetPassword(){\n  \tthis.toggle();\n\n\taccountService\n\t.resetPassword(this.state.accountId, this.props.containerId)\n\t.then(response => {\n\t\tthis.resetSuccess()\n\t})\n\t.catch(error => {\n\t\tthis.toggle();\n\t\ttoast.error('Error when reseting user password!')\n\t\tconsole.error(error)\n\t});\n  }\n\n  handleChange(e){\n  \tlet form = {...this.state.form}\n  \tif(e.target.name === 'password'){\n  \t\tform.password = e.target.value\n  \t}\n\n  \tif(e.target.name === 'notify'){\n  \t\tform.notify = e.target.checked\n  \t}\n\n  \tthis.setState({form: form})\n  }\n\n  dialogContent(){\n  \treturn <>\n  \t</>\n  }\n\n  dialogContent2(){\n  \treturn <>\n\t\t<Form>\n\t\t  <Form.Group controlId=\"formBasicEmail\">\n\t\t    <Form.Control\n\t\t    \tname=\"password\"\n\t\t    \ttype=\"text\"\n\t\t    \tvalue={this.state.password}\n\t\t    \tonChange={this.handleChange}\n\t\t    \tplaceholder=\"Nouveau mot de passe\" />\n\t\t  </Form.Group>\n\n\t\t  <Form.Group controlId=\"formBasicCheckbox\">\n\t\t    <Form.Check\n\t\t    \tname=\"notify\"\n\t\t    \ttype=\"checkbox\"\n\t\t    \tchecked=\"true\"\n\t\t    \tvalue={this.state.notify}\n\t\t    \tonChange={this.handleChange}\n\t\t    \tlabel=\"Notifier utilisateur\" />\n\t\t  </Form.Group>\n\t\t</Form>\n  \t</>\n  }\n\n  resetSuccess(){\n\t  try {\n\t\t  this.toggle();\n\t\t  toast.success('Password reset success');\n\n\t\t  if(this.props.afterUpdate){\n\t\t  \tthis.props.afterUpdate(true);\n\t\t  }\n\t  }\n\t  catch(error) {\n\t\t  console.error(error);\n\t  }\n  }\n  /**\n   * React render\n   */\n  render() {\n    return (<>\n    \t<ProcessingModal show={this.state.modal}/>\n    \t<WizardConfirm\n    \t\tbuttonTitle={\"Réinitialiser mot de passe\".toUpperCase()}\n\t\t\tonConfirm={() => this.doResetPassword()}\n\t\t\tdialogContent={() => this.dialogContent()}\n\t\t\tdialogMessage=\"Réinitialiser mot de passe?\"\n\t\t\tdialogTitle={\"Réinitialiser mot de passe\".toUpperCase()}/>\n\t\t<div className=\"mr-3\"></div>\n    </>);\n  }\n}\n\nResetPassword.propTypes = propTypes;\nResetPassword.defaultProps = defaultProps;\n\nexport default ResetPassword;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { accountService } from '_services/account.services';\nimport { toast } from 'react-toastify';\nimport * as actions from '_actions/actions';\nimport { WizardConfirm } from '_components/_common';\n\nconst propTypes = {\n\taccountId: PropTypes.string.isRequired,\n}\n\nconst defaultProps = {\n}\n\nconst mapStateToProps = store => ({\n})\n\nconst mapDispatchToProps = (disptach) => ({\n\tonAccountLocked: (payload) => disptach(actions.userAccountLocked(payload)),\n});\n\n/**\n * Lock user component\n */\nclass LockUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\t  modal: false,\n\t  accountId: props.accountId\n    };\n\n\tthis.toggle = this.toggle.bind(this)\n\tthis.doLockUser = this.doLockUser.bind(this)\n\tthis.lockSuccess = this.lockSuccess.bind(this)\n  }\n  /**\n   * Toogle the modal\n   */\n  toggle() {\n    \tthis.setState(prevState => ({\n      \t\tmodal: !prevState.modal\n\t\t})\n\t)\n  }\n  /**\n   * Lock the user\n   */\n  doLockUser(){\n\taccountService\n\t.lock(this.state.accountId, this.props.containerId)\n\t.then(response => {\n\t\tthis.lockSuccess()\n\t})\n\t.catch(error => {\n\t\tthis.toggle();\n\t\ttoast.error('Error occurs when locking user!')\n\t\tconsole.error(error)\n\t});\n  }\n\n  lockSuccess(){\n\t  try {\n\t\t  this.toggle()\n\t\t  toast.success('Lock success')\n\t\t  const payload = {'locked': true}\n\n\t\t  this.props.onAccountLocked(payload);\n\t\t  if(this.props.afterUpdate){\n\t\t  \tthis.props.afterUpdate(true);\n\t\t  }\n\t  }\n\t  catch(error) {console.error(error);}\n  }\n\n  render() {\n    return (\n    \t<WizardConfirm\n    \t\tbuttonColor='secondary'\n    \t\tbuttonTitle={\"Bloquer utilisateur\".toUpperCase()}\n\t\t\tonConfirm={() => this.doLockUser()}\n\t\t\tdialogMessage=\"Les utilisateurs blockés ne peuvent pas se connecter au système.\"\n\t\t\tdialogTitle={\"Bloquer utilisateur\".toUpperCase()}/>\n    );\n  }\n}\n\nLockUser.propTypes = propTypes;\nLockUser.defaultProps = defaultProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps) (LockUser);\n","/* eslint react/no-multi-comp: 0, react/prop-types: 0 */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { accountService } from '_services/account.services';\nimport { toast } from 'react-toastify';\nimport * as actions from '_actions/actions';\nimport { WizardConfirm } from '_components/_common';\n\nconst propTypes = {\n\taccountId: PropTypes.string.isRequired,\n};\n\nconst defaultProps = {\n};\nconst mapStateToProps = store => ({\n})\nconst mapDispatchToProps = (disptach) => ({\n\tonAccountUnLocked: (payload) => disptach(actions.userAccountUnLocked(payload)),\n});\n\n/**\n * Unlock user\n */\nclass UnLockUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\t  modal: false,\n\t  accountId: props.accountId\n    };\n\n\tthis.toggle = this.toggle.bind(this);\n\tthis.doUnlockUser = this.doUnlockUser.bind(this);\n\tthis.unlockSuccess = this.unlockSuccess.bind(this)\n  }\n  /**\n   * Toggle the modal\n   */\n  toggle() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n  }\n  /**\n   * Unlock user\n   */\n  doUnlockUser(){\n\taccountService\n\t.unlock(this.state.accountId, '', this.props.containerId)\n\t.then(response => {\n\t\tthis.unlockSuccess()\n\t})\n\t.catch(error => {\n\t\tthis.toggle();\n\t\ttoast.error('Error occurs when locking user!')\n\t\tconsole.error(error)\n\t});\n  }\n  /**\n   *\n   */\n  unlockSuccess(){\n\t  try {\n\t\t  this.toggle()\n\t\t  toast.success('Unlock success')\n\n\t\t  const payload = {'locked': false}\n\t\t  this.props.onAccountUnLocked(payload);\n\n\t\t  if(this.props.afterUpdate){\n\t\t  \tthis.props.afterUpdate(true);\n\t\t  }\n\t  }\n\t  catch(error) {\n\t\t  console.error(error);\n\t  }\n  }\n  /**\n   * Render\n   */\n  render() {\n    return (<div>\n    \t<WizardConfirm\n    \t\tbuttonSize=\"sm\"\n    \t\tbuttonColor='secondary'\n    \t\tbuttonTitle={\"Débloquer utilisateur\".toUpperCase()}\n\t\t\tonConfirm={() => this.doUnlockUser()}\n\t\t\tdialogMessage=\"Débloquer utilisateur?\"\n\t\t\tdialogTitle={\"Débloquer utilisateur\".toUpperCase()}/>\n      </div>\n    );\n  }\n}\n\nUnLockUser.propTypes = propTypes;\nUnLockUser.defaultProps = defaultProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps) (UnLockUser);\n","/* eslint react/no-multi-comp: 0, react/prop-types: 0 */\nimport React from 'react';\nimport {\n    Col,\n    Form,\n    Input,\n    InputGroup,\n    InputGroupAddon,\n    InputGroupText,\n    Label,\n    Modal,\n    ModalBody,\n    ModalFooter,\n    ModalHeader,\n    Row\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {accountService} from '_services/account.services';\nimport * as actions from '_actions/actions';\nimport {toast} from 'react-toastify';\nimport {loginService} from '_services/login.services';\nimport {commons} from '_helpers/commons';\nimport Spinner from 'react-bootstrap/Spinner'\nimport {coreUri} from \"_helpers/CoreUri\";\n\nconst propTypes = {\n    accountId: PropTypes.string.isRequired,\n};\n\nconst defaultProps = {};\n\nconst mapStateToProps = store => ({})\n\nconst mapDispatchToProps = (disptach) => ({\n    onUserAccountUpdatePass: (payload) => disptach(actions.userAccountUpdatePass(payload)),\n});\n\nclass UpdatePassword extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\n            modal: false,\n            accountId: props.accountId,\n            formData: {\n                oldPassword: '',\n                newPassword: '',\n                newPasswordValidation: '',\n            },\n\n            processing: false,\n            formError: '',\n            canUpdate: false\n        };\n\n        this.toggle = this.toggle.bind(this);\n        this.doUpdatePassword = this.doUpdatePassword.bind(this);\n        this.handleFormChange = this.handleFormChange.bind(this)\n        this.updateSuccess = this.updateSuccess.bind(this)\n        this.backHome = this.backHome.bind(this)\n        this.userPostLogin = this.userPostLogin.bind(this)\n    }\n\n    backHome() {\n        window.location.href = coreUri.clientSideRenderedURL('/');\n    }\n\n    handleFormChange(event) {\n        let formadata = JSON.parse(JSON.stringify(this.state.formData))\n        formadata[event.target.name] = event.target.value;\n\n        let emptypass = formadata.newPassword === ''\n            || formadata.newPasswordValidation === ''\n            || formadata.newPassword === '';\n\n        let samePass = JSON.stringify(formadata.newPasswordValidation) === JSON.stringify(formadata.newPassword)\n        let canUpdate, formError = '';\n        if (emptypass) {\n            formError = 'Passwords can not be empty!';\n            canUpdate = false;\n        } else if (!samePass) {\n            formError = 'Passwords are not same!';\n            canUpdate = false;\n        } else if (formadata.newPasswordValidation.length < 6) {\n            formError = 'Too short';\n            canUpdate = false;\n        } else {\n            formError = '';\n            canUpdate = true;\n        }\n\n        this.setState({\n            formData: formadata,\n            formError: formError,\n            canUpdate: canUpdate\n        })\n    }\n\n    toggle() {\n        this.setState(prevState => ({\n            modal: !prevState.modal\n        }));\n    }\n\n    doResetPassword(e) {\n        let token = this.props.match.params.lockToken;\n        if (token) {\n\n            this.setState({processing: true})\n            accountService\n                .updateLostPasswordByUser(token, this.state.formData, this.props.containerId)\n                .then(response => {\n                    if (response && response.status === 200) {\n                        let json = response.json();\n                        return json;\n                    }\n                    return null;\n                })\n                .then(response => {\n                    if (response && response.data) {\n                        if (response.data.attributes.updated === 'ok') {\n                            let userEmail = response.data.attributes.userEmail;\n                            this.updateSuccess2(userEmail);\n                        } else {\n                            this.updateError();\n                        }\n                    } else {\n                        this.updateError();\n                    }\n                })\n                .catch(error => {\n                    toast.error('Error when updating password!')\n                    console.error(error)\n                });\n        }\n    }\n\n    async updateSuccess2(userEmail) {\n        if (!userEmail) {\n            return\n        }\n\n        try {\n            let formData = {};\n            formData.login = userEmail;\n            formData.password = this.state.formData.newPassword;\n\n            let response = await loginService\n                .login(formData)\n                .then(response => {\n                    return response;\n                })\n\n            if (!response) {\n                this.updateError();\n                return;\n            }\n\n            let authorization = await response.text();\n            if (!authorization) {\n                this.updateError();\n            } else {\n                commons.setSessionId(authorization);\n                this.userPostLogin(authorization);\n            }\n        } catch (error) {\n            alert(error);\n        }\n    }\n\n    userPostLogin(authorization) {\n        if (authorization) {\n            loginService.postLogin(authorization)\n                .then(json => {\n                    return json;\n                })\n                .then(json => {\n                    commons.katappult_core_loginSuccess(json);\n\n                    let account = JSON.parse(json.data.links.account)\n                    let active = account.active;\n                    if (active) {\n                        this.props.history.push('/home')\n                    } else {\n                        let login = account.nickName;\n                        window.location.href = coreUri.clientSideRenderedURL('/activateAccount');\n                    }\n                });\n        }\n    }\n\n    doUpdatePassword(e) {\n        accountService\n            .updatePassword(this.state.accountId, this.state.formData, this.props.containerId)\n            .then(response => {\n                if (response.status === 200) {\n                    this.updateSuccess();\n                } else {\n                    this.updateError();\n                }\n            })\n            .catch(error => {\n                this.toggle();\n                toast.error('Error when updating password!')\n                console.error(error)\n            });\n    }\n\n    updateSuccess() {\n        try {\n            this.toggle()\n            toast.success('Password update success.')\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    updateError() {\n        this.setState({\n            formError: 'Incorrect or invalid passwords',\n            processing: false\n        })\n    }\n\n    reinitLostPass() {\n        return <Form>\n            <Row>\n                <Col md=\"12\" lg=\"12\" xl=\"12\">\n                    <Label className=\"form-error\">{this.state.formError}</Label>\n                </Col>\n            </Row>\n            <InputGroup className=\"mb-3\">\n                <InputGroupAddon addonType=\"prepend\">\n                </InputGroupAddon>\n                <Input type=\"password\" name=\"newPassword\" placeholder=\"New password\" autoComplete=\"new-password\"\n                       onChange={(e) => this.handleFormChange(e)}/>\n            </InputGroup>\n            <InputGroup className=\"mb-4\">\n                <InputGroupAddon addonType=\"prepend\">\n                </InputGroupAddon>\n                <Input type=\"password\" name=\"newPasswordValidation\" placeholder=\"Repeat password\"\n                       autoComplete=\"new-password\" onChange={(e) => this.handleFormChange(e)}/>\n            </InputGroup>\n            <div className={'btn-toolbar'}>\n                {!this.state.processing && <button disabled={!this.state.canUpdate} block\n                                                   color=\"secondary\"\n                                                   onClick={(e) => this.doResetPassword(e)}>\n                    Changer mot de passe\n                </button>\n                }\n\n                {this.state.processing &&\n                <Spinner animation=\"border\" variant=\"primary\"/>\n                }\n\n            </div>\n        </Form>\n    }\n\n    formContent() {\n        return <Form>\n            <InputGroup className=\"mb-3\">\n                <InputGroupAddon addonType=\"prepend\">\n                    <InputGroupText>\n                        <i className=\"icon-lock\"></i>\n                    </InputGroupText>\n                </InputGroupAddon>\n                <Input type=\"password\" name=\"oldPassword\" placeholder=\"Old password\" autoComplete=\"new-password\"\n                       onChange={(e) => this.handleFormChange(e)}/>\n            </InputGroup>\n            <InputGroup className=\"mb-3\">\n                <InputGroupAddon addonType=\"prepend\">\n                    <InputGroupText>\n                        <i className=\"icon-lock\"></i>\n                    </InputGroupText>\n                </InputGroupAddon>\n                <Input type=\"password\" name=\"newPassword\" placeholder=\"New password\" autoComplete=\"new-password\"\n                       onChange={(e) => this.handleFormChange(e)}/>\n            </InputGroup>\n            <InputGroup className=\"mb-4\">\n                <InputGroupAddon addonType=\"prepend\">\n                    <InputGroupText>\n                        <i className=\"icon-lock\"></i>\n                    </InputGroupText>\n                </InputGroupAddon>\n                <Input type=\"password\" name=\"newPasswordValidation\" placeholder=\"Repeat password\"\n                       autoComplete=\"new-password\" onChange={(e) => this.handleFormChange(e)}/>\n            </InputGroup>\n        </Form>\n    }\n\n    modalUpdatePassWord() {\n\n        return <div>\n            <button className=\"ml-1 mr-1\" onClick={this.toggle} size=\"sm\">CHANGER MOT DE PASSE</button>\n            <Modal isOpen={this.state.modal} toggle={this.toggle} centered>\n                <ModalHeader toggle={this.toggle}>Changer mot de passe</ModalHeader>\n                <div className=\"border-bottom\"/>\n\n                <ModalBody>\n                    <Label className=\"form-error\">{this.state.formError}</Label>\n                    <div className=\"\">\n                        {this.formContent()}\n                    </div>\n                </ModalBody>\n\n                <ModalFooter>\n                    <button color=\"primary\" onClick={(e) => this.doUpdatePassword(e)}>Mettre à jour</button>{' '}\n                    <button color=\"secondary\" onClick={this.toggle}>Annuler</button>\n                </ModalFooter>\n            </Modal>\n        </div>\n    }\n\n    render() {\n        if (this.props.reinitLostPass === true) {\n            return <div className={'reinit-password-page'}>\n                {this.reinitLostPass()}\n            </div>\n        }\n\n        return this.modalUpdatePassWord();\n    }\n}\n\nUpdatePassword.propTypes = propTypes;\nUpdatePassword.defaultProps = defaultProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UpdatePassword);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Label} from 'reactstrap';\n\nconst propTypes = {\n\tvalue: PropTypes.number,\n}\n\nconst defaultProps = {\n\tvalue: 0\n}\n/**\n * \n */\nclass GenderViewer extends React.Component {\n\n\trender() {\n\t\tif(0 === this.props.value){\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Label>M</Label>\n\t\t\t\t</React.Fragment>\t\n\t\t\t)\n\t\t}\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Label>F</Label>\n\t\t\t\t</React.Fragment>\t\n\t\t\t)\n\t\t}\n\t}\n}\n\nGenderViewer.propTypes = propTypes;\nGenderViewer.defaultProps = defaultProps;\n\nexport default GenderViewer;\n","/* eslint react/no-multi-comp: 0, react/prop-types: 0 */\nimport React from 'react';\nimport { Button,\n\tModal,\n\tModalHeader,\n\tModalBody,\n\tModalFooter ,\n\tLabel,\n\tForm, Input,\n\tInputGroup, InputGroupAddon,\n\tInputGroupText\n}\nfrom 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { accountService } from '_services/account.services';\nimport { toast } from 'react-toastify';\n\nconst propTypes = {\n\taccountId: PropTypes.string.isRequired,\n};\n\nconst defaultProps = {\n};\n\nconst mapStateToProps = store => ({\n})\n\nconst mapDispatchToProps = (disptach) => ({\n\n});\n/**\n *\n */\nclass ActivatePassword extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\t  modal: false,\n\t  accountId: props.accountId,\n\t  formData: {\n\t\t  newPassword: '',\n\t\t  newPasswordValidation: '',\n\t  },\n\t  formError: ''\n    };\n\n\tthis.doActivateAccount = this.doActivateAccount.bind(this);\n\tthis.handleFormChange = this.handleFormChange.bind(this)\n\tthis.updateSuccess = this.updateSuccess.bind(this)\n  }\n\n  handleFormChange(event) {\n\tlet formadata = JSON.parse(JSON.stringify(this.state.formData))\n\tformadata[event.target.name] = event.target.value\n\tlet emptypass = this.state.formData.newPassword === ''\n\t\t|| this.state.formData.newPasswordValidation === ''\n\n\tlet samePass = this.state.formData.newPasswordValidation === this.state.formData.newPassword\n\tlet formError = ''\n\tif(emptypass) {\n\t\tformError = 'Le mot de passe est obligatoire!'\n\t}\n\telse if(!samePass) {\n\t\tformError = 'Les mots de passe ne sont pas identiques!'\n\t}\n\telse {\n\t\tformError = '--'\n\t}\n\n\tthis.setState({\n\t\tformData: formadata,\n\t\tformError: formError\n\t})\n  }\n\n  doActivatePassword(e) {\n\te.preventDefault()\n\taccountService\n\t.activatePassword(this.state.accountId, this.state.formData, this.props.containerId)\n\t.then(response => {\n\t\tthis.updateSuccess()\n\t})\n\t.catch(error => {\n\t\tthis.toggle();\n\t\tconsole.error(error)\n\t});\n  }\n\n  updateSuccess(){\n\t  try {\n\t\t  this.toggle()\n\t\t  toast.info('Le mot de passe a été mis à jour.')\n\t  }\n\t  catch(error) {\n\t\t  console.error(error);\n\t  }\n  }\n\n  render() {\n    return (\n      <div>\n        <Button className=\"activate-pass-modal\" onClick={this.toggle}>Modifier mot de passe</Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle}>\n\t\t\t<ModalHeader toggle={this.toggle}>Modifier mot de passe</ModalHeader>\n          \t<ModalBody>\n\n\t\t\t\t<Label className=\"form-error\">{this.state.formError}</Label>\n\n\t\t\t\t<Form>\n\t\t\t\t\t  <h1>Veuiller fournir un mot de passe pour activer votre compte</h1>\n\t\t\t\t\t  <InputGroup>\n\t\t\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\n\t\t\t\t\t\t\t\t  <InputGroupText>\n\t\t\t\t\t\t\t\t\t\t<i className=\"icon-lock\"></i>\n\t\t\t\t\t\t\t\t  </InputGroupText>\n\t\t\t\t\t\t\t</InputGroupAddon>\n\t\t\t\t\t\t\t<Input type=\"password\" name=\"newPassword\" placeholder=\"New password\" autoComplete=\"new-password\" onChange={(e) => this.handleFormChange(e)}/>\n\t\t\t\t\t  </InputGroup>\n\t\t\t\t\t  <InputGroup>\n\t\t\t\t\t\t\t<InputGroupAddon addonType=\"prepend\">\n\t\t\t\t\t\t\t\t\t  <InputGroupText>\n\t\t\t\t\t\t\t\t\t\t<i className=\"icon-lock\"></i>\n\t\t\t\t\t\t\t\t\t  </InputGroupText>\n\t\t\t\t\t\t\t</InputGroupAddon>\n\t\t\t\t\t\t\t<Input type=\"password\" name=\"newPasswordValidation\" placeholder=\"Repeat password\" autoComplete=\"new-password\" onChange={(e) => this.handleFormChange(e)}/>\n\t\t\t\t\t  </InputGroup>\n\t\t\t\t</Form>\n\n\t      </ModalBody>\n          <ModalFooter>\n            <Button onClick={(e) => this.doActivatePassword(e)}>Modifier</Button>{' '}\n            <Button onClick={this.toggle}>Annuler</Button>\n          </ModalFooter>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nActivatePassword.propTypes = propTypes;\nActivatePassword.defaultProps = defaultProps;\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ActivatePassword);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { workableService } from '_services/workable.services';\nimport { WizardConfirm } from '_components/_common';\nimport Button from 'react-bootstrap/Button'\nimport {commons} from \"_helpers/commons\";\nimport {toast} from \"react-toastify\";\n\nconst propTypes = {\n\tworkInfo: PropTypes.object,\n\tworkableId: PropTypes.string,\n\tcanCheckin: PropTypes.bool,\n\tcanCheckout: PropTypes.bool,\n\tcanUndoCheckout: PropTypes.bool,\n\ttoWcCallBack: PropTypes.func,\n}\nconst defaultProps = {\n\tcanCheckin: false,\n\tcanCheckout: false,\n\tcanUndoCheckout: false,\n\ttoWcCallBack: null\n}\n/**\n * Actions for workable\n */\nclass WorkableAction extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t}\n\n\t\tthis.checkin = this.checkin.bind(this)\n\t\tthis.checkout = this.checkout.bind(this)\n\t\tthis.undoCheckout = this.undoCheckout.bind(this)\n\t\tthis.toWorkingCopy = this.toWorkingCopy.bind(this)\n\t\tthis.toOriginalCopy = this.toOriginalCopy.bind(this)\n\t}\n\n\tcomponentDidUpdate(prevProps){\n\t\tif(prevProps.workableId !== this.props.workableId){\n\t\t\tthis.setState({\n\t\t\t\twc: this.props.workInfo.isWorkingCopy,\n\t\t\t\tlocked: this.props.workInfo.lockedBy !== '' && !this.props.workInfo.isWorkingCopy,\n\t\t\t\tworkableId: this.props.workableId\n\t\t\t})\n\t\t}\n\t}\n\n\tasync toOriginalCopy(e){\n\t\tif(e) e.preventDefault()\n\t\tif(this.props.setLoading) this.props.setLoading();\n\t\tconst idOnly = this.props.idOnly ? this.props.idOnly : false;\n\t\tworkableService.originalCopy(this.props.workableId, idOnly, this.props.containerId).then(response => {\n\t\t\tif(commons.isRequestError(response)){\n\t\t\t\ttoast.error(commons.toastError(response))\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.props.loadDatas(response.data.attributes.id, false);\n\t\t\t}\n\t\t})\n\t}\n\t/**\n\t * toWorkingCopy\n\t */\n\tasync toWorkingCopy(e, id){\n\t\tif(e)e.preventDefault();\n\t\tif(this.props.setLoading) this.props.setLoading();\n\t\tconst idOnly = this.props.idOnly ? this.props.idOnly : false;\n\t\tworkableService.workingCopy(id ? id : this.props.workableId, idOnly, this.props.containerId).then(response => {\n\t\t\tif(commons.isRequestError(response)){\n\t\t\t\ttoast.error(commons.toastError(response))\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.props.loadDatas(response.data.attributes.id, false);\n\t\t\t}\n\t\t})\n\t}\n\t/**\n\t * Checkin\n\t */\n\tasync checkin(e){\n\t\tif(e)e.preventDefault();\n\t\tif(this.props.setLoading) this.props.setLoading();\n\n\t\tworkableService.checkin(this.props.workableId, '', this.props.containerId).then(response => {\n\t\t\tif(commons.isRequestError(response)){\n\t\t\t\ttoast.error(commons.toastError(response))\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.props.loadDatas(this.props.workableId, false);\n\t\t\t\tif(this.props.refreshListView){\n\t\t\t\t\tthis.props.refreshListView('viewDetails');\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\t/**\n\t * Checkout\n\t */\n\tasync checkout(e){\n\t\tif(e)e.preventDefault();\n\t\tif(this.props.setLoading) this.props.setLoading();\n\n\t\tconst idOnly = this.props.idOnly ? this.props.idOnly : false;\n\t\tworkableService.checkout(this.props.workableId, idOnly,'', this.props.containerId).then(response => {\n\t\t\tif(commons.isRequestError(response)){\n\t\t\t\ttoast.error(commons.toastError(response))\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst wcid = response.data.attributes.id\n\t\t\t\tthis.props.loadDatas(wcid, false);\n\t\t\t}\n\t\t})\n\t}\n\t/**\n\t * Undo checkout\n\t */\n\tasync undoCheckout(e){\n\t\tif(e)e.preventDefault();\n\t\tif(this.props.setLoading) this.props.setLoading();\n\t\tconst idOnly = this.props.idOnly ? this.props.idOnly : false;\n\t\tworkableService.originalCopy(this.props.workableId, idOnly, this.props.containerId).then(response => {\n\t\t\tif(commons.isRequestError(response)){\n\t\t\t\ttoast.error(commons.toastError(response))\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst original = response.data.attributes.id;\n\t\t\t\tworkableService.undoCheckout(this.props.workableId, '', this.props.containerId).then((res) => {\n\t\t\t\t\tif(commons.isRequestError(res)){\n\t\t\t\t\t\ttoast.error(commons.toastError(res))\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif(this.props.loadDatas){\n\t\t\t\t\t\t\tthis.props.loadDatas(original);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(this.props.refreshListView){\n\t\t\t\t\t\t\tthis.props.refreshListView();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\tworkingCopyActions(){\n\t\tlet VALIDATE_LABEL = this.props.VALIDATE_LABEL ? this.props.VALIDATE_LABEL :  'Valider';\n\t\tlet DELETE_WC_LABEL = this.props.DELETE_WC_LABEL ? this.props.DELETE_WC_LABEL :  'Supprimer';\n\t\tconst validateIcon = this.props.validateIcon ? this.props.validateIcon : 'fa fa-check fa-md';\n\t\tconst deleteIcon = this.props.deleteIcon ? this.props.deleteIcon : 'fa fa-md fa-trash';\n\n\t\treturn <>\n\t\t\t<WizardConfirm\n\t\t\t\tbuttonIcon={validateIcon}\n\t\t\t\tbuttonTitle={VALIDATE_LABEL}\n\t\t\t\tonConfirm={() => this.checkin()}\n\t\t\t\tdialogMessage=\"Validater toutes les modifications?\"\n\t\t\t\tdialogTitle={VALIDATE_LABEL}/>\n\n\t\t\t<WizardConfirm\n\t\t\t\tbuttonIcon={deleteIcon}\n\t\t\t\tbuttonTitle={DELETE_WC_LABEL}\n\t\t\t\tonConfirm={() => this.undoCheckout()}\n\t\t\t\tdialogMessage=\"Annuler toutes les modifications?\"\n\t\t\t\tdialogTitle={DELETE_WC_LABEL}/>\n\t\t</>\n\t}\n\t/**\n\t * Workable actions\n\t */\n\tworkabaleActions() {\n\t\tlet workingCopy = this.props.workInfo.isWorkingCopy === true;\n\n\t\tlet hasWorkingCopy = this.props.workInfo.lockedSince !== null &&\n\t\t\tthis.props.workInfo.lockedSince !== undefined &&\n\t\t\tthis.props.workInfo.lockedSince !== '';\n\n\t\tlet canForwardToWc = hasWorkingCopy && !workingCopy;\n\t\tlet canForwardToOriginalCopy = hasWorkingCopy && workingCopy;\n\n\t\tlet canCheckout = false;\n\t\tif(this.props.iterationInfo.isLatestIteration === true && !hasWorkingCopy){\n\t\t\tcanCheckout = true;\n\t\t}\n\n\t\tif(this.props.versionInfo && !this.props.versionInfo.isLatestVersion){\n\t\t\tcanCheckout = false;\n\t\t}\n\n\t\tlet actions = [];\n\t\tlet CLONE_LABEL= this.props.CLONE_LABEL ? this.props.CLONE_LABEL :  'CLONE';\n\t\tconst cloneIcon = this.props.cloneIcon ?  this.props.cloneIcon : 'fa fa-md fa-clone';\n\t\tif(canCheckout){\n\t\t\tactions.push(\n\t\t\t\t<WizardConfirm\n\t\t\t\t\tbuttonIcon={cloneIcon}\n\t\t\t\t\tbuttonTitle={CLONE_LABEL}\n\t\t\t\t\tonConfirm={() => this.checkout()}\n\t\t\t\t\tdialogMessage=\"Créer une copie de travail?\"\n\t\t\t\t\tdialogTitle={CLONE_LABEL}/>\n\t\t\t)\n\t\t}\n\n\t\tif(workingCopy){\n\t\t\tactions.push(this.workingCopyActions());\n\t\t}\n\n\t\tlet WC_LABEL = this.props.WC_LABEL ? this.props.WC_LABEL :  'WORKING COPY'\n\t\tlet OC_LABEL = this.props.WC_LABEL ? this.props.OC_LABEL :  'ORIGINAL COPY'\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{actions}\n\t\t\t\t<Button hidden={!canForwardToWc}  onClick={this.toWorkingCopy}>\n\t\t\t\t\t<i className=\"fa fa-forward fa-md\"></i>&nbsp;{WC_LABEL}</Button>\n\t\t\t\t<Button hidden={!canForwardToOriginalCopy}  onClick={this.toOriginalCopy}>\n\t\t\t\t\t<i className=\"fa fa-forward fa-md\"></i>&nbsp;{OC_LABEL}</Button>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n\n\trender(){\n\t\treturn (<div>{this.workabaleActions()}</div>)\n\t}\n}\n\nWorkableAction.propTypes = propTypes;\nWorkableAction.defaultProps = defaultProps;\n\n\nexport default WorkableAction;\n","import {_doGet, buildURLQuery, API_ROOT, _doPost} from './utils/services.config';\n\n/**\n * Rev controlled\n */\nexport const revControlledService = {\n    allIterationsOf,\n\tallIterationsOfversion,\n    allVersionsOf,\n    exactIterationAndVersion,\n\texactIterationAndVersionIdOnly,\n    latestIterationOf,\n\tlatestIterationOfIdOnly,\n\trevise,\n}\nfunction revise(revControlledId, containerId){\n\tconst uri = '/api/secured/v1/katappult/rc/revise?containerId=' + containerId + \"&revControlledId=\" + revControlledId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doPost(url);\n}\n/**\n * All iterations of a revision controlled.\n *\n * @param revControlledId\n * @returns\n */\nasync function allIterationsOf(revControlledId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/rc/iterations?' + 'containerId=' + containerId + '&revControlledId=' + revControlledId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function allIterationsOfversion(revControlledId, versionId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/rc/iterationsOfVersion?' + 'containerId=' + containerId + '&revControlledId=' + revControlledId + '&versionNumber=' +versionId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n\n/**\n * All versions of a revision controlled.\n *\n * @param revControlledId\n * @returns\n */\nasync function allVersionsOf(revControlledId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/rc/versions?' + 'containerId=' + containerId + '&revControlledId=' + revControlledId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function exactIterationAndVersion(revControlledId, version, iteration, containerId){\n\tconst uri = '/api/secured/v1/katappult/rc/exactVersion/exactIteration?containerId=' + containerId + '&revControlledId=' + revControlledId + '&versionNumber=' + version + '&iterationNumber=' + iteration + \"&idOnly=false\";\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function latestIterationOf(revControlledId, containerId){\n\tconst uri = '/api/secured/v1/katappult/rc/latest?' + 'containerId=' + containerId + '&revControlledId=' + revControlledId + \"&idOnly=false\";\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n\nasync function exactIterationAndVersionIdOnly(revControlledId, version, iteration, containerId){\n\tconst uri = '/api/secured/v1/katappult/rc/exactVersion/exactIteration?containerId=' + containerId + '&revControlledId=' + revControlledId + '&versionNumber=' + version + '&iterationNumber=' + iteration + \"&idOnly=true\";\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function latestIterationOfIdOnly(revControlledId, containerId){\n\tconst uri = '/api/secured/v1/katappult/rc/latest?' + 'containerId=' + containerId + '&revControlledId=' + revControlledId + \"&idOnly=true\";\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { revControlledService } from '_services/revcontrolled.services';\nimport Button from 'react-bootstrap/Button'\nimport {WizardConfirm} from \"_components/_common\";\nimport {commons} from \"_helpers/commons\";\nimport {toast} from \"react-toastify\";\n\nconst propTypes = {\n\tversionInfo: PropTypes.string,\n\titerationInfo: PropTypes.string,\n\trevControlledId: PropTypes.string,\n}\nconst defaultProps = {\n}\n/**\n * Actions for revision controlled\n */\nclass RevControlledAction extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.revise = this.revise.bind(this);\n\t\tthis.getNextIteration = this.getNextIteration.bind(this);\n\t\tthis.getPreviousIteration = this.getPreviousIteration.bind(this);\n\t\tthis.getLatestIteration = this.getLatestIteration.bind(this);\n\t\tthis.onAllIterationsSelected = this.onAllIterationsSelected.bind(this);\n\t}\n\n\tasync onAllIterationsSelected() {\n\t\tif(this.props.onAllIterationsSelected){\n\t\t\tthis.props.onAllIterationsSelected()\n\t\t}\n\t}\n\n\tasync revise(){\n\t\tlet revControlledId = this.props.revControlledId;\n\t\trevControlledService.revise(revControlledId, this.props.containerId).then(response => {\n\t\t\tconst error = commons.isRequestError(response)\n\t\t\tif(error){\n\t\t\t\ttoast.error(commons.toastError(response));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif(this.props.loadDatas) this.props.loadDatas(response.data.attributes.id);\n\t\t\t\tif(this.props.refreshListView) this.props.refreshListView();\n\t\t\t}\n\t\t})\n\t}\n\n\tasync getNextIteration(){\n\t\tlet currentIteration = this.props.iterationInfo.iterationNumber,\n\t\t\tnextIteration = currentIteration + 1;\n\n\t\tlet version = this.props.versionInfo ? this.props.versionInfo.versionId : 'not_versioned';\n\t\tlet revControlledId = this.props.revControlledId;\n\t\trevControlledService.exactIterationAndVersionIdOnly(revControlledId, version, nextIteration, this.props.containerId).then(response => {\n\t\t\tconst error = commons.isRequestError(response)\n\t\t\tif(!error){\n\t\t\t\tthis.props.loadDatas(response.data.attributes.id);\n\t\t\t}\n\t\t})\n\t}\n\n\tasync getPreviousIteration(){\n\t\tlet currentIteration = this.props.iterationInfo.iterationNumber,\n\t\t\tpreviousIteration = currentIteration - 1;\n\n\t\tlet version = this.props.versionInfo ? this.props.versionInfo.versionId : 'not_versioned';\n\t\tif(previousIteration >= 1){\n\t\t\tlet revControlledId = this.props.revControlledId;\n\t\t\tif(revControlledId){\n\t\t\t\trevControlledService.exactIterationAndVersionIdOnly(revControlledId, version, previousIteration, this.props.containerId).then(response => {\n\t\t\t\t\tconst error = commons.isRequestError(response)\n\t\t\t\t\tif(!error){\n\t\t\t\t\t\tthis.props.loadDatas(response.data.attributes.id);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\tasync getLatestIteration(){\n\t\tlet revControlledId = this.props.revControlledId;\n\t\trevControlledService.latestIterationOfIdOnly(revControlledId, this.props.containerId).then(response => {\n\t\t\tconst error = commons.isRequestError(response)\n\t\t\tif(!error){\n\t\t\t\tthis.props.loadDatas(response.data.attributes.id);\n\t\t\t}\n\t\t})\n\t}\n\n\trcActions() {\n\t\tlet isLatestIteration = this.props.iterationInfo.isLatestIteration === true;\n\t\tlet firstIndex = this.props.iterationInfo.iterationNumber === 1;\n\t\tconst canRevise = this.props.iterationInfo.isLatestIteration && this.props.versionInfo\n\t\t\t&& this.props.versionInfo.isLatestVersion\n\t\t\t&& this.props.canRevise;\n\t\tlet isLatestVersion = isLatestIteration\n\n\t\tif(this.props.versionInfo){\n\t\t\tisLatestVersion = isLatestIteration && this.props.versionInfo.isLatestVersion\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{this.props.onAllIterationsSelected && <Button onClick={this.onAllIterationsSelected}><i className=\"fa fa-list fa-sm\"></i></Button>}\n\t\t\t\t<Button disabled={firstIndex}  onClick={this.getPreviousIteration}><i className=\"fa fa-backward fa-sm\"></i></Button>\n\t\t\t\t<Button disabled={isLatestVersion} onClick={this.getLatestIteration}><i className=\"fa fa-sm\"></i>&nbsp;DERNIÈRE VERSION</Button>\n\t\t\t\t<Button disabled={isLatestIteration} onClick={this.getNextIteration}><i className=\"fa fa-forward fa-sm\"></i></Button>\n\t\t\t\t{this.props.versionInfo && canRevise && <WizardConfirm\n\t\t\t\t\tbuttonTitle='Nouvelle version'\n\t\t\t\t\tonConfirm={() => this.revise()}\n\t\t\t\t\tdialogMessage=\"Créer une nouvelle version?\"\n\t\t\t\t\tdialogTitle='Nouvelle version'/>\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div>{this.rcActions()}</div>\n\t\t)\n\t}\n}\n\nRevControlledAction.propTypes = propTypes;\nRevControlledAction.defaultProps = defaultProps;\n\n\nexport default RevControlledAction;\n","import React, { Component } from 'react';\n\nclass ThumbInfo extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n\n        }\n    }\n\n    render() {\n        let host = window.location.host;\n        let pathname = window.location.pathname;\n        let productId = this.props.productId ? this.props.productId.split('/').join('_') : 'no-img'\n        let imageName = this.props.imageName ? this.props.imageName : 'main.jpg'\n        let rootUrl;\n        if(host.includes('localhost')){\n            rootUrl = \"http://localhost:8080/\" + process.env.REACT_APP_CONTEXT_ROOT\n        }\n        else {\n            rootUrl = `${'http://'  + host  + '/' + process.env.REACT_APP_CONTEXT_ROOT }`\n        }\n\n        return (\n            <React.Fragment>\n                <div id=\"cardimg-wrapper\" className={this.props.className ? this.props.className : \"card-image\"}\n                     style={{backgroundImage: `url(${rootUrl + '/' + productId + '/' + imageName})`}}>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default ThumbInfo;\n","import React, { Component } from 'react';\n\nclass WaitingPane extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t}\n\n\trender() {\n\t\tlet waitingMessage = 'Veuillez patienter...';\n\t\tif(this.props.waitingMessage){\n\t\t\twaitingMessage = this.props.waitingMessage;\n\t\t}\n\n\t\tlet className, notbordered = this.props.bordered === false || this.props.bordered === null || this.props.bordered === undefined;\n\t\treturn  <div className=\"waiting-pane\">\n\t\t\t<div className={'app-loading'}>\n\t\t\t\t<div className=\"lds-facebook\">\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div></div>\n\t\t\t\t\t<div></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t}\n}\n\nexport default WaitingPane;\n","import React from 'react';\nimport {commons} from '_helpers/commons';\n\nclass TotalElements extends React.Component{\n\trender(){\n\t\tlet currentContainerName = commons.getWorkingContainerName(this.props.userContext);\n\t\treturn (\n\t\t\t<div className='total-elements'>\n\t\t\t\t<p className=\"\"><center><i>{currentContainerName}</i></center></p>\n\t\t\t\t<p className=\"search-results\">\n\t\t\t\t\t<center>{this.props.totalElements} Element(s)</center>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default TotalElements;\n\n","import React, { Component } from 'react';\nimport { fadeIn } from 'react-animations'\nimport Radium, {StyleRoot} from 'radium';\n\nconst styles = {\n\tfadeIn: {\n\t\tanimation: 'x 500ms',\n\t\tanimationName: Radium.keyframes(fadeIn, 'fadeIn')\n\t}\n}\n\nclass EmptyPane extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t}\n\trender() {\n\t\tlet mainMessage = \"Pas d'éléments\";\n\t\tif(this.props.mainMessage){\n\t\t\tmainMessage = this.props.mainMessage;\n\t\t}\n\n\t\tlet className = \"admin-list-nocontent\";\n\t\tif(this.props.className){\n\t\t\tclassName = this.props.className\n\t\t}\n\n\t\tlet secondaryMessage = \"Pas d'éléments\";\n\t\tif(this.props.secondaryMessage){\n\t\t\tsecondaryMessage = this.props.secondaryMessage;\n\t\t}\n\n\t\tlet rootClassName = this.props.className ? this.props.className + ' empty-pane' : 'empty-pane'\n\t\treturn  <div className={rootClassName}>\n\t\t\t<StyleRoot style={styles.fadeIn}>\n\t\t\t\t<p className='empty-pane-secondary-message'>{secondaryMessage}</p>\n\t\t\t</StyleRoot>\n\t\t</div>\n\t}\n}\n\n\nexport default EmptyPane;\n","import React, { Component } from 'react';\nimport {Navbar} from 'react-bootstrap'\n\n/**\n * Default footer\n */\nclass DefaultFooter extends Component {\n\trender() {\n\t\tlet buildVersion = process.env.REACT_APP_BUILD_VERSION;\n\t\tif(!buildVersion){\n\t\t\tbuildVersion = process.env.REACT_APP_VERSION\n\t\t}\n\n\t\treturn (<>\n\t\t\t\t<Navbar fixed=\"bottom\" className=\"app-footer default-footer\">\n\t\t\t\t\t{/*<div><a rel=\"license\" href=\"http://creativecommons.org/licenses/by-nc-sa/4.0/\">\n\t\t\t\t\t\t<img alt=\"Licence Creative Commons\" style={{'border-width':0}}\n\t\t\t\t\t\t\t src=\"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png\" />\n\t\t\t\t\t</a></div>\n\t\t\t\t\t<Nav>\n\t\t            \t\t<center className=\"d-flex flex-column mx-auto\">\n\t\t\t\t\t\t\t\t<div className=\"mb-1\"><a href=\"https://nexitia.com\">&nbsp;&copy;</a>&nbsp;2021 All rights reserved</div>\n\t\t\t            \t\t<a href=\"https://nexitia.com\">Designed and developed by NEXITIA TECHNOLOGIES&nbsp;&copy;&nbsp;</a>\n\t\t\t            \t</center>\n\t\t            \t</Nav>\n\t\t\t\t\t<div className=\"default-footer-version\"><span>Designed and Developed by NEXITIA TECHNOLOGIES</span></div>\n\t\t\t\t\t*/}\n\t\t\t\t</Navbar>\n\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default DefaultFooter;\n","import React from 'react';\nimport Modal from 'react-bootstrap/Modal'\n\nclass Wizard extends React.Component{\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmodalShow: false,\n\t\t}\n\t\tthis.hideWizard = this.hideWizard.bind(this);\n\t\tthis.setModalShow = this.setModalShow.bind(this);\n\t}\n\n\tsetModalShow(val){\n\t\tif(val === false){\n\t\t\tthis.hideWizard()\n\t\t}\n\n\t\tthis.setState({\n\t\t\tmodalShow: val\n\t\t})\n\t}\n\n\thideWizard(){\n\t\tif(this.props.onWizardHide){\n\t\t\tthis.props.onWizardHide()\n\t\t}\n\t}\n\tmodal(){\n\n\t}\n\trender(){\n\t\tlet buttonIconComp = this.props.buttonIconComp ? this.props.buttonIconComp : <i className={this.props.buttonIcon}>&nbsp;</i>\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<button\n\t\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\t\tblock={this.props.buttonBlock}\n\t\t\t\t\thidden={this.props.hideButtonIf}\n\t\t\t\t\tclassName={this.props.buttonClassName}\n\t\t\t\t\tonClick={() => this.setModalShow(true)}>\n\t\t\t\t\t{buttonIconComp}\n\t\t\t\t\t{this.props.buttonTitle}\n\t\t\t\t</button>\n\n\t\t\t\t<MyVerticallyCenteredModal\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tshow={this.state.modalShow}\n\t\t\t\t\tonHide={() => this.setModalShow(false)}/>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default Wizard;\n\nfunction MyVerticallyCenteredModal(props) {\n\tlet content = '<p>Pas de contenu</p>'\n\tlet size = props.dialogSize ? props.dialogSize : 'lg'\n\tlet hideFooter = props.hideFooter === true;\n\tlet hideHeader = props.hideHeader === true;\n\n\tif(props.dialogContentProvider){\n\t\tcontent = props.dialogContentProvider(props.onHide, props.additionalParams)\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\t{...props}\n\t\t\tcentered\n\t\t\tsize={size}\n\t\t\tdialogClassName={props.dialogClassName}\n\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\n\t\t\tscrollable=\"true\">\n\n\t\t\t<Modal.Header className={'wizard-header'} closeButton>\n\t\t\t\t<h3>{props.dialogTitle}</h3>\n\t\t\t</Modal.Header>\n\n\t\t\t<Modal.Body>{content}</Modal.Body>\n\n\t\t\t{!hideFooter && <Modal.Footer className={'btn-toolbar-right'}>\n\t\t\t\t<button block onClick={props.onHide}>Fermer</button>\n\t\t\t</Modal.Footer>\n\t\t\t}\n\t\t</Modal>\n\t);\n}\n","import React from 'react';\nimport {Modal} from 'react-bootstrap'\nimport Button from 'react-bootstrap/Button'\n\nclass WizardConfirm extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            modalShow: false,\n        }\n\n        this.setModalShow = this.setModalShow.bind(this)\n    }\n\n    setModalShow(val) {\n        this.setState({\n            modalShow: val\n        })\n    }\n\n    onConfirm() {\n        if (this.props.onConfirm) {\n            this.props.onConfirm()\n        }\n\n        if (this.props.onConfirmAndClose) {\n            const close = () =>  this.setModalShow(false)\n            this.props.onConfirmAndClose(close)\n        }\n        else {\n            this.setModalShow(false)\n        }\n    }\n\n    render() {\n        return <>\n            <Button\n                className={this.props.buttonClassName ? this.props.buttonClassName : ''}\n                disabled={this.props.disabled}\n                onClick={() => this.setModalShow(true)}>\n\n                {this.props.buttonIconComp ? this.props.buttonIconComp : <i className={this.props.buttonIcon}></i>}\n                {this.props.buttonTitle ? <>&nbsp;{this.props.buttonTitle}</> : ''}\n\n            </Button>\n\n            <Confirm\n                {...this.props}\n                show={this.state.modalShow}\n                onConfirm={() => this.onConfirm()}\n                onHide={() => this.setModalShow(false)}/>\n        </>\n    }\n}\n\nexport default WizardConfirm;\n\nfunction Confirm(props) {\n    let wizardButtonTitle = props.buttonTitle && props.buttonTitle.length > 0 ? props.buttonTitle : 'OUI';\n    let modalSize = props.modalSize ? props.modalSize : 'md';\n\n    return (\n        <Modal\n            {...props}\n            size={modalSize}\n            centered\n            aria-labelledby=\"contained-modal-title-vtop\">\n\n            <Modal.Header>\n                <h3>&nbsp;&nbsp;&nbsp;</h3>\n            </Modal.Header>\n\n            <Modal.Body>\n                <div className={props.bodyClassName ? props.bodyClassName : 'display-6'}>\n                    {props.dialogMessage}\n                    {props.dialogContent ? props.dialogContent() : ''}\n                </div>\n            </Modal.Body>\n\n            <Modal.Footer>\n                <div className=\"btn-toolbar\">\n                    <Button onClick={props.onConfirm}>{wizardButtonTitle}</Button>\n                    <Button variant=\"secondary\" size=\"md\" onClick={props.onHide}>ANNULER</Button>\n                </div>\n            </Modal.Footer>\n        </Modal>\n    );\n}\n","import { _doGet, buildURLQuery, API_ROOT } from './utils/services.config';\n\n/**\n * Export\n */\nexport const listValuesService = {\n\tnames,\n\tlistvalues,\n\tnoLocale,\n\tdetails\n};\nasync function listvalues(formData) {\n\tlet p = buildURLQuery(formData);\n\tconst uri = '/api/secured/v1/katappult/listvalues?containerId=:containerId&'.concat(p);\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function names(containerId) {\n\tconst uri = '/api/secured/v1/katappult/listvalues/names?containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function noLocale(formData, containerId) {\n\tlet p = buildURLQuery(formData);\n\tconst uri = '/api/secured/v1/katappult/listvalues/noLocale?containerId=' + containerId + '&'.concat(p);\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function details(id, containerId) {\n\tconst uri = '/api/secured/v1/katappult/listvalues/details?containerId=' + containerId + '&id=' + id;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { listValuesService } from '_services/listvalues.services';\nimport {ListGroup, ListGroupItem} from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { DataTable, EmptyPane} from '_components/_common';\nimport * as actions from '_actions/actions';\n\nconst mapStateToProps = store => ({\n\tselectedItem: store.enumerations,\n})\nconst mapDispatchToProps = (disptach) => ({\n\tupdateEnumerationsSelection: (e) => disptach(actions.updateEnumerationsSelection(e)),\n})\nclass Enumerations extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tnames :[],\n\t\t\tselectedItem: this.props.selectedItem ? this.props.selectedItem : null,\n\t\t\t'en': this.props.selectedItem.fr ? this.props.selectedItem.en : [],\n\t\t\t'fr': this.props.selectedItem.en ? this.props.selectedItem.fr : [],\n\t\t}\n\t\tthis.selectItem = this.selectItem.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tlistValuesService.names(this.props.containerId)\n\t\t.then(names => {\n\t\t\tif(names && names.data){\n\t\t\t\tthis.setState({\n\t\t\t\t\tnames: names.data\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\t selectItem(e, item){\n        e.preventDefault();\n        //const cursel = this.state.selectedItem;\n        let source = e.target || e.srcElement;\n        //if(cursel) cursel.activate = false;\n        source.activate = true;\n\n\t\tlet formData  = new FormData()\n        formData['name'] = item\n\n        if(source !== this.state.selectedItem) {\n\t        listValuesService.noLocale(formData, this.props.containerId)\n\t\t\t.then(names => {\n\t\t\t\tlet en = [], fr = []\n\t\t\t\tnames.data.map(i => {\n\t\t\t\t\tif(i.attributes.locale === 'en'){\n\t\t\t\t\t\ten.push(i)\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tfr.push(i)\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tlet payload = []\n\t\t\t\tpayload.push(en)\n\t\t\t\tpayload.push(fr)\n\n\t\t\t\tthis.props.updateEnumerationsSelection(payload)\n\t\t\t\tthis.setState({\n\t\t\t\t\tselectedItem: source,\n\t\t\t\t\t'en': en,\n\t\t\t\t\t'fr': fr,\n\t\t\t\t})\n\t\t\t})\n        }\n\t }\n\n\t render() {\n\t\t const navs = [];\n         this.state.names.map((item) => {\n             navs.push(\n                 <ListGroupItem tag=\"a\" href=\"#\" onClick={(e) => this.selectItem(e, item)} action>\n                         {item}<i className=\"fa fa-angle-right icons font-lg float-right\"></i>\n                 </ListGroupItem>\n             );\n         });\n\n         if(this.state.names.length === 0){\n        \t navs.push(<EmptyPane />)\n         }\n\n         let en, fr, noSelection, hasEnum = false\n         if(this.state.en && this.state.en.length > 0){\n        \thasEnum = true\n        \ten = (\n        \t\t<div className=\"no-radius\">\n        \t\t\t<div className=\"\"><h3 className=\"\">English</h3></div>\n\t        \t\t<DataTable items={JSON.stringify(this.state.en)}\n\t        \t\t\ttotalElements='2'\n\t        \t\t\tpaginate={false}\n\t\t\t\t\t\ttableConfig={tableConfig}/>\n\t            </div>\n        \t)\n         }\n\n         if(this.state.fr && this.state.fr.length > 0){\n        \t hasEnum = true\n        \t fr = (\n        \t\t<div>\n        \t\t\t\t<div className=\"\"><h3 className=\"\">Français</h3></div>\n        \t\t\t \t<DataTable items={JSON.stringify(this.state.fr)}\n\t\t\t\t\t\t\ttotalElements='2'\n\t\t\t\t\t\t\tpaginate={false}\n\t\t\t\t\t\t\ttableConfig={tableConfig}/>\n        \t\t</div>\n        \t )\n         }\n\n         if(!hasEnum){\n\t         noSelection  = <EmptyPane mainMessage=\"No item selected\" secondaryMessage=\"Please select an item\"/>\n         }\n\n         return (<div className={'enumerations'}>\n\t\t\t <div className=\"admin-middle-pane types-list\">\n\t\t\t\t <div className={'bordered-panel left'}><ListGroup>{navs}</ListGroup></div>\n\t\t\t\t <div className=\"type-details right\">\n\t\t\t \t\t\t<div>{noSelection}</div>\n\t \t\t\t\t\t<div>{fr}</div>\n\t\t\t\t\t <div>{en}</div>\n\t\t\t\t </div>\n\t\t\t </div>\n     \t\t</div>)\n\t  }\n}\n\nconst tableConfig = {\n\t\tcolumnsConfig: [\n\t\t\t{ name: 'Affiché',  displayComponent: (v, i) => LinkTo(v, i)},\n\t\t\t{ name: 'Valeur', dataField: 'attributes.savedValue', },\n\t\t    { name: 'Nom', dataField: 'attributes.name' },\n\t\t    { name: 'Locale', dataField: 'attributes.locale'},\n\t\t    { displayComponent: (v, i) => angleRight(i)},\n\t\t],\n}\n/**\n * Generates an angle right icon\n */\nconst angleRight = (v, item) => {\n\tconst link = `/admin/p/enumerations/${v.attributes.id}`\n\treturn <td><Link to={link}><i className=\"fa fa-angle-right fa-lg\"></i></Link></td>\n}\n\n/**\n * Generates an angle right icon\n */\nconst LinkTo = (v, i) => {\n\tconst link = `/admin/p/enumerations/${i.attributes.id}`\n\treturn <td><Link to={link}>{i.attributes.value}</Link></td>\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps) (Enumerations)\n","import React, { Component } from 'react';\nimport { AttributeListGroup} from '_components/_common';\nimport { accountService } from '_services/account.services';\nimport { loginService } from '_services/login.services';\nimport { commons } from '_helpers/commons';\nimport {toast} from \"react-toastify\";\nimport {coreUri} from \"_helpers/CoreUri\";\n\n/**\n * Register new org.\n */\nclass AddOrg extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tformData: {\n\t\t\t\tcontainer: this.getRegisteringContainer(),\n\t\t\t\twithAccount: true,\n\t\t\t\tsimpleUserForm: true,\n\t\t\t\tname: '',\n\t\t\t},\n\t\t\tloading: false,\n\t\t\terrors:[]\n\t\t}\n\n\t\tthis.registerAttributesList = this.registerAttributesList.bind(this)\n\t\tthis.registerUser = this.registerUser.bind(this);\n\t\tthis.handleResponse = this.handleResponse.bind(this)\n\t\tthis.onFormChange = this.onFormChange.bind(this)\n\t\tthis.formValidity = this.formValidity.bind(this)\n\t}\n\n\tonFormChange(form){\n\t\tthis.setState({formData: form})\n\t}\n\n\tgetRegisteringContainer(){\n\t\tif(this.props.registeringContainer){\n\t\t\treturn this.props.registeringContainer;\n\t\t}\n\t\treturn this.props.containerId;\n\t}\n\n\t_handleRegister(formData){\n\t\tformData.container = this.getRegisteringContainer();\n\t\tformData.orgType = \"com.katappult.people.Party/Organisation\";\n\t\tformData.withAccount = 'true'\n\n\t\tif(this.props.handleRegister){\n\t\t\tthis.props.handleRegister(formData)\n\t\t}\n\t\telse {\n\t\t\tthis.registerUser(formData)\n\t\t}\n\t}\n\n\tregisterUser(formData) {\n\t\tthis.setState({\n\t\t\tloading:true,\n\t\t\tformData: formData\n\t\t})\n\n\t\tthis.setPropsProcessing(true)\n\t\tif(this.props.fromConnectedUser){\n\t\t\taccountService.registerOrgWithAccount(formData).then(response => {\n\t\t\t\tthis.handleResponse(response, formData);\n\t\t\t\ttoast(commons.toastSuccess(\"Le compte utilisateur a été créé\"));\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.error(error);\n\t\t\t\tthis.setState({loading: false})\n\t\t\t\tthis.setPropsProcessing(false)\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\taccountService.registerOrgWithAccountAnon(formData).then(response => {\n\t\t\t\tthis.handleResponse(response, formData)\n\t\t\t}).catch(error => {\n\t\t\t\tthis.setState({loading: false})\n\t\t\t\tthis.setPropsProcessing(false)\n\t\t\t});\n\n\t\t}\n\t}\n\n\tsetPropsProcessing(value){\n\t\tif(this.props.onProcessing){\n\t\t\tthis.props.onProcessing(true)\n\t\t}\n\t}\n\n\t/**\n\t * Handle save response.\n\t */\n\tasync handleResponse(response, formData){\n\t\tthis.setPropsProcessing(false);\n\n\t\tif(commons.isRequestError(response)){\n\t\t\tthis.props.onError(response.message)\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tformData: formData,\n\t\t\t\terrors: [response.message],\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tif(!this.props.fromConnectedUser){\n\t\t\t\tlet loginForm = {};\n\t\t\t\tloginForm.login = formData.accountEmail;\n\t\t\t\tloginForm.password = formData.accountPassword;\n\n\t\t\t\tlet response = await loginService.login(loginForm).then(response => {\n\t\t\t\t\treturn response;\n\t\t\t\t});\n\n\t\t\t\tlet authorization = await response.text();\n\t\t\t\tcommons.setSessionId(authorization)\n\t\t\t\tif(authorization) this.handleLoginSuccess(authorization);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setPropsProcessing(false)\n\t\t\t\tif(this.props.onCreatePeopleSuccess){\n\t\t\t\t\tthis.props.onCreatePeopleSuccess()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tasync handleLoginSuccess(authorization){\n\t\tloginService.postLogin(authorization).then(json => {\n\t\t\tcommons.katappult_core_loginSuccess(json);\n\n\t\t\tlet account = JSON.parse(json.data.links.account)\n\t\t\tlet active = account.active;\n\t\t\tif(active) {\n\t\t\t\twindow.location.href = coreUri.clientSideRenderedURL('/');\n\t\t\t}\n\t\t\telse {\n\t\t\t\twindow.location.href = coreUri.clientSideRenderedURL('/activateAccount');\n\t\t\t}\n\t\t});\n\t}\n\n\tformValidity(form) {\n\t\tconst {name, accountEmail, accountPassword} = form;\n\t\tconst newErrors = {}\n\n\t\tif (!name || name === '') newErrors.name = 'Champs invalide';\n\t\tif (!accountEmail || accountEmail === '') newErrors.accountEmail = 'Champs invalide';\n\t\tif (!accountPassword || accountPassword === '') newErrors.accountPassword = 'Champs invalide';\n\n\t\tif (!commons.validateEmail(accountEmail)){\n\t\t\tnewErrors.accountEmail = 'Champs invalide';\n\t\t}\n\t\treturn newErrors;\n\t}\n\n\tregisterAttributesList() {\n\t\tconst buttonTitle = this.props.createButtonTitle ?  this.props.createButtonTitle : 'Créer un compte'\n\t\tconst profileAttributesList = {\n\t\t\tsaveButtonTitle: buttonTitle,\n\t\t\tsaveButtonClassName: this.props.createButtonClassName,\n\t\t\tformValidity: (formData) => this.formValidity(formData)\t,\n\t\t\tonSubmit: (formData) => this._handleRegister(formData),\n\t\t\tattributes: [\n\t\t\t\t{name: 'Name', dataField: 'name',required:true,  placeHolder: 'Organization name'},\n\t\t\t\t{name: 'Email', dataField: 'accountEmail', type:'email', required: true, placeHolder: 'Email'},\n\t\t\t\t{name: 'Password', dataField: 'accountPassword', type:'password', required: true, placeHolder: 'Password'},\n\t\t\t]\n\t\t}\n\n\t\treturn profileAttributesList;\n\t}\n\n\trender() {\n\t\tlet form = {...this.state.formData}\n\t\tif(this.props.initialData){\n\t\t\tform = {\n\t\t\t\tattributes : {\n\t\t\t\t\tname: this.props.initialData.name,\n\t\t\t\t\taccountEmail: this.props.initialData.accountEmail\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn <div className={'add-people'}>\n\t\t\t{this.state.loading !== true && <AttributeListGroup\n\t\t\t\tattributesListConfig={this.registerAttributesList()}\n\t\t\t\tadditionalWizardLeftActions={this.props.additionalWizardLeftActions}\n\t\t\t\tdata={form}\n\t\t\t\tstandardFooterActions=\"true\"\n\t\t\t\tformMode='create_object'/>\n\t\t\t}\n\t\t</div>\n\t}\n}\n\nexport default AddOrg;\n","import React, { Component } from 'react';\nimport { AddOrg, AddPerson, WaitingPane } from '_components/_common';\nimport { Form } from 'react-bootstrap'\nimport { RiCheckboxCircleLine } from \"react-icons/ri\";\n\nclass AddPeople extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tlet initialFormData = this.props.initialData\n\t\tlet peopleSimpleType = this.props.peopleMode === 'b2c' || this.props.peopleMode === 'b2bAndB2c' ? '0' : '2'\n\t\tif(initialFormData){\n\t\t\tconst orgType = initialFormData.orgType\n\t\t\tif(orgType){\n\t\t\t\tpeopleSimpleType = '2'\n\t\t\t}\n\t\t}\n\n\t\tthis.state = {\n\t\t\tgender: '0',\n\t\t\tstep: 0,\n\t\t\terrors: [],\n\t\t\tprocessing: false,\n\t\t\tsuccess: false,\n\t\t\tpeopleSimpleType: peopleSimpleType\n\t\t}\n\n\t\tthis.handleSelectTypeChange = this.handleSelectTypeChange.bind(this)\n\t\tthis.processing = this.processing.bind(this)\n\t\tthis.onError = this.onError.bind(this)\n\t\tthis.onSuccess = this.onSuccess.bind(this)\n\t}\n\n\tprocessing(value){\n\t\tthis.setState({processing: value})\n\t}\n\n\thandleSelectTypeChange(event){\n\t\tthis.setState({peopleSimpleType: event.target.value})\n\t}\n\n\tnext(){\n\t\tthis.setState({step: 1})\n\t}\n\n\tgetStepContent(){\n\t\tlet content;\n\t\tif(this.state.peopleSimpleType === '0' || this.state.peopleSimpleType === '1'){\n\t\t\tcontent = <AddPerson\n\t\t\t\t{...this.props}\n\t\t\t\tonProcessing={this.processing}\n\t\t\t\tonError={this.onError}\n\t\t\t\tonCreatePeopleSuccess={this.onSuccess}\n\t\t\t\tgender={this.state.gender}\n\t\t\t\tdisplayHeader={false}/>\n\t\t}\n\t\telse {\n\t\t\tcontent = <AddOrg\n\t\t\t\t{...this.props}\n\t\t\t\tonError={this.onError}\n\t\t\t\tonCreatePeopleSuccess={this.onSuccess}\n\t\t\t\tonProcessing={this.processing}\n\t\t\t\tgender={this.state.gender}\n\t\t\t\tdisplayHeader={false}/>\n\t\t}\n\n\t\treturn content;\n\t}\n\n\tonError(error){\n\t\tlet errors = []\n\t\terrors.push(error)\n\t\tthis.setState({\n\t\t\terrors: errors,\n\t\t\tprocessing: false,\n\t\t})\n\t}\n\n\tonSuccess(){\n\t\tthis.setState({success: true})\n\t\tthis.props.onCreatePeopleSuccess()\n\t}\n\n\tpeopleCreationOption(){\n\t\tlet options = [];\n\n\t\tif(this.props.peopleMode === \"b2c\"){\n\t\t\toptions.push(<option value=\"0\">Mr</option>)\n\t\t\toptions.push(<option value=\"1\">Mme</option>)\n\t\t}\n\t\telse if(this.props.peopleMode === \"b2b\"){\n\t\t\toptions.push(<option value=\"2\">Société</option>)\n\t\t}\n\t\telse {\n\t\t\toptions.push(<option value=\"0\">Mr</option>)\n\t\t\toptions.push(<option value=\"1\">Mme</option>)\n\t\t\toptions.push(<option value=\"2\">Société</option>)\n\t\t}\n\n\t\treturn options\n\t}\n\n\trender() {\n\t\tlet homeUrl = \"/\";\n\t\tif(this.state.loading === true){\n\t\t\treturn <WaitingPane />\n\t\t}\n\n\t\tlet errors = [];\n\t\tif(this.state.errors.length > 0) {\n\t\t\tthis.state.errors.map(error => {\n\t\t\t\terrors.push(<p>{error}</p>)\n\t\t\t})\n\t\t}\n\n\t\tif(this.state.success){\n\t\t\treturn <div style={{'margin-left': '40%', 'margin-top':'2rem', 'margin-bottom':'2rem'}}>\n\t\t\t\t<RiCheckboxCircleLine color={\"green\"} size={'4rem'}/>\n\t\t\t</div>\n\t\t}\n\n\t\tlet row0 = <Form.Group controlId=\"createPeopleType\" className={'register-people-select'}>\n\t\t\t<Form.Label>Titre</Form.Label>\n\t\t\t<Form.Control as=\"select\"\n\t\t\t\t\t\t  value={this.state.peopleSimpleType}\n\t\t\t\t\t\t  onChange={this.handleSelectTypeChange}\n\t\t\t\t\t\t  name=\"peopleSimpleType\">\n\t\t\t\t{this.peopleCreationOption()}\n\t\t\t</Form.Control>\n\t\t</Form.Group>\n\n\t\treturn <div>\n\t\t\t<center id=\"form-errors-section\" className=\"form-error\">\n\t\t\t\t{errors}\n\t\t\t</center>\n\n\t\t\t{this.state.processing && <>\n\t\t\t\t<p><WaitingPane/></p>\n\t\t\t</>\n\t\t\t}\n\n\t\t\t{!this.state.processing && row0}\n\t\t\t{\t<>\n\t\t\t\t{this.getStepContent()}\n\t\t\t\t{!this.props.hideAgreements && <div className=\"footer-links\">\n\t\t\t\t\t<button onClick={e=>window.location.href = process.env.PUBLIC_URL}>Page d'accueil</button>\n\t\t\t\t\t<span>&nbsp;&nbsp;</span>\n\t\t\t\t\t<button onClick={e => this.props.history.replace('/login')}>Connexion</button>\n\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t}\n}\n\nexport default AddPeople;\n","import React, { Component } from 'react';\nimport { AttributeListGroup} from '_components/_common';\nimport { accountService } from '_services/account.services'\nimport { loginService } from '_services/login.services';\nimport { commons } from '_helpers/commons';\nimport {toast} from \"react-toastify\";\nimport {coreUri} from \"_helpers/CoreUri\";\n\nclass AddPerson extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tformData: {\n\t\t\t\tcontainer: this.getRegisteringContainer(),\n\t\t\t\tgender: this.props.gender,\n\t\t\t\tlastName: '',\n\t\t\t\tfirstName: '',\n\t\t\t\tsimpleUserForm: true,\n\t\t\t\taccountEmail:'',\n\t\t\t\taccountPassword: '',\n\t\t\t},\n\n\t\t\tloading:false,\n\t\t\terrors:[]\n\t\t}\n\n\t\tthis.registerAttributesList = this.registerAttributesList.bind(this)\n\t\tthis.registerUser = this.registerUser.bind(this);\n\t\tthis.handleResponse = this.handleResponse.bind(this)\n\t\tthis.setPropsProcessing = this.setPropsProcessing.bind(this)\n\t\tthis.onFormChange = this.onFormChange.bind(this)\n\t\tthis.findFormErrors = this.findFormErrors.bind(this)\n\t}\n\n\tonFormChange(form){\n\t\tthis.setState({formData: form})\n\t}\n\n\tgetRegisteringContainer(){\n\t\treturn this.props.containerId;\n\t}\n\n\t_handleRegister(formData){\n\n\t\tformData.container = this.getRegisteringContainer();\n\t\tformData.gender = this.props.gender;\n\t\tformData.peopleType = 'com.katappult.people.Party/Person';\n\t\tformData.withAccount = true\n\n\t\tif(this.props.handleRegister){\n\t\t\tthis.props.handleRegister(formData)\n\t\t}\n\t\telse {\n\t\t\tthis.registerUser(formData)\n\t\t}\n\t}\n\n\tregisterUser(formData) {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t\tformData: formData\n\t\t})\n\n\t\tthis.setPropsProcessing(true)\n\n\t\tif(this.props.fromConnectedUser){\n\t\t\taccountService.registerPersonWithAccount(formData).then(response => {\n\t\t\t\tthis.handleResponse(response, formData);\n\t\t\t\ttoast(commons.toastSuccess(\"Le compte utilisateur a été créé\"));\n\t\t\t}).catch(error => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloading: false,\n\t\t\t\t\terrors: ['Erreur interne']\n\t\t\t\t})\n\n\t\t\t\tthis.setPropsProcessing(false)\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\taccountService.registerPersonWithAccountAnon(formData).then(response => {\n\t\t\t\tthis.handleResponse(response, formData)\n\t\t\t}).catch(error => {\n\t\t\t\tthis.setState({loading: false})\n\t\t\t\tthis.setPropsProcessing(false)\n\t\t\t});\n\n\t\t}\n\t}\n\n\tsetPropsProcessing(value){\n\t\tif(this.props.onProcessing){\n\t\t\tthis.props.onProcessing(value)\n\t\t}\n\t}\n\n\t/**\n\t * Handle save response.\n\t */\n\tasync handleResponse(response, formData){\n\t\tlet errorStates = []\n\t\tif(commons.isRequestError(response)) {\n\t\t\tthis.props.onError(response.message)\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tformData: formData,\n\t\t\t\terrors: [response.message],\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tif(!this.props.fromConnectedUser) {\n\t\t\t\tconst loginForm = {};\n\t\t\t\tloginForm.login = formData.accountEmail;\n\t\t\t\tloginForm.password = formData.accountPassword;\n\n\t\t\t\tconst response = await loginService.login(loginForm).then(response => {\n\t\t\t\t\treturn response;\n\t\t\t\t})\n\n\t\t\t\tconst authorization = await response.text();\n\t\t\t\tcommons.setSessionId(authorization)\n\t\t\t\tif(authorization) this.handleLoginSuccess(authorization);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setPropsProcessing(false)\n\t\t\t\tif(this.props.onCreatePeopleSuccess){\n\t\t\t\t\tthis.props.onCreatePeopleSuccess()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\thandleLoginSuccess(authorization){\n\t\tloginService.postLogin(authorization).then(json => {\n\t\t\tcommons.katappult_core_loginSuccess(json);\n\n\t\t\tconst account = JSON.parse(json.data.links.account)\n\t\t\tconst active = account.active;\n\t\t\tif(active) {\n\t\t\t\twindow.location.href = coreUri.clientSideRenderedURL('/');\n\t\t\t}\n\t\t\telse {\n\t\t\t\twindow.location.href = coreUri.clientSideRenderedURL('/activateAccount');\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterAttributesList() {\n\t\tconst buttonTitle = this.props.createButtonTitle ?  this.props.createButtonTitle : 'Créer un compte'\n\t\tconst profileAttributesList = {\n\t\t\tsaveButtonTitle: buttonTitle,\n\t\t\tsaveButtonClassName: this.props.createButtonClassName,\n\t\t\tformValidity: (formData) => this.findFormErrors(formData)\t,\n\t\t\tonSubmit: (formData) => this._handleRegister(formData),\n\t\t\tattributes: [\n\t\t\t\t{name: 'Lastname', dataField: 'lastName', required: true, placeHolder: 'Last name'},\n\t\t\t\t{name: 'Firstname', dataField: 'firstName', required: true, placeHolder: 'First name'},\n\t\t\t\t{name: 'Email', dataField: 'accountEmail', type:'email', required: true, placeHolder: 'Email'},\n\t\t\t\t{name: 'Password', dataField: 'accountPassword', type:'password', required: true, placeHolder: 'Password'},\n\t\t\t]\n\t\t}\n\n\t\treturn profileAttributesList;\n\t}\n\n\tfindFormErrors(form) {\n\t\tconst {lastName, firstName, accountEmail, accountPassword} = form;\n\t\tconst newErrors = {}\n\n\t\tif (!lastName || lastName === '') newErrors.lastName = 'Champs invalide';\n\t\tif (!firstName || firstName === '') newErrors.firstName = 'Champs invalide';\n\t\tif (!accountEmail || accountEmail === '') newErrors.accountEmail = 'Champs invalide';\n\t\tif (!accountPassword || accountPassword === '') newErrors.accountPassword = 'Champs invalide';\n\n\t\tif (!commons.validateEmail(accountEmail)){\n\t\t\tnewErrors.accountEmail = 'Champs invalide';\n\t\t}\n\n\t\treturn newErrors;\n\t}\n\n\trender() {\n\t\tlet form = {...this.state.formData}\n\t\tif(this.props.initialData){\n\t\t\tform = {\n\t\t\t\tattributes :{\n\t\t\t\t\tlastName: this.props.initialData.lastName,\n\t\t\t\t\tfirstName: this.props.initialData.firstName,\n\t\t\t\t\taccountEmail: this.props.initialData.accountEmail,\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn <>\n\t\t\t{this.state.loading !== true &&  <AttributeListGroup\n\t\t\t\tattributesListConfig={this.registerAttributesList()}\n\t\t\t\tadditionalWizardLeftActions={this.props.additionalWizardLeftActions}\n\t\t\t\tdata={form}\n\t\t\t\tstandardFooterActions=\"true\"\n\t\t\t\tformMode='create_object'/>\n\t\t\t}\n\t\t</>\n\t}\n}\n\nexport default AddPerson;\n\n\nconst emptyString = (str) => {\n\treturn !str || str.trim().length === 0\n}\n","import {\n\t_doGet,\n\tbuildURLQuery,\n\tAPI_ROOT\n}\n\tfrom './utils/services.config';\n\n/**\n * Rev controlled\n */\nexport const searchService = {\n\tsearchUserByNameLikeInWholeApplication,\n\tsearchUserByLoginLikeInWholeApplication,\n\tsearchContainerMemberByNameLike,\n\tsearchContainerMemberByLoginLike,\n\tsearchContainerMemberByLoginLike2,\n\tsearchProductByNameLike,\n\tsearchProductByReferenceLike\n}\n/**\n * @param login\n * @returns\n */\nasync function searchProductByNameLike(name, containerId, params) {\n\tlet uri;\n\tif(params){\n\t\tlet p = buildURLQuery(params);\n\t\turi= '/v1/anon/api/products/search/byNameLike?'.concat(p + '&containerId=' + containerId);\n\t}\n\telse {\n\t\turi= '/v1/anon/api/products/search/byNameLike?name=' + name + '&containerId=' + containerId;\n\t}\n\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n/**\n * @param login\n * @returnspr\n */\nasync function searchProductByReferenceLike(reference, containerId) {\n\tconst uri = '/v1/secured/api/product/byReferenceLike?reference=' + reference + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n/**\n * Get account by name like, will do search in whole application.\n * Should be called only when working container is /Unaffiliated.\n *\n * @param login\n * @returns\n */\nasync function searchUserByNameLikeInWholeApplication(name, containerId) {\n\tconst uri = '/v1/secured/api/account/byNameLike?name=' + name + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n/**\n * Get account by name like, will do search in whole application.\n * Should be called only when working container is /Unaffiliated.\n *\n * @param login\n * @returns\n */\nasync function searchUserByLoginLikeInWholeApplication(login, containerId) {\n\tconst uri = '/api/secured/v1/katappult/principals/accountByLogin?email=' + login + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n/**\n * Search given user in given container.\n * This function just query login not firstname/lastname because email\n * should be composed by person lastname/firstname.\n *\n * @returns\n */\nasync function searchContainerMemberByNameLike(name, containerId) {\n\tconst uri = '/api/secured/v1/katappult/principals/account/memberByLoginLikeInContainer/?name=' + name + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n/**\n * Search given user in given container.\n *\n * @returns\n */\nasync function searchContainerMemberByLoginLike(login, containerId) {\n\tconst uri = '/api/secured/v1/katappult/principals/account/memberByLoginLikeInContainer?login=' + login + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n\n/**\n * Search given user in given container.\n *\n * @returns\n */\nasync function searchContainerMemberByLoginLike2(queryParams, containerId) {\n\tlet p = buildURLQuery(queryParams);\n\tconst uri = '/api/secured/v1/katappult/principals/account/memberByLoginLike?'.concat(p + '&containerId=' + containerId);\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n","import React, { Component } from 'react';\nimport {Input,} from 'reactstrap';\nimport {commons} from '_helpers/commons';\nimport { searchService } from '_services/search.services';\nimport { lifecycleService } from '_services/lifecycle.services';\nimport * as actions from '_actions/actions';\nimport { connect } from 'react-redux';\nimport { PeopleCard, DataTable, Wizard, AddPeople, PeopleDetails, EmptyPane } from '_components/_common';\nimport { HashRouter,  Link } from 'react-router-dom';\nimport Button from 'react-bootstrap/Button';\nimport { RiUserLine, RiRefreshLine, RiUser6Line } from \"react-icons/ri\";\nimport queryString from 'query-string';\nimport {coreUri} from '_helpers/CoreUri';\n\n\nconst mapStateToProps = store => ({\n\tsearchTerm: store.searchMembers.searchTerm,\n\tsearchBusinessClass: store.searchMembers.searchBusinessClass,\n\tsearchBusinessType: store.searchMembers.searchBusinessType,\n\tresults: store.searchMembers.searchResults,\n})\n\nconst mapDispatchToProps = (disptach) => ({\n\tupdateSearchTerm: (e) => disptach(actions.updateSearchMembersTerm(e)),\n\tupdateSearchResults: (e) => disptach(actions.updateSearchResults(e)),\n})\n\n/**\n * Container registered users\n */\nclass ManageContainerUsers extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t\ttotalMembers: 0,\n\t\t\tmembers: [],\n\n\t\t\tloadingMembers: false,\n\t\t\tstatesFilter: [],\n\t\t\treachableStates:[],\n\n\t\t\tqueryFilters: {\n\t\t\t\tpage: 0,\n\t\t\t\tpageSize:20,\n\t\t\t\tincludeParentItems: false,\n\t\t\t\tlogin: '',\n\t\t\t\tstate: '',\n\t\t\t},\n\n\t\t\tviewMode: 'viewList'\n\t\t}\n\n\t\tthis.manageMembers = this.manageMembers.bind(this)\n\t\tthis.unsubscribe = this.unsubscribe.bind(this)\n\t\tthis.blockUser = this.blockUser.bind(this)\n\t\tthis.goToPage = this.goToPage.bind(this)\n\t\tthis.setLinkState = this.setLinkState.bind(this)\n\t\tthis.switchToView = this.switchToView.bind(this)\n\t\tthis.onPeopleDetailsChange = this.onPeopleDetailsChange.bind(this);\n\t\tthis.moreActions = this.moreActions.bind(this);\n\t\tthis.getRootObjectForDetailsId = this.getRootObjectForDetailsId.bind(this)\n\t\tthis.onCreatePeopleSuccess = this.onCreatePeopleSuccess.bind(this)\n\t}\n\n\tswitchToView(e, name){\n\t\tif(e) e.preventDefault()\n\t\tthis.setState({\n\t\t\tviewMode: name\n\t\t})\n\t}\n\n\tunsubscribe(userAccountId){\n\t\tlet newMembers = [];\n\t\tthis.state.members.map(m => {\n\t\t\tif(m.attributes.id !== userAccountId){\n\t\t\t\tnewMembers.push(m)\n\t\t\t}\n\t\t})\n\n\t\tthis.setState({\n\t\t\tmembers: newMembers\n\t\t})\n\t}\n\n\tblockUser(userAccountId){\n\t\tlet members = [...this.state.members],\n\t\t\tnewMembers = [];\n\t\tthis.state.members.map(m => {\n\t\t\tif(m.attributes.id !== userAccountId){\n\t\t\t\tnewMembers.push(m)\n\t\t\t}\n\t\t})\n\n\t\tthis.setState({members: newMembers})\n\t}\n\n\tnewPeople(wizardCloseFunction){\n\t\treturn <AddPeople\n\t\t\t{...this.props}\n\t\t\tpeopleMode={'b2bAndB2c'}\n\t\t\thideAgreements={true}\n\t\t\tfromConnectedUser={true}\n\t\t\tonCreatePeopleSuccess={(id) => this.onCreatePeopleSuccess(wizardCloseFunction, id)}/>\n\t}\n\n\tonCreatePeopleSuccess(wizardCloseFunction, id){\n\t\tthis.refreshView()\n\t\tif(wizardCloseFunction){\n\t\t\twizardCloseFunction();\n\t\t}\n\n\t\tthis.setState({\n\t\t\tselectedAccountId: id,\n\t\t\tshowSuccessAlert: true\n\t\t})\n\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState){\n\t\tif(prevState.viewMode !== this.props.viewMode){\n\t\t\tthis.setState({viewMode: this.props.viewMode})\n\t\t}\n\t}\n\n\tgetRootObjectForDetailsId(currentItemIdParam){\n\t\tconst queryUrlParams = queryString.parse(this.props.location.search);\n\t\tlet objectforDetailsId = queryUrlParams.rootId;\n\t\treturn objectforDetailsId;\n\t}\n\n\trefreshView(){\n\t\tlet queryFilters = {...this.state.queryFilters};\n\t\tqueryFilters.login = '';\n\t\tthis.loadDatas(queryFilters)\n\t}\n\n\tmanageMembers(e){\n\t\te.preventDefault()\n\t}\n\n\tcomponentDidMount(){\n\t\tlet queryFilters = {...this.state.queryFilters}\n\t\tqueryFilters.state = 'REQUEST_IN_PROGRESS';\n\t\tthis.setState({\n\t\t\tqueryFilters: queryFilters,\n\t\t\tloadingMembers: true,\n\t\t})\n\n\t\tthis.loadDatas(queryFilters);\n\t}\n\n\tonPeopleDetailsChange(id, wasRemoved){\n\t\tlet queryFilters = {...this.state.queryFilters}\n\t\tif(wasRemoved === true){\n\t\t\tthis.setState({selectedAccountId: null});\n\t\t}\n\n\t\tthis.loadDatas(queryFilters);\n\t}\n\n\tshowDetailsView(){\n\t\treturn <div className=\"katappult-container\">\n\t\t\t<PeopleDetails\n\t\t\t\t{...this.props}\n\t\t\t\tpushBreadCrumb={this.props.pushBreadCrumb}\n\t\t\t\tupdatePeopleCallBack={(id, wasRemoved) => this.onPeopleDetailsChange(id, wasRemoved)}\n\t\t\t\taccountId={this.state.selectedAccountId} />\n\t\t</div>\n\t}\n\n\tloadDatas(queryFilters){\n\t\tthis.setState({loadingMembers: true, results: []})\n\t\tsearchService.searchContainerMemberByLoginLike2(queryFilters, this.props.containerId).then(response => {\n\t\t\tif(!commons.isRequestError(response)){\n\t\t\t\tthis.setState({\n\t\t\t\t\tresults: response.data,\n\t\t\t\t\tmetaData:response.metaData,\n\t\t\t\t\tloadingMembers: false,\n\t\t\t\t})\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({\n\t\t\t\t\tresults: [],\n\t\t\t\t\tmetaData: null,\n\t\t\t\t\tloadingMembers: false,\n\t\t\t\t\treachableStates: []\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\tgoToPage(i){\n\t\tlet queryFilters = {...this.state.queryFilters}\n\t\tqueryFilters.page = i\n\n\t\tthis.setState({queryFilters: queryFilters})\n\t\tthis.loadDatas(queryFilters)\n\t}\n\n\tnameOf(res, item){\n\t\tlet owner = item.attributes.ownerSummary\n\t\tlet type = item.businessType.type\n\t\tif(type === 'person'){\n\t\t\treturn this.LinkToPeople(item.attributes, owner, \"person\")\n\t\t}\n\t\telse {\n\t\t\treturn this.LinkToPeople(item.attributes, owner, \"org\")\n\t\t}\n\t}\n\n\tmoreActions(val,item){\n\t\treturn <td className=\"td-left\">\n\t\t\t<div className=\"btn-toolbar\">\n\t\t\t\t<Button onClick={e=>this.selectPerson(e, val.id)}>\n\t\t\t\t\t<i className=\"fa fa-lg fa-eye\"></i>\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</td>\n\t}\n\n\tlifecycleActions(v, i){\n\t\tlet actions = [], roleAid, roleBid,\n\t\t\tid = i.attributes.id;\n\n\t\troleAid = this.props.containerId;\n\t\troleBid = i.attributes.id;\n\t\tif(this.state.reachableStates.length > 0){\n\t\t\tthis.state.reachableStates.map(state => {\n\t\t\t\tif(state !== ''){\n\t\t\t\t\tactions.push(\n\t\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"outline-primary\"\n\t\t\t\t\t\t\t\t\tonClick={e =>this.setLinkState(roleAid, roleBid, state)}>{state}</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\treturn <td className=\"td-left\">\n\t\t\t{actions}\n\t\t</td>\n\t}\n\tsetLinkState(roleAid, roleBid, state){\n\t\tlet linkClass = 'com.katappult.core.api.composite.ContainerMembershipLink'\n\t\tthis.setState({\n\t\t\tloadingMembers: true\n\t\t})\n\n\t\tif(roleAid === undefined || roleBid === undefined ){\n\t\t\treturn;\n\t\t}\n\n\t\tlifecycleService\n\t\t\t.setLinkState(roleAid, roleBid, state, linkClass, this.props.containerId)\n\t\t\t.then(response => {\n\t\t\t\tlet queryFilters = {...this.state.queryFilters}\n\t\t\t\tthis.loadDatas(queryFilters)\n\t\t\t})\n\t}\n\tLinkToPeople(item, owner, type){\n\t\tlet route\n\t\tif(type !== \"org\"){\n\t\t\troute = <Link className=\"table-link\" onClick={e=>this.selectPerson(e, item.id)}>\n\t\t\t\t{owner}\n\t\t\t</Link>\n\t\t} else {\n\t\t\troute = <Link className=\"table-link\" onClick={e=>this.selectPerson(e, item.id)}>\n\t\t\t\t{owner}\n\t\t\t</Link>\n\t\t}\n\n\t\treturn (\n\t\t\t<td className=\"td-left\" width=\"30%\">\n\t\t\t\t<HashRouter >\n\t\t\t\t\t{route}\n\t\t\t\t</HashRouter>\n\t\t\t</td>\n\t\t)\n\t}\n\n\tselectPerson(e, id){\n\t\tif(e) e.preventDefault();\n\t\tconst url = coreUri.backOfficeViewURL(\"platform\", \"members\", [\"rootId=\" +  id]);\n\t\tthis.props.history.push(url);\n\t}\n\n\tmembersDatatable(){\n\t\tconst tableConfig = {\n\t\t\tcolumnsConfig: [\n\t\t\t\t{name:'Résumé', dataField: 'attributes', displayComponent: (v, i) => this.nameOf(v, i), headerClass: 'td-left'},\n\t\t\t\t{name:'Email', dataField: 'attributes.login', headerClass: 'td-left', className: 'td-left'},\n\t\t\t\t{name:'Mot de passe expire le', dataField: 'attributes.passwordExpirationDate', dateFormat: 'DD/MM/YYYY HH:mm', headerClass: 'td-left', className: 'td-left'},\n\t\t\t\t{name:'Modification', dataField: 'attributes.lastModifiedDate', dateFormat: 'DD/MM/YYYY', headerClass: 'td-left', className: 'td-left'},\n\t\t\t],\n\t\t}\n\n\t\treturn \t<DataTable tableClassName=\"data-table\"\n\t\t\t\t\t\t\t items={JSON.stringify(this.state.results)}\n\t\t\t\t\t\t\t metaData={JSON.stringify(this.state.metaData)}\n\t\t\t\t\t\t\t tableConfig={tableConfig}\n\t\t\t\t\t\t\t displayTotalElements={true}\n\t\t\t\t\t\t\t goToPage={this.goToPage}\n\t\t\t\t\t\t\t paginate={true}/>\n\t}\n\n\tsearchTermUpdated(e){\n\t\tlet queryFilters = {...this.state.queryFilters}\n\t\tqueryFilters.login = e.target.value\n\t\tthis.loadDatas(queryFilters)\n\t\tthis.setState({\n\t\t\tqueryFilters: queryFilters,\n\t\t\tloadingMembers: true,\n\t\t\tviewMode: 'viewList'\n\t\t})\n\t}\n\n\tsearchHeader(){\n\t\treturn <div className=\"admin-filters\">\n\t\t\t<Input type=\"text\"\n\t\t\t\t   className=\"admin-hover-input\"\n\t\t\t\t   name=\"search-email-2\"\n\t\t\t\t   placeholder=\"Email ou login\"\n\t\t\t\t   autoComplete=\"none\"\n\t\t\t\t//defaultValue={this.state.searchTerm}\n\t\t\t\t   onChange={(e) => this.searchTermUpdated(e)}/>\n\t\t</div>\n\t}\n\n\tupdateStates(e){\n\t\tlet queryFilters = {...this.state.queryFilters}\n\t\tqueryFilters.state = e.target.value\n\t\tthis.setState({\n\t\t\tqueryFilters: queryFilters,\n\t\t\tloadingMembers: true\n\t\t})\n\n\t\tthis.loadDatas(queryFilters)\n\t}\n\n\tgetStateFilterDisplay(){\n\t\tlet datas = []\n\t\tthis.state.statesFilter.map(m => {\n\t\t\tlet id = \"defaultCheck__\" + m;\n\t\t\tlet val = m.split(';')[0];\n\t\t\tlet key = m.split(';')[0]\n\t\t\tlet checked = this.state.queryFilters.state === key\n\t\t\tdatas.push(\n\t\t\t\t<div className=\"\">\n\t\t\t\t\t<input class=\"form-check-input\" checked={checked} type=\"radio\" value={key} id={id} onChange={e => this.updateStates(e)}/>\n\t\t\t\t\t<label class=\"form-check-label\" for={id}>\n\t\t\t\t\t\t{val}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t)\n\t\t})\n\t\treturn <div className=\"mx-4\">{datas}</div>\n\t}\n\n\trender() {\n\n\t\tlet rootObjectForDetailsId = this.getRootObjectForDetailsId()\n\t\tif(!rootObjectForDetailsId){\n\t\t\tlet datatable,\n\t\t\t\ttotal = this.state.metaData !== null && this.state.metaData !== undefined ? this.state.metaData.totalElements : 0;\n\n\t\t\tif(this.state.loadingMembers){\n\t\t\t\tdatatable = <> </>\n\t\t\t}\n\t\t\telse if(total > 0){\n\t\t\t\tdatatable = this.membersDatatable();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdatatable = <EmptyPane hideMainMessage={true}\n\t\t\t\t\t\t\t\t\t   secondaryMessage='Pas de membres' />\n\t\t\t}\n\n\t\t\tlet buttonIconComp = <RiUserLine size=\"1.2em\"/>\n\t\t\tlet headerActions = <>\n\t\t\t\t<Wizard buttonColor=\"secondary\"\n\t\t\t\t\t\tbuttonIconComp={buttonIconComp}\n\t\t\t\t\t\tdialogTitle=\"Nouveau membre\"\n\t\t\t\t\t\tbuttonTitle=\"Nouveau membre\"\n\t\t\t\t\t\thideFooter={true}\n\t\t\t\t\t\tdialogSize=\"md\"\n\t\t\t\t\t\tdialogContentProvider={(wizardCloseFunction)=>this.newPeople(wizardCloseFunction)}/>\n\t\t\t\t<Button className=\"\" size=\"sm\"\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={e=>this.refreshView()}>\n\t\t\t\t\t<RiRefreshLine size=\"1.2em\"/>\n\t\t\t\t\t&nbsp;Recharger\n\t\t\t\t</Button>\n\t\t\t</>\n\n\t\t\treturn <div className=\"portlet-box\">\n\t\t\t\t<div className=\"admin-filters-root\">\n\t\t\t\t\t{this.searchHeader()}\n\t\t\t\t\t<div className=\"btn-toolbar footer-btn-toolbar btn-toolbar-right\">{headerActions}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"portlet-content\">{datatable}</div>\n\t\t\t</div>\n\t\t}\n\n\t\treturn this.showDetailsView();\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ManageContainerUsers);\n\n\nclass SearchMembersResult extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.orgDetailsLink = this.orgDetailsLink.bind(this)\n\t\tthis.personDetailsLink = this.personDetailsLink.bind(this)\n\t}\n\n\tsearchMembersResult(results){\n\t\tif(results && results.length > 0){\n\t\t\treturn this.populateResult(results);\n\t\t}\n\t}\n\n\torgDetailsLink(people, owner){\n\t\treturn LinkToOrg(people, owner)\n\t}\n\n\tpersonDetailsLink(people, owner){\n\t\treturn LinkToOrg(people, owner)\n\t}\n\n\tpopulateResult(results){\n\t\tlet views = []\n\t\tresults.map(res => {\n\t\t\tlet owner = res.links.owner\n\t\t\tviews.push(\n\t\t\t\t<PeopleCard\n\t\t\t\t\tunsubscribe={e => this.props.unsubscribe(e)}\n\t\t\t\t\tblockUser={e => this.props.blockUser(e)}\n\t\t\t\t\tpeopleType={res.businessType}\n\t\t\t\t\tpeople={res.links.owner}\n\t\t\t\t\taccount={res.attributes}\n\t\t\t\t\torgDetailsLink={e => this.orgDetailsLink(res.attributes, owner)}\n\t\t\t\t\tpersonDetailsLink={e => this.personDetailsLink(res.attributes, owner)}\n\t\t\t\t/>\n\t\t\t)\n\t\t})\n\n\t\treturn <div>\n\t\t\t{views}\n\t\t</div>\n\t}\n\trender(){\n\t\treturn this.searchMembersResult(this.props.results);\n\t}\n}\n\nconst LinkToPerson2 = (item, owner) => {\n\tconst link = `/admin/home/users/${item.id}`\n\treturn (\n\t\t<td className=\"td-left\" width=\"50%\">\n\t\t\t<div className=\"half-opacity\">\n\t\t\t\t{item.login}\n\t\t\t</div>\n\n\t\t\t<p align=\"left\">\n\t\t\t\t<HashRouter >\n\t\t\t\t\t<Link to={link} className=\"btn-square\">{owner.firstName} {owner.lastName}</Link>\n\t\t\t\t</HashRouter>\n\t\t\t</p>\n\t\t</td>\n\t)\n}\nconst LinkToOrg = (item, owner) => {\n\tconst link = `/admin/home/users/${item.id}`\n\treturn (\n\t\t<td className=\"td-left\" width=\"50%\">\n\t\t\t<div className=\"half-opacity\">\n\t\t\t\t{item.login}\n\t\t\t</div>\n\t\t\t<p align=\"left\">\n\t\t\t\t<HashRouter >\n\t\t\t\t\t<Link to={link} className=\"btn-square\">{owner.name}</Link>\n\t\t\t\t</HashRouter>\n\t\t\t</p>\n\t\t</td>\n\t)\n}\n\nconst enIcon = (val) => {\n\tif(val) return <td  className=\"td-left\">\n\t\t<RiUser6Line color=\"#EEEE\" size=\"1.3em\"/></td>\n\treturn <td></td>\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { containerService } from '_services/container.services.js';\nimport { accountService } from '_services/account.services.js';\nimport { DataTable, EmptyPane} from '_components/_common';\nimport { commons } from '_helpers/commons.js';\nimport {Link} from \"react-router-dom\";\n\nconst mapStateToProps = store => ({\n\n})\n\nconst mapDispatchToProps = (disptach) => ({\n\n})\n\nclass ContainersMembership extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t\tmetaData: '',\n\t\t\taccountId: this.props.accountId ? this.props.accountId : this.props.match.params.accountId,\n\t\t\tneedUpdate: false,\n\t\t\tmembershipStates:{}\n\t\t}\n\n\t\tthis.switchToParent = this.switchToParent.bind(this)\n\t\tthis.emptyTableActions = this.emptyTableActions.bind(this)\n\t\tthis.join = this.join.bind(this)\n\t}\n\n\tjoin(val){\n\t\tlet containerId = val.id\n\t\tlet isMember = this.state.membershipStates[val.name]\n\n\t\t//can not leave or join root and unaffiliated containers\n\t\tlet isUnleavable = val.path === '/Application' ||\n\t\t\tval.path === '/Application/Unaffiliated' ||\n\t\t\tval.path === '/'\n\n\t\tif(isUnleavable){\n\t\t\treturn (<td></td>)\n\t\t}\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<td className=\"dt-center\">\n\t\t\t\t\t<div className=\"btn-toolbar-right\" style={{marginTop:'-0.3rem'}}>\n\t\t\t\t\t\t<button hidden={isMember}  onClick={() => this.addMemberToContainer(containerId, val.name)}>AJOUTER</button>\n\t\t\t\t\t\t<button hidden={!isMember} onClick={() => this.removeMemberFromContainer(containerId, val.name)}>SUPPRIMER</button>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t)\n\t\t}\n\t}\n\ttoChild(val){\n\t\tlet containerId = val.id\n\t\treturn <td className=\"dt-center\" width={'5%'}>\n\t\t\t<div className={'btn-toolbar'} style={{paddingTop:'1rem'}}>\n\t\t\t\t<Link  size=\"md\" color=\"light\" onClick={e => this.switchTo(e, containerId)}>\n\t\t\t\t\t<i className={'fa fa-chevron-right fa-lg'}></i>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</td>\n\t}\n\n\tremoveMemberFromContainer(containerId, containerName){\n\t\tlet accountId = this.state.accountId\n\t\tlet {membershipStates} = this.state\n\n\t\taccountService.removeContainerMembership(accountId, containerId).then(() => {\n\t\t\tmembershipStates[containerName] = false\n\t\t\tthis.setState({\n\t\t\t\tmembershipStates: membershipStates\n\t\t\t})\n\t\t})\n\t}\n\n\taddMemberToContainer(containerId, containerName){\n\t\tlet accountId = this.state.accountId\n\t\tlet {membershipStates} = this.state\n\n\t\taccountService.addContainerMembership(accountId, containerId).then(response => {\n\t\t\tmembershipStates[containerName] = true\n\t\t\tthis.setState({\n\t\t\t\tneedUpdate: true,\n\t\t\t\tmembershipStates: membershipStates\n\t\t\t})\n\t\t})\n\t}\n\n\tswitchTo(e, container) {\n\t\tif(e) e.preventDefault()\n\t\tthis.loadDatas(container)\n\t}\n\n\tswitchToParent(e){\n\t\tif(e) e.preventDefault()\n\t\tlet containerId = this.state.currentContainerId,\n\t\t\trootContainerId = commons.getRootContainerId(this.props.userContext)\n\n\t\tif(rootContainerId !== containerId){\n\t\t\tcontainerService.getParentContainer(containerId).then(json => {\n\t        \tlet parentId = json.data.attributes.id\n\t        \tthis.loadDatas(parentId)\n\t        })\n\t\t}\n\t}\n\n\temptyTableActions(){\n\t\treturn (\n\t\t\t<div className=\"btn-toolbar\">\n\t\t\t\t<button onClick={e => this.switchToParent(e)}>Parent</button>\n\t\t\t</div>\n\t\t)\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.loadDatas(this.props.containerId)\n\t}\n\n\tasync loadDatas(parentContainerId){\n\t\tcontainerService.getChildrenContainers(parentContainerId).then(json => {\n        \tthis.setState({\n        \t\tcurrentContainerId: parentContainerId,\n        \t\titems: json.data,\n        \t\tmetaData: json.metaData,\n        \t})\n        \treturn json\n        })\n        .then(json => {\n        \tjson.data.map(item => {\n\t\t\t\tlet containerId = item.attributes.id;\n\t\t\t\taccountService.isUserInContainer(this.state.accountId, containerId).then(response => {\n\t\t\t\t\tlet membershipStates = {...this.state.membershipStates}\n\t\t\t\t\tif(response && response.metaData && response.metaData.isMember === true){\n\t\t\t\t\t\tmembershipStates[item.attributes.name] = true\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmembershipStates[item.attributes.name] = false\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setState({\n\t\t        \t\tmembershipStates: membershipStates\n\t\t        \t})\n\t\t\t\t})\n\t\t\t})\n        })\n\t}\n\n\tnameOf(v,i){\n\t\treturn <>\n\t\t\t<div className={'table-list-admin-root-list-div'}>\n\t\t\t\t<div className={'table-link'}>{v.name}</div>\n\t\t\t\t<div className=\"half-opacity\"><span>{v.path}</span></div>\n\t\t\t</div>\n\t\t</>\n\t}\n\n\trender() {\n\t\tconst {items } = this.state;\n\t\tconst metaData = this.state.metaData;\n\n\t\tconst tableConfig = {\n\t\t\thideTableHeader:\"true\",\n\t\t\tcolumnsConfig: [\n\t\t\t    { dataField: 'attributes', displayComponent: (v,i) => this.nameOf(v,i)},\n\t\t\t    { displayComponent: (v) => this.join(v), dataField: 'attributes' },\n\t\t\t    { displayComponent: (v) => this.toChild(v), dataField: 'attributes' },\n\t\t\t],\n\t\t}\n\n\t\tlet isRootContainer = this.state.currentContainerId === null || this.state.currentContainerId === ''\n\t\t\t|| this.state.currentContainerId === commons.getRootContainerId(this.props.userContext)\n\n\n\t\tlet content\n\t\tif(items && items.length > 0){\n\t\t\tcontent = <div className={'table-list-admin-root-list'}>\n\t\t\t\t\t<DataTable\n\t\t\t\t\t\titems={JSON.stringify(items)}\n\t\t\t\t\t\tmetaData={JSON.stringify(metaData)}\n\t\t\t\t\t\ttableConfig={tableConfig}\n\t\t\t\t\t\tpaginate=\"false\"/>\n\t\t\t</div>\n\t\t}\n\t\telse {\n\t\t\tcontent = <EmptyPane  secondaryMessage='No containers' />\n\t\t}\n\n\t\tif(items){\n\t        return (<>\n\t            \t<div className=\"footer-btn-toolbar header-btn-toolbar btn-toolbar\">\n\t            \t\t<button  onClick={e => this.switchToParent(e)} disabled={isRootContainer}>\n\t            \t\t\t<i className=\"fa fa-chevron-left\"></i> PARENT\n\t            \t\t</button>\n\t            \t</div>\n            \t\t{content}\n\t        </>)\n\t\t}\n\t\treturn <></>\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (ContainersMembership)\n","import { _doGet,_doPost,_doPut, _doDelete, buildURLQuery, API_ROOT } from './utils/services.config';\n\nexport const roleService = {\n\tgetUserRoles,\n\taddRoleToUser,\n\tremoveRoleToUser,\n\tsearchRoleByNameLike\n}\n\nasync function searchRoleByNameLike(searchTerm, userAccountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/roles/searchRoleByNameLike?searchTerm=' + searchTerm + '&userAccountId=' + userAccountId\n\t\t + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n\nasync function removeRoleToUser(userAccountId, roleId, containerId){\n\tconst uri = '/api/secured/v1/katappult/roles/byAccount?containerId=' + containerId + '&roleId=' + roleId + '&userAccountId=' + userAccountId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doDelete(url);\n}\n\nasync function getUserRoles(userAccountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/roles/byAccount?containerId=' + containerId  + '&userAccountId=' + userAccountId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n\nasync function addRoleToUser(userAccountId, roleId, containerId){\n\tconst uri = '/api/secured/v1/katappult/roles/byAccount/?containerId=' + containerId + '&roleId=' + roleId + '&userAccountId=' + userAccountId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPut(url);\n}\n","import React, { Component } from 'react';\nimport { EmptyPane, Wizard, WaitingPane} from '_components/_common';\nimport {Button,} from 'reactstrap';\nimport { commons } from '_helpers/commons';\nimport {roleService} from '_services/role.services';\nimport { RiCloseLine, RiAddLine } from \"react-icons/ri\";\nimport Spinner from 'react-bootstrap/Spinner'\nimport queryString from 'query-string';\n\nclass UserRoles extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading: false\n\t\t}\n\n\t\tthis.getCreatePage = this.getCreatePage.bind(this);\n\t\tthis.removeFromRole = this.removeFromRole.bind(this);\n\t\tthis.onCreateItemSuccess = this.onCreateItemSuccess.bind(this);\n\t\tthis.getRootObjectForDetailsId = this.getRootObjectForDetailsId.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.loadRoles();\n\t}\n\n\tcomponentDidUpdate(prevprops, prevstate){\n\t\tconst prevQueryUrlParams = queryString.parse(prevprops.location.search);\n\t\tconst queryUrlParams = queryString.parse(this.props.location.search);\n\t\tlet rootId = queryUrlParams.rootId;\n\t\tlet prevId = prevQueryUrlParams.rootId;\n\t\tif(prevId !== rootId && prevId){\n\t\t\tthis.loadRoles();\n\t\t}\n\t}\n\n\tgetRootObjectForDetailsId(){\n\t\tconst queryUrlParams = queryString.parse(this.props.location.search);\n\t\tlet objectforDetailsId = queryUrlParams.rootId;\n\t\treturn objectforDetailsId\n\t}\n\n\tloadRoles(){\n\t\tthis.setState({loading: true})\n\n\t\tlet id = this.getRootObjectForDetailsId();\n\t\tif(id){\n\t\t\troleService\n\t\t\t.getUserRoles(id, this.props.containerId)\n\t\t\t.then(response =>{\n\t\t\t\tthis.setState({\n\t\t\t\t\troles: response.data,\n\t\t\t\t\tloading: false\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\n\t}\n\n\tonCreateItemSuccess(){\n\t\tthis.loadRoles()\n\t}\n\n\tgetCreatePage(wizardCloseFunction){\n\t\treturn <AddRole\n\t\t\t\t\t{...this.props}\n\t\t\t\t\taccountId={this.getRootObjectForDetailsId()}\n\t\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\t\tonCreateItemSuccess={() => this.onCreateItemSuccess(wizardCloseFunction)}\n\t\t\t\t\twizardMode={true}/>\n\t}\n\n\theaderActions(){\n\t\treturn <div className={'footer-btn-toolbar header-btn-toolbar btn-toolbar'}>\n\t\t\t\t<Wizard buttonColor=\"secondary\"\n\t\t\t\t\t\tdialogSize=\"md\"\n\t\t\t\t\t\tbuttonIcon=\"fa fa-sm fa-plus\"\n\t\t\t\t\t\thideFooter={true}\n\t\t\t\t\t\tbuttonTitle='ADD TO ROLE'\n\t\t\t\t\t\tdialogTitle=\"Add user to role\"\n\t\t\t\t\t\tdialogContentProvider={(wizardCloseFunction)=>this.getCreatePage(wizardCloseFunction)}/>\n\t\t</div>\n\t}\n\n\tremoveFromRole(roleId){\n\t\tthis.setState({loading: true})\n\n\t\troleService\n\t\t.removeRoleToUser(this.getRootObjectForDetailsId(), roleId, this.props.containerId)\n\t\t.then(() => {\n\t\t\tthis.loadRoles()\n\t\t})\n\t}\n\n\trender(){\n\t\tlet roles = this.state.roles;\n\t\tlet content, header = this.headerActions();\n\t\tlet rolesDisplay = [];\n\n\t\tif(roles && roles.length > 0){\n\t\t\troles.map(c => {\n\t\t\t\trolesDisplay.push(<>\n\t\t\t\t\t<div className=\"user-role\">\n\t\t\t\t\t\t<div className=\"role-name\">{c.attributes.name}</div>\n\t\t\t\t\t\t<div className=\"role-action\">\n\t\t\t\t\t\t\t{c.attributes.key !== 'superadmin' &&\n\t\t\t\t\t\t\t\t<Button color=\"white\" onClick={e=>this.removeFromRole(c.attributes.id)}>\n\t\t\t\t\t\t\t\t\t<RiCloseLine size=\"2em\" color=\"red\"/></Button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{c.attributes.key === 'superadmin' &&\n\t\t\t\t\t\t\t\t<Button color=\"white\"><RiCloseLine size=\"2em\" color=\"white\"/></Button>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>)\n\t\t\t})\n\n\t\t\tcontent = <div className=\"all-roles\">\n\t\t\t\t{rolesDisplay}\n\t\t\t</div>\n\t\t}\n\t\telse {\n\t\t\tcontent = <EmptyPane />\n\t\t}\n\n\t\treturn <>\n\t\t\t{header}\n\t\t\t{this.state.loading &&\n\t\t\t\t<WaitingPane />\n\t\t\t}\n\t\t\t{!this.state.loading &&content}\n\t\t</>\n\t}\n}\n\nexport default UserRoles;\n\nclass AddRole extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsearching:false,\n\t\t\tsearchResult:[],\n\t\t\tsearchTerm: ''\n\t\t}\n\n\t\tthis.searchRole = this.searchRole.bind(this)\n\t}\n\n\tgetDatas(datas, isSuperAdmin){\n\t\tlet result = [];\n\n\t\tif(!isSuperAdmin){\n\t\t\tdatas.map(data => {\n\t\t\t\tif(data.attributes.key !== 'ROLE_SUPERADMIN'){\n\t\t\t\t\tresult.push(data)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tdatas.map(data => {\n\t\t\t\tresult.push(data)\n\t\t\t})\n\t\t}\n\n\t\treturn result\n\t}\n\n\tcomponentDidMount(){\n\n\t\tthis.setState({searching: true})\n\n\t\troleService\n\t\t.searchRoleByNameLike('', this.props.accountId, this.props.containerId)\n\t\t.then(response => {\n\t\t\tif(response && response.data){\n\n\t\t\t\t// remove superadmin role if current user is\n\t\t\t\t// not superadmin and container is not application\n\t\t\t\t// container.\n\t\t\t\tlet isSuperAdmin = commons.hasRoleSuperAdmin(this.props.userContext);\n\t\t\t\tthis.setState({\n\t\t\t\t\tsearchResult: this.getDatas(response.data, isSuperAdmin),\n\t\t\t\t\tsearchTerm: '',\n\t\t\t\t\tsearching: false\n\t\t\t\t})\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.setState({\n\t\t\t\t\tsearchResult: [],\n\t\t\t\t\tsearchTerm: '',\n\t\t\t\t\tsearching: false\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\t.catch(error=> {\n\t\t\tthis.setState({searching: false})\n\t\t})\n\t}\n\n\tasync  searchRole(e){\n\t\tlet searchTerm = e.target.value;\n\t\tthis._doSearchRole(searchTerm);\n\t}\n\n\tasync  _doSearchRole(searchTerm){\n\t\tif(searchTerm){\n\n\t\t\tthis.setState({searching: true})\n\n\t\t\troleService\n\t\t\t.searchRoleByNameLike(searchTerm, '', this.props.containerId)\n\t\t\t.then(response => {\n\t\t\t\tif(response && response.data){\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tsearchResult: response.data,\n\t\t\t\t\t\tsearchTerm: searchTerm,\n\t\t\t\t\t\tsearching: false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tsearchResult: [],\n\t\t\t\t\t\tsearchTerm: searchTerm,\n\t\t\t\t\t\tsearching: false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tsearchResult: [],\n\t\t\t\tsearchTerm: ''\n\t\t\t})\n\t\t}\n\t}\n\n\tasync addUserToRole(roleId){\n\t\tthis.setState({searching: true})\n\n\t\troleService\n\t\t.addRoleToUser(this.props.accountId, roleId, this.props.containerId)\n\t\t.then(response => {\n\t\t\tthis.setState({searching: false})\n\t\t\tif(this.props.onCreateItemSuccess){\n\t\t\t\tthis.props.onCreateItemSuccess();\n\t\t\t}\n\t\t\tthis.componentDidMount()\n\t\t})\n\t}\n\n\tgetRows(){\n\t\tlet display = [];\n\t\tthis.state.searchResult.map(c => {\n\n\t\t\tdisplay.push(<div className=\"user-role\">\n\t\t\t\t<div className=\"role-name\">{c.attributes.name}</div>\n\t\t\t\t<div className=\"role-action\">\n\t\t\t\t\t<Button color=\"white\" onClick={e=>this.addUserToRole(c.attributes.id)}>\n\t\t\t\t\t\t<RiAddLine size=\"2em\" color=\"red\"/>\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>)\n\t\t})\n\t\treturn display;\n\t}\n\n\trender(){\n\n\t\treturn <>\n\t\t\t{this.state.searching && <>\n\t\t\t\t\t\t<Spinner animation=\"border\" variant=\"secondary\" />\n\t\t\t\t</>\n\t\t\t}\n\n\t\t\t{!this.state.searching && this.state.searchResult.length < 1 &&\n\t\t\t\t\t<EmptyPane mainMessage=\"No roles found\" />\n\t\t\t}\n\n\t\t\t{!this.state.searching && this.state.searchResult.length > 0 &&\n\t\t\t\tthis.getRows()\n\t\t\t}\n\t\t</>\n\t}\n}\n","import React, { Component } from 'react';\nimport { ButtonToolbar,} from 'reactstrap';\nimport {\n\tAttributeListGroup,\n\tContactable,\n\tResetPassword,\n\tUpdatePassword,\n\tLockUser,\n\tUnLockUser,\n\tDataTable,\n\tUserSystemSettings,\n\tWaitingPane,\n\tAccordion\n} from '_components/_common';\nimport { connect } from 'react-redux';\nimport { accountService } from '_services/account.services';\nimport { toast } from 'react-toastify';\nimport { commons } from '_helpers/commons';\nimport ContainersMembership  from 'pages/AdminPages/Container/ContainersMembership.js'\nimport UserRoles from '../UserRoles/UserRoles.js';\nimport Tabs from 'react-bootstrap/Tabs'\nimport Tab from 'react-bootstrap/Tab'\nimport queryString from 'query-string';\nimport profile from 'assets/img/profile.png'\n\nconst mapStateToProps = store => ({\n})\n\nclass PeopleDetails extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\titem: {},\n\t\t\taccountId: props.accountId ? props.accountId :\n\t\t\t\tthis.props.match ? this.props.match.params.accountId : null,\n\t\t\tloadDataError: false,\n            summaryMode: 'view',\n\t\t\tactiveTab: '1',\n\t\t\tuserProfile: null,\n\t\t\tuserAccount: null,\n\t\t\tloading: false\n        }\n\n        this.toggle = this.toggle.bind(this);\n        this.overviewTabContent = this.overviewTabContent.bind(this);\n        this.accountAttributesList = this.accountAttributesList.bind(this);\n\t\tthis.contactTabContent = this.contactTabContent.bind(this);\n\t\tthis.updateProfile = this.updateProfile.bind(this);\n\t\tthis.updateOrgProfile = this.updateOrgProfile.bind(this);\n\t\tthis.isLocked = this.isLocked.bind(this);\n\t\tthis.refresh = this.refresh.bind(this);\n\t\tthis.isCurrentAccountOwner = this.isCurrentAccountOwner.bind(this);\n\t\tthis.organizationAttributesView = this.organizationAttributesView.bind(this);\n\t\tthis.overviewTabContent = this.overviewTabContent.bind(this);\n\t\tthis.getRootObjectForDetailsId = this.getRootObjectForDetailsId.bind(this);\n\t\tthis.accountRoles = this.accountRoles.bind(this);\n\t\tthis.accountSystemPrefsContent = this.accountSystemPrefsContent.bind(this)\n\t}\n\n\tgetRootObjectForDetailsId(){\n\t\tconst queryUrlParams = queryString.parse(this.props.location.search);\n\t\tlet objectforDetailsId = queryUrlParams.rootId;\n\t\treturn objectforDetailsId\n\t}\n\n\tisLocked(){\n\t\tif(this.state.userAccount.locked) return true;\n\t\treturn false\n\t}\n\n\tupdateProfile(formData) {\n\t\tlet id = formData.id\n\t\taccountService.updatePersonProfile(id, formData, this.props.containerId).then(response => {\n\t\t\tthis.updateProfileSuccess()\n\t\t})\n\t\t.catch(error => {\n\t\t\tthis.toggle();\n\t\t\ttoast.error('Error updating profile!')\n\t\t\tconsole.error(error)\n\t\t});\n\t}\n\n\tupdateProfileSuccess(){\n\t\tlet accountId = this.getRootObjectForDetailsId();\n\t\taccountService.accountDetails(accountId, this.props.containerId).then(response => {\n\t\t\tif(this.props.updatePeopleCallBack){\n\t\t\t\tthis.props.updatePeopleCallBack(accountId, false)\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tloadDataError: false,\n\t\t\t\tuserProfile:  response.data.attributes,\n\t\t\t});\n\t\t})\n\t}\n\n    toggle(tab) {\n        if (this.state.activeTab !== tab) {\n            this.setState({\n                activeTab: tab\n            });\n        }\n    }\n    /**\n     * Tab pane configuration\n     */\n    tabsConfigs(){\n        const tabsConfig = {\n            tabItems: [\n                {id: '1', title: 'Utilisateur', tabContent: () => this.overviewTabContent(), visible: () => true},\n                {id: '2', title: 'Accès', tabContent: () => this.containerAccessTabContent(), visible: () => this.containerAccessTabContentVisible()},\n                {id: '3', title: 'Compte', tabContent: () => this.accountTabContent(), visible: () => this.containerAccessTabContentVisible()},\n                {id: '4', title: 'Paramètres', tabContent: () => this.accountSystemPrefsContent(), visible: () => this.containerAccessTabContentVisible()},\n                {id: '5', title: 'Roles', tabContent: () => this.accountRoles(), visible: () => this.containerAccessTabContentVisible()},\n            ],\n        }\n\n        if(this.props.customTabItems){\n        \tthis.props.customTabItems.map(tab => {\n        \t\ttabsConfig.tabItems.push(tab)\n        \t})\n        }\n\n        return tabsConfig;\n    }\n    accountRoles(){\n    \treturn <UserRoles {...this.props}/>\n    }\n    accountSystemPrefsContent(){\n    \treturn <UserSystemSettings {...this.props}/>\n    }\n\n    containerAccessTabContentVisible(){\n    \treturn commons.hasRoleAdmin(this.props.userContext) || commons.hasRoleSuperAdmin(this.props.userContext);\n    }\n\n    isCurrentAccountOwner(){\n    \tlet owner = this.state. isCurrentAccountOwner || commons.hasRoleAdmin(this.props.userContext);\n    \treturn owner;\n    }\n\n\tnameOf(container){\n\t\treturn <td width=\"60%\">\n\t\t\t\t<h5 className=\"katappult-link\">{container.name}</h5>\n\t\t\t\t<span><i>{container.description}</i></span>\n\t\t</td>\n\t}\n\n    containerAccessTabContent(){\n    \tlet xaccessTableConfig = {\n\t\t\tcolumnsConfig: [\n\t\t\t\t{ displayComponent: (v) => this.nameOf(v), dataField: 'attributes' },\n\t\t\t],\n        }\n\n    \tif(commons.hasRoleAdmin(this.props.userContext) || commons.hasRoleSuperAdmin(this.props.userContext)){\n    \t\treturn <ContainersMembership\n\t\t\t\t\t\t\t{...this.props}\n\t\t\t\t\t\t\taccountId={this.getRootObjectForDetailsId()} />\n    \t}\n    \telse {\n    \t\tif(this.state.containerMembership &&\n    \t\t\t\tthis.state.containerMembership.length > 0){\n    \t\t\treturn <DataTable items={JSON.stringify(this.state.containerMembership)}\n\t\t\t\t         \t\tmetaData={JSON.stringify(this.state.containerMembershipMetaData)}\n\t\t\t\t             \ttableConfig={xaccessTableConfig}\n\t\t\t\t            \tpaginate=\"false\"/>\n\n    \t\t}\n    \t\treturn <></>\n    \t}\n    }\n\n    contactTabContent(){\n    \tlet canEdit = this.isCurrentAccountOwner()\n        return <div>\n               { this.state.loading !==true && <Contactable\n\t\t\t\t   containerId={this.props.containerId}\n                \tcontactNavigation={true}\n                \tdisplayHeader={true}\n                \tbusinessId={this.state.userProfile.id}\n            \t\tcanEdit={canEdit}/>\n              }\n            </div>\n\t}\n\n    peopleProfileAttributesList(){\n        const peopleProfileAttributesList = {\n\t\t\tonSubmit: (formData) => this.updateProfile(formData),\n            attributes: [\n                //{name: 'Gender', dataField: 'gender', type: 'select', editor:'select', enumProvider: ()=>genderProvider()},\n                {name: 'Lastname', dataField: 'lastName', type: 'text'},\n\t\t\t\t{name: 'Firstname', dataField: 'firstName', type: 'text'},\n                //{name: 'Middlename', dataField: 'middleName', type: 'text'},\n                //{name: 'Birth place', dataField: 'birthPlace', type: 'text'},\n                //{name: 'Birth date', dataField: 'birthDate', type:'date', dateFormat: 'DD/MM/YYYY'},\n            ]\n        };\n        return peopleProfileAttributesList;\n    }\n   peopleAttributesView(){\n\t   let canEdit = this.isCurrentAccountOwner();\n\t   return <AttributeListGroup\n\t\tattributesListConfig={this.peopleProfileAttributesList()}\n\t\tdata={this.state.userProfile}\n\t\tcanEdit={canEdit}\n\t\tstandardFooterActions=\"true\"\n\t\tdisplayHeader={true}/>\n   }\n\n   organizationProfileAttributesList(){\n        const organizationProfileAttributesList = {\n\t\t\tformId: 'profileAttributesList_form',\n\t\t\taddHeaderMargin: true,\n\t\t\tonSubmit: (formData) => this.updateOrgProfile(formData),\n            attributes: [\n                {name: 'Name', dataField: 'name', type: 'text'},\n                {name: 'Siren', dataField: 'siren', type: 'text'},\n                {name: 'Siret', dataField: 'siret', type: 'text'},\n                {name: 'Number', dataField: 'number', type: 'text'},\n                {name: 'Code NAF', dataField: 'codeNaf', type: 'text'},\n                {name: 'Code APE', dataField: 'codeApe', type: 'text'},\n                {name: 'JURIDICAL', dataField: 'juridicalForm', type: 'text'},\n                {name: 'TVA INTRA', dataField: 'tvaIntra', type: 'text'},\n                {name: 'Immat date', dataField: 'immatriculationDate', type:''},\n                {name: 'Greffer code', dataField: 'greffeCode', type: 'text'},\n                {name: 'Categorie', dataField: 'categorie', type: 'text'},\n                {name: 'NAF company', dataField: 'codeNafCompany', type: 'text'},\n                {name: 'APE company', dataField: 'codeApeCompany', type: 'text'},\n                {name: 'Addressage name', dataField: 'addressageName', type: 'text'},\n            ]\n        };\n        return organizationProfileAttributesList;\n    }\n\n    organizationAttributesView(){\n    \tlet canEdit = this.isCurrentAccountOwner();\n    \treturn <AttributeListGroup\n\t\t\tattributesListConfig={this.organizationProfileAttributesList()}\n\t\t\tdata={this.state.userProfile}\n\t\t\tcanEdit={canEdit}\n\t\t\tstandardFooterActions=\"true\"\n\t\t\tdisplayHeader={true}/>\n    }\n    updateOrgProfile(formData) {\n\t\tlet id = formData.id\n\t\taccountService\n\t\t.updateOrgProfile(id, formData, this.props.containerId)\n\t\t.then(response => {\n\t\t\tthis.updateProfileSuccess()\n\t\t})\n\t\t.catch(error => {\n\t\t\ttoast.error('Error updating profile!')\n\t\t\tconsole.error(error)\n\t\t});\n\t}\n\tcomponentDidUpdate(prevprops, presState){\n\n\t\tconst prevQueryUrlParams = queryString.parse(prevprops.location.search);\n\t\tconst queryUrlParams = queryString.parse(this.props.location.search);\n\t\tlet rootId = queryUrlParams.rootId;\n\t\tlet prevId = prevQueryUrlParams.rootId;\n\t\tif(prevId !== rootId && rootId){\n\t\t\tthis.loadAllDatas(rootId)\n\t\t}\n\t}\n\n\trefresh(){\n\t\tthis.loadAllDatas(this.getRootObjectForDetailsId(), false)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.loadAllDatas(this.getRootObjectForDetailsId(), true)\n    }\n\n\tasync loadAllDatas(accountId, refreshbread){\n\n\t\tthis.setState({loading: true})\n\n\t\taccountService\n\t\t.accountDetails(accountId, this.props.containerId)\n\t\t.then(response => {\n\t\t\tlet currentAccountOwner = response.data.links.account.nickName === this.props.userContext.userAccount.nickName;\n\t\t\tthis.setState({\n\t\t\t\tloading: false,\n\t\t\t\tloadDataError: false,\n\t\t\t\tuserProfile:  response.data.attributes,\n\t\t\t\tuserAccount: response.data.links.account,\n\t\t\t\tisCurrentAccountOwner: currentAccountOwner,\n\t\t\t\taccountId: accountId,\n\t\t\t})\n\n\t\t\treturn response;\n\t\t})\n\t\t.then(response => {\n\t\t\tlet currentAccountId = response.data.links.account.id\n\t\t\tthis.loadContainerMemberships(currentAccountId)\n\t\t})\n\t\t.catch(error => {\n\t\t\tthis.setState({loadDataError: true})\n        })\n\t}\n\n\tasync loadContainerMemberships(currentAccountId){\n\t\taccountService\n\t\t.containersMembership(currentAccountId, this.props.containerId)\n\t\t.then(response => {\n\t\t\tif(response && response.data){\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontainerMembership: response.data,\n\t\t\t\t\tcontainerMembershipMetaData: response.metaData,\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n    getProfileName(){\n    \tif(this.state.userProfile){\n    \t\tif(this.state.userProfile.lastName){\n    \t\t\treturn this.state.userProfile.firstName + ' ' + this.state.userProfile.lastName\n    \t\t}\n        \treturn this.state.userProfile.name;\n    \t}\n\n    \treturn <div></div>;\n    }\n\n    isOrganizationProfile(){\n    \treturn this.state.userProfile && this.state.userProfile.siret;\n    }\n\n    overviewTabContent() {\n\n\t\tlet content = <></>;\n\t\tif(this.notLoading()) {\n\t    \tlet canEdit = this.isCurrentAccountOwner();\n\t    \tlet attributesView, accountShortType = 'Person';\n\t\t\tif(this.isOrganizationProfile()){\n\t\t\t\taccountShortType = 'Organization';\n\t\t\t}\n\n\t    \tif(accountShortType === 'Person'){\n\t    \t\tattributesView = this.peopleAttributesView();\n\t    \t}\n\t    \telse {\n\t    \t\tattributesView = this.organizationAttributesView();\n\t    \t}\n\n\t    \tcontent = <>\n\t\t\t\t<Accordion title={'Details'} content={attributesView} expanded={true}/>\n\t\t\t\t<Accordion title={'Contacts'} content={\n\t\t\t\t\t\t\t<Contactable\n\t\t\t\t\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\t\t\t\t\tdisplayHeader={true}\n\t\t\t\t\t\t\t\tbusinessId={this.state.userProfile.id}\n\t\t\t\t\t\t\t\tcanEdit={canEdit}/>\n\t\t\t\t\t\t} expanded={true}\n\t\t\t\t/>\n\n\t\t\t</>\n\t\t}\n\t\telse {\n\t\t\tcontent = <WaitingPane />\n\t\t}\n\n\t\treturn <div>{content}</div>\n    }\n\n    notLoading (){\n    \treturn !this.state.loading && this.state.userProfile;\n    }\n\n    accountTabContent(){\n    \tlet canEdit = this.state.isCurrentAccountOwner || commons.hasRoleAdmin(this.props.userContext),\n    \tactions = [], isAdmin = commons.hasRoleAdmin(this.props.userContext)\n\n\t\tif(this.notLoading()){\n\n\t\t\tif(isAdmin){\n\t\t\t\tactions.push(\n\t\t\t\t\t<ResetPassword\n\t\t\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\t\t\taccountId={this.state.userAccount.id}\n\t\t\t\t\t\tafterUpdate={() => this.refresh()}/>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif(this.state.isCurrentAccountOwner) {\n\t\t\t\tactions.push(\n\t\t\t\t\t<UpdatePassword\n\t\t\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\t\t\taccountId={this.state.userAccount.id}/>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif(isAdmin){\n\t\t\t\tif(!this.isLocked()){\n\t\t\t\t\tactions.push(<LockUser\n\t\t\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\t\t\taccountId={this.state.userAccount.id}\n\t\t\t\t\t\tafterUpdate={() => this.refresh()}/>)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tactions.push(<UnLockUser\n\t\t\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\t\t\taccountId={this.state.userAccount.id}\n\t\t\t\t\t\tafterUpdate={() => this.refresh()}/>)\n\t\t\t\t}\n\t\t\t}\n\n\t    \treturn <>\n\t\t\t\t\t<ButtonToolbar className={'footer-btn-toolbar header-btn-toolbar btn-toolbar'}>{actions}</ButtonToolbar>\n\t\t\t\t\t<Accordion title={'Compte'} content={\n\t\t\t\t\t\t\t<AttributeListGroup\n\t\t\t\t\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\t\t\t\t\tattributesListConfig={this.accountAttributesList()}\n\t\t\t\t\t\t\t\tdata={this.state.userAccount}\n\t\t\t\t\t\t\t\tcanEdit={canEdit}\n\t\t\t\t\t\t\t\tdisplayHeader={true}/>\n\t\t\t\t\t\t} expanded={true}\n\t\t\t\t\t/>\n\n\t\t\t</>\n\t\t}\n\n\t\treturn <ButtonToolbar>{actions}</ButtonToolbar>\n    }\n\n    accountAttributesList(){\n        const accountAttributesList = {\n                attributes: [\n\t\t\t\t\t{name: 'Locked', dataField: 'locked', type:'bool'},\n\t\t\t\t\t{name: 'Locked date', dataField: 'lockedDate', type: 'text'},\n                    {name: 'Activated', dataField: 'active', type:'bool'},\n                    {name: 'Pass expire date', dataField: 'passwordExpirationDate', type:'date', dateFormat: 'DD/MM/YYYY HH:mm'},\n                    {name: 'Pass expired', dataField: 'firstName', type:'bool'},\n                    {name: 'Creation date', dataField: 'createDate', type:'date', readOnly: true, dateFormat: 'DD/MM/YYYY HH:mm'},\n                    {name: 'Created by', dataField: 'createdBy', type: 'text', readOnly: true},\n                    {name: 'Modification date', dataField: 'lastModifiedDate', type:'date', readOnly: true, dateFormat: 'DD/MM/YYYY HH:mm'},\n                    {name: 'Modified by', dataField: 'lastModifiedBy', type: 'text', readOnly: true},\n                ]\n        };\n\n        return accountAttributesList;\n    }\n\n\trender() {\n\n\t\tlet navTabContents = [];\n\t\tthis.tabsConfigs().tabItems.map(tabItem => {\n\t\t\tif(tabItem.visible()) {\n\t\t\t\tnavTabContents.push( <Tab eventKey={tabItem.id.toString()} title={tabItem.title}>\n\t\t\t\t\t{tabItem.tabContent(tabItem)}\n\t\t\t\t</Tab>);\n\t\t\t}\n\t\t});\n\n\t\treturn (<div className=\"user-profile-root\">\n\t\t\t<div className=\"user-profile-thumb\">\n\t\t\t\t<img src={profile}\n\t\t\t\t\t height=\"120\"\n\t\t\t\t\t width=\"120\"/>\n\t\t\t</div>\n\t\t\t<div className=\"user-profile-content admin-tab-content\">\n\t\t\t\t<Tabs defaultActiveKey=\"1\" id=\"uncontrolled-tab-example\" className={\"admin-nav-tabs\"}>\n\t\t\t\t\t{navTabContents}\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t</div>);\n\t}\n}\n\nexport default connect(mapStateToProps) (PeopleDetails);\n\nconst genderProvider = () => {\n\treturn [{'key':'O', 'value':'Mr'}, {'key':'1', 'value':'Ms'}]\n}\n","import React, { Component } from 'react';\nimport {Button,} from 'reactstrap';\nimport { ThumbInfo} from '_components/_common';\n\nclass PeopleCard extends Component {\n\t\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading:false,\n\t\t\tpeopleType: props.peopleType,\n\t\t\tpeople: props.people,\n\t\t\taccount: props.account,\n\t\t\t\n\t\t\torgDetailsLink: props.orgDetailsLink,\n\t\t\tpersonDetailsLink: props.personDetailsLink,\n\t\t}\n\t}\n\t\n\tblockUser(e, userAccountId){\n\t\te.preventDefault()\n\t\tthis.props.blockUser(userAccountId)\n\t}\n\n\tunsubscribe(e){\n\t\te.preventDefault()\n\t\tlet userAccountId = this.state.account.id\n\t\tthis.props.unsubscribe(userAccountId)\n\t}\n\n\t\n\tloading(){\n\t\treturn (<span>Loading...</span>)\n\t}\n\t\n\tgetTitle(people){\n\t\treturn \"title\"\n\t}\n\t\n\tgetDisplay(){\n\t\tlet type = this.state.peopleType.logicalPath,\n\t\tcardImage, link = this.props.personDetailsLink(this.state.people);\n\t\t\n\t\tconst thumb = <ThumbInfo \n\t\t\t\tcanEdit={false} \n\t\t\t\twidth=\"90\"\n\t\t\t\theight=\"90\"\n\t\t\t\tthumbedId={this.state.people.id} /> \n\t\t\n\t\tlet title\n\t\tif(this.state.peopleType.logicalPath.startsWith('com.katappult.people.Party/Organisation/')){\n\t\t\tif(this.props.orgDetailsLink !== null){\n\t\t\t\ttitle = this.props.orgDetailsLink(this.state.people)\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttitle = this.state.people.addressageName\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif(this.props.personDetailsLink !== null){\n\t\t\t\ttitle = this.props.personDetailsLink(this.state.people)\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttitle = this.state.people.firstName + ' ' + this.state.people.lastName\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn <table>\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t\t{thumb}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<div>\n\t\t                  \t<p align=\"left\"><h5>{title}</h5></p>\n\t\t                </div>\n\t\t                <div>\n\t\t                \t<Button onClick={e => this.blockUser(e, this.props.account.id)}>BLOCK</Button>\n\t\t                \t<Button onClick={e => this.unsubscribe(e, this.props.account.id)}>UNSUBSCRIBE</Button>\n\t\t                </div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t          </table>\n\t}\n\t\n\trender() {\n\t\tif(this.state.loading){\n\t\t\treturn this.loading()\n\t\t}\n\t\t\n\t\tif(this.state.peopleType === null || \n\t\t\t\tthis.state.peopleType === undefined){\n\t\t\treturn <div>Unkown people type!</div>\n\t\t}\n\t\t\n\t\tconst { peopleType, people, account} = this.state;\n\t\treturn this.getDisplay()\n\t}\n}\n\nexport default PeopleCard;\n\n\n","import { _doGet, _doPost, _doDelete, _doPut, buildURLQuery, API_ROOT } from './utils/services.config';\n\nexport const preferencesService = {\n\t\tgetUserPreferences,\n\t\tgetSystemPreferences,\n\t\tupdate,\n\t\tcreate,\n\t\tdrop,\n}\nfunction getUserPreferences(ownerId, containerId){\n\tconst uri = '/api/secured/v1/katappult/principals/account/preferences/list?containerId=' + containerId + '&isUser=true' + '&accountId=' + ownerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\nfunction getSystemPreferences(ownerId, containerId){\n\tconst uri = '/api/secured/v1/katappult/principals/account/preferences/list?containerId=' + containerId + '&isUser=false' + '&accountId=' + ownerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\nfunction update(ownerId, preferenceId, containerId, value){\n\tconst uri = '/api/secured/v1/katappult/principals/account/preferences/update?containerId=' + containerId + '&value=' + value + '&accountId=' + ownerId + '&preferenceId=' + preferenceId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPut(url);\n}\nfunction create(formData){\n\tconst uri = '/api/secured/v1/katappult/preferences/create';\n\tconst url = `${API_ROOT}` + uri;\n    return _doPost(url, JSON.stringify(formData));\n}\nfunction drop(preferenceId, containerId){\n\tconst uri = '/api/secured/v1/katappult/preferences/delete?containerId=' + containerId + '&id=' + preferenceId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doDelete(url);\n}\n","import React, { Component } from 'react';\nimport { AttributeListGroup, WaitingPane} from '_components/_common';\nimport { preferencesService } from '_services/preferences.service';\nimport {commons} from \"_helpers/commons\";\n\n/**\n * Add new settings\n */\nclass AddSettings extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tformData: {\n\t\t\t\tcreateContainerId: this.props.ceateContainerId,\n\t\t\t\tloading: false\n\t\t\t},\n\t\t\terrors:[]\n\t\t}\n\n\t\tthis.create = this.create.bind(this)\n\t\tthis.attributesList = this.attributesList.bind(this);\n\t\tthis.handleSuccessResponse = this.handleSuccessResponse.bind(this);\n\t\tthis.handleErrorResponse = this.handleErrorResponse.bind(this);\n\t}\n\tasync create(formData) {\n\t\tthis.setState({\n\t\t\tloading:true\n\t\t})\n\n\t\tlet accountId = this.props.accountId;\n\t\tlet containerId = this.props.containerId;\n\t\tlet userHidden = this.props.userHidden;\n\n\t\tformData.owner = accountId;\n\t\tformData.container = containerId;\n\t\tformData.userHidden = userHidden;\n\n\t\tpreferencesService.create(formData, this.props.containerId).then(response => {\n\t\t\tif(commons.isRequestSuccess(response)){\n\t\t\t\tthis.handleSuccessResponse(response, formData);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.handleErrorResponse(response);\n\t\t\t}\n\t\t})\n\t}\n\thandleErrorResponse(formData){\n\t\tthis.setState({\n\t\t\tloading: false,\n\t\t\terrors: ['Error occurs when creating entity'],\n\t\t\tformData: formData\n\t\t})\n\t}\n\thandleSuccessResponse(response, formData){\n\t\tthis.setState({\n\t\t\tloading: false,\n\t\t})\n\n\t\tlet itemId = response.data.attributes.id;\n\t\tif(this.props.onCreateItemSuccess){\n\t\t\tthis.props.onCreateItemSuccess(itemId);\n\t\t}\n\t}\n\t/**\n\t * Attributes list\n\t */\n\tattributesList(){\n        const attributesList = {\n            title: 'Summary',\n\t\t\ticon: 'fa fa-info float-right',\n\t\t\tformId: 'create_profileAttributesList_form',\n\t\t\tsaveButtonTitle: 'CREATE',\n\t\t\taddHeaderMargin: true,\n\t\t\tonSubmit: (formData) => this.create(formData),\n            attributes: [\n                {name: 'Display Name', dataField: 'displayName', type: 'text',required:true,  placeHolder: 'Name'},\n    \t\t\t{name: 'Key', dataField: 'key', type: 'text', required: true},\n    \t\t\t{name: 'Value', dataField: 'value', type: 'text', required: true},\n            ]\n        }\n\n        return attributesList;\n    }\n\n   render() {\n\t   if(this.state.loading === true){\n\t\t   return <WaitingPane bordered={false}/>\n\t   }\n\n\t   let errors = [];\n\t   if(this.state.errors.length > 0) {\n\t\t   this.state.errors.map(error => {\n\t\t\t   errors.push(<p>{error}</p>)\n\t\t   })\n\t   }\n\n\t  let formData ={...this.state.formData};\n\t  return (\n\t        <div>\n\t\t\t\t<div id=\"form-errors-section\" className=\"form-error\">\n\t\t\t\t\t{errors}\n\t\t\t\t</div>\n\t\t\t\t<AttributeListGroup\n\t\t\t\t\tattributesListConfig={this.attributesList()}\n\t\t\t\t\tdata={formData}\n\t\t\t\t\tstandardFooterActions=\"true\"\n\t\t\t\t\tformMode='create_object'/>\n\t      </div>\n\t   )\n  }\n}\n\nexport default AddSettings;\n","import React, { Component } from 'react';\nimport { EmptyPane, WaitingPane, DataTable, Wizard, WizardConfirm} from '_components/_common';\nimport { preferencesService } from '_services/preferences.service';\nimport AddSettings from './AddSettings.js';\nimport Form from 'react-bootstrap/Form';\nimport queryString from 'query-string';\n\nclass UserSystemSettings extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tloading:true,\n\t\t\tresults:[],\n\t\t\tmetaData:{},\n\t\t\tcreateForm:{},\n\t\t\teditingRow: null,\n\t\t}\n\n\t\tthis.updateEditedSetting = this.updateEditedSetting.bind(this);\n\t\tthis.cancelEditedSetting = this.cancelEditedSetting.bind(this);\n\t\tthis.setEditingRow = this.setEditingRow.bind(this);\n\t\tthis.formDataChange = this.formDataChange.bind(this);\n\t\tthis.getCreatePage = this.getCreatePage.bind(this);\n\t\tthis.delete = this.delete.bind(this);\n\t\tthis.getRootObjectForDetailsId = this.getRootObjectForDetailsId.bind(this);\n\t}\n\n\tgetRootObjectForDetailsId(){\n\t\tconst queryUrlParams = queryString.parse(this.props.location.search);\n\t\tlet objectforDetailsId = queryUrlParams.rootId;\n\t\treturn objectforDetailsId\n\t}\n\n\tdelete(itemId){\n\t\tlet containerId = this.props.containerId;\n\n\t\tpreferencesService.drop(itemId, containerId).then(response => {\n\t\t\tthis.componentDidMount();\n\t\t\tthis.setState({\n\t\t\t\tloading:true,\n\t\t\t\tcreateForm:{},\n\t\t\t\teditingRow: null,\n\t\t\t});\n\t\t})\n\t}\n\tonCreateItemSuccess(wizardCloseFunction){\n\t\tif(wizardCloseFunction) {\n\t\t\twizardCloseFunction();\n\t\t}\n\n\t\tthis.componentDidMount();\n\t}\n\n\tgetCreatePage(wizardCloseFunction){\n\t\treturn <AddSettings\n\t\t\t\t\tuserHidden={true}\n\t\t\t\t\taccountId={this.getRootObjectForDetailsId()}\n\t\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\t\tonCreateItemSuccess={() => this.onCreateItemSuccess(wizardCloseFunction)}\n\t\t\t\t\twizardMode={true}/>\n\t}\n\n\tupdateEditedSetting(val){\n\t\tlet id = val.id;\n\t\tlet containerId = this.props.containerId;\n\t\tlet accountId = this.getRootObjectForDetailsId();\n\t\tlet value = this.state.createForm.value;\n\n\t\tpreferencesService.update(accountId, id, containerId, value).then(response => {\n\t\t\tthis.componentDidMount();\n\t\t\tthis.setState({\n\t\t\t\tcreateForm:{},\n\t\t\t\teditingRow: null,\n\t\t\t});\n\t\t})\n\t}\n\n\tcancelEditedSetting(val){\n\t\tlet id = val.id;\n\t\tthis.setState({\n\t\t\tcreateForm: {},\n\t\t\teditingRow: null\n\t\t})\n\t}\n\n\tsetEditingRow(v, i){\n\t\tlet createForm = {};\n\t\tcreateForm['value'] = v.value;\n\t\tcreateForm['id'] = v.id;\n\n\t\tthis.setState({\n\t\t\teditingRow: v.id,\n\t\t\tcreateForm: createForm,\n\t\t})\n\t}\n\n\tformDataChange(e){\n\t\tlet createForm = {...this.state.createForm}\n\t\tcreateForm[e.target.name] = e.target.value\n\t\tthis.setState({\n\t\t\tcreateForm: createForm\n\t\t})\n\t}\n\n\tsettingsDatatable(){\n\t\tconst tableConfig = {\n\t\t\t\tcolumnsConfig: [\n\t\t\t\t\t{ name:'Name', dataField: 'attributes.displayName', headerClassName: 'td-left', className: 'td-left'},\n\t\t\t\t\t{ name:'Value',displayComponent: (v,i) => this.settingsValue(v,i), dataField: 'attributes', headerClassName: 'td-left', className: 'td-left'},\n\t\t\t\t\t{ displayComponent: (v,i) => this.rowAction(v,i), dataField: 'attributes'}\n\t\t\t\t],\n\t\t}\n\n\t\tlet items = [];\n\t\tthis.state.results.map(item => {\n\t\t\titems.push({attributes: {id: item.attributes.accountId, value: item.attributes.value, key: item.attributes.key, displayName: item.attributes.displayName}})\n\t\t})\n\n\t\treturn \t<DataTable items={JSON.stringify(items)}\n\t            \tmetaData={JSON.stringify(this.state.metaData)}\n\t                tableConfig={tableConfig}\n\t                displayTotalElements={true}\n\t            \tpaginate={false}/>\n\t}\n\n\tsettingsValue(val){\n\t\tlet form;\n\t\tif(this.state.editingRow && this.state.editingRow === val.id){\n\t\t\tform = (\n\t\t      <Form.Control type=\"text\"\n\t\t    \t  placeholder=\"Value\"\n\t\t    \t  onChange={this.formDataChange}\n\t\t    \t  value={this.state.createForm.value}\n\t\t    \t  name=\"value\"\n\t\t    \t  className=\"mb-2\"/>\n\t\t\t)\n\t\t}\n\t\telse {\n\t\t\tform = val.value;\n\t\t}\n\n\t\treturn <td className=\"td-left\">\n\t\t\t{form}\n\t\t</td>\n\t}\n\tcomponentDidMount(){\n\t\tlet containerId = this.props.containerId;\n\t\tlet accountId = this.getRootObjectForDetailsId();\n\n\t\tpreferencesService.getSystemPreferences(accountId, containerId).then(response => {\n\t\t\tthis.setState({\n\t\t\t\tresults: response.data,\n\t\t\t\tmetaData:response.metaData,\n\t\t\t\tloading:false\n\t\t\t});\n\t\t\treturn response;\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.log(error);\n\t\t\tthis.setState({\n\t\t\t\tloading:false\n\t\t\t});\n\t\t})\n\t}\n\theaderActions(){\n\t\treturn <div className=\"btn-toolbar footer-btn-toolbar header-btn-toolbar\">\n\t\t\t\t<Wizard\n\t\t\t\t\tdialogSize=\"md\"\n\t\t\t\t\tbuttonIcon=\"fa fa-sm fa-plus\"\n\t\t\t\t\thideFooter={true}\n\t\t\t\t\tbuttonTitle='NEW USER SETTINGS'\n\t\t\t\t\tdialogTitle=\"New user settings\"\n\t\t\t\t\tdialogContentProvider={(wizardCloseFunction)=>this.getCreatePage(wizardCloseFunction)}/>\n\t\t</div>\n\t}\n\trowAction(v, i){\n\t\tif(this.state.editingRow && this.state.editingRow === v.id){\n\t\t\treturn \t<td width=\"12%\">\n\t\t\t\t<div className=\"btn-toolbar\" style={{paddingTop: '1rem'}}>\n\t\t\t\t\t<button onClick={() => this.updateEditedSetting(v,i)}> UPDATE </button>\n\t\t\t\t\t<button onClick={() => this.cancelEditedSetting(v,i)}>CANCEL</button>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t}\n\t\telse {\n\t\t\tlet ref = v.id;\n\t\t\treturn \t<td width=\"12%\">\n\t\t\t\t<div className=\"btn-toolbar\" style={{paddingTop: '1rem'}}>\n\t\t\t\t\t<button onClick={() => this.setEditingRow(v,i)}><i className=\"fa fa-pencil\"></i></button>\n\t\t\t\t\t<WizardConfirm\n\t\t\t\t\t\tbuttonIcon=\"fa fa-times\"\n\t\t\t\t\t\tonConfirm={() => this.delete(ref)}\n\t\t\t\t\t\tdialogMessage=\"Do you really want to remove this user system settings?\"\n\t\t\t\t\t\tdialogTitle={\"Remove setting\".toUpperCase()}/>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t}\n\t}\n\trows(){\n\t\tif(this.state.results && this.state.results.length > 0){\n    \t\treturn this.settingsDatatable();\n    \t}\n    \telse {\n\t\t\treturn <EmptyPane />\n\t\t}\n\t}\n    render() {\n    \tif(this.state.loading === true){\n    \t\treturn <WaitingPane />\n    \t}\n\n    \treturn  <div className=\"\">\n    \t\t{this.headerActions()}\n    \t\t{this.rows()}\n        </div>\n   }\n}\n\n\nexport default UserSystemSettings;\n","import React from 'react';\nimport {commons} from '_helpers/commons';\nimport {WaitingPane} from '_components/_common';\nimport {coreUri} from \"_helpers/CoreUri\";\n\nclass Logout extends React.Component{\n\t\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state ={\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tcommons.katappult_core_logout();\n\t\tconst loginUrl = coreUri.clientSideRenderedURL('/login');\n\t\twindow.location.href = loginUrl;\n\t}\n\t\n\trender(){\n\t\treturn <WaitingPane waitingMessage=\"Bye\"/>\n\t}\n}\n\n\nexport default Logout;","import React from 'react';\nimport { Breadcrumb} from 'react-bootstrap';\nimport { AiOutlineCaretRight } from \"react-icons/ai\";\n\nclass AppBreadcrumb extends React.Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\titems: []\n\t\t}\n\n\t\tthis.pushItem = this.pushItem.bind(this);\n\t\tthis._dopopBreadCrumb=this._dopopBreadCrumb.bind(this);\n\t}\n\tgetHomeLabel(){\n\t\tif(this.props.homeLabel){\n\t\t\treturn this.props.homeLabel;\n\t\t}\n\n\t\treturn 'Home';\n\t}\n\tgetHomeUrl(){\n\t\tif(this.props.homeUrl){\n\t\t\treturn this.props.homeUrl;\n\t\t}\n\n\t\treturn '#/home';\n\t}\n\tpushItem(item){\n\t\tlet items = this.props.items.slice();\n\t\titems.push(item);\n\t\tthis.setState({\n\t\t\titems: items\n\t\t})\n\t}\n\t_dopopBreadCrumb(e, item){\n\t\tif(this.props.popBreadCrumb){\n\t\t\tif(e)e.preventDefault();\n\t\t\tthis.props.popBreadCrumb(item);\n\t\t}\n\t}\n\t_doselectHomePage(e, item){\n\t\tif(this.props.homeUrlAction){\n\t\t\tif(e)e.preventDefault();\n\t\t\tthis.props.homeUrlAction(item);\n\t\t}\n\t}\n\trenderBreadCrumb(){\n\t\tlet items = [];\n\t\tif(this.props.hideHome !== true){\n\t\t\titems.push(<Breadcrumb.Item href={this.getHomeUrl()} onClick={(e) => e.preventDefault()}>\n\t\t\t\t\t\t<AiOutlineCaretRight />\n\t\t\t\t\t\t{this.getHomeLabel()}\n\t\t\t\t\t</Breadcrumb.Item>\n\t\t\t);\n\t\t}\n\n\t\tif(this.props.items){\n\t\t\tthis.props.items.map(item => {\n\t\t\t\titems.push(<Breadcrumb.Item href={item.href} onClick={(e) => this._dopopBreadCrumb(e, item)}>\n\t\t\t\t\t<AiOutlineCaretRight/>\n\t\t\t\t\t{item.title}\n\t\t\t\t</Breadcrumb.Item>);\n\t\t\t})\n\t\t}\n\n\t\tlet locations = <Breadcrumb className=\"no-border\">\n\t\t\t{items}\n\t\t</Breadcrumb>\n\n\t\treturn <>\n\t\t\t\t<table className=\"app-breadcrum-table\">\n\t\t\t\t    <tr>\n\t\t\t\t        <td class=\"dt-center\">\n\t\t\t\t            <nav aria-label=\"breadcrumb\">\n\t\t\t\t               {locations}\n\t\t\t\t            </nav>\n\t\t\t\t        </td>\n\t\t\t\t    </tr>\n\t\t\t\t</table>\n\t\t</>\n\t}\n\trender(){\n\t\treturn this.renderBreadCrumb();\n\t}\n}\n\n\nexport default AppBreadcrumb;\n","import React, { Component } from 'react';\nimport { revControlledService } from '_services/revcontrolled.services';\nimport { DataTable, WaitingPane, EmptyPane } from '_components/_common';\nimport { RiPencilLine, RiCheckLine } from \"react-icons/ri\";\nimport Button from \"react-bootstrap/Button\";\n\nclass AllIterations extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t\tloading: true,\n\t\t}\n\n\t\tthis.tableActions = this.tableActions.bind(this)\n\t}\n\n\tcomponentDidMount(){\n\t\tlet revControlledId = this.props.revControlledId;\n\t\tif(!this.props.versionId){\n\t\t\trevControlledService.allIterationsOf(revControlledId, this.props.containerId).then(response => {\n\t\t\t\tthis.setState({\n\t\t\t\t\titems: response && response.data ? response.data : [],\n\t\t\t\t\tmetaData: response && response.data ? response.metaData : {},\n\t\t\t\t\tloading: false\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\trevControlledService.allIterationsOfversion(revControlledId, this.props.versionId,this.props.containerId).then(response => {\n\t\t\t\tthis.setState({\n\t\t\t\t\titems: response && response.data ? response.data : [],\n\t\t\t\t\tmetaData: response && response.data ? response.metaData : {},\n\t\t\t\t\tloading: false\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n\ttableActions(v,i){\n\t\treturn <td className={'td-center'}>\n\t\t\t<Button onClick={() => this.props.toIterationDetails(v.id)}><i className=\"fa fa-info fa-sm\"></i></Button>\n\t\t</td>\n\t}\n\n\trender (){\n\t\tlet items = this.state.items;\n\t\tlet metaData = this.state.metaData;\n\t\tlet tableConfig;\n\t\tif(!this.props.versionId){\n\t\t\ttableConfig = {\n\t\t\t\tcolumnsConfig: [\n\t\t\t\t\t{ displayComponent: (v) => lockedIcon(v), dataField: 'attributes', defaultSortOrder: 'asc', headerClass: 'td-left', className:'td-left'},\n\t\t\t\t\t{ name: 'Name', dataField: 'attributes', displayComponent: (v) => nameOf(this.props.name), headerClass: 'td-left', className:'td-left'},\n\t\t\t\t\t{ name: 'Version', dataField: 'attributes.iterationInfo.iterationNumber', defaultSortOrder: 'asc', headerClass: 'td-left', className:'td-left' },\n\t\t\t\t\t{ name: 'Created', dataField: 'attributes.createDate', dateFormat: 'DD/MM/YYYY', headerClass: 'td-left', className:'td-left' },\n\t\t\t\t\t{ name: 'Updated', dataField: 'attributes.lastModifiedDate', dateFormat: 'DD/MM/YYYY', headerClass: 'td-left', className:'td-left' },\n\t\t\t\t],\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\ttableConfig = {\n\t\t\t\tcolumnsConfig: [\n\t\t\t\t\t{ displayComponent: (v) => lockedIcon(v), dataField: 'attributes', defaultSortOrder: 'asc', headerClass: 'td-left', className:'td-left'},\n\t\t\t\t\t{ name: 'Name', dataField: 'attributes', displayComponent: (v) => nameOf(this.props.name), headerClass: 'td-left', className:'td-left'},\n\t\t\t\t\t{ name: 'Version', dataField: 'attributes.versionInfo.versionId', defaultSortOrder: 'asc', headerClass: 'td-left', className:'td-left' },\n\t\t\t\t\t{ name: 'Iteration', dataField: 'attributes.iterationInfo.iterationNumber', defaultSortOrder: 'asc', headerClass: 'td-left', className:'td-left' },\n\t\t\t\t\t{ name: 'Created', dataField: 'attributes.createDate', dateFormat: 'DD/MM/YYYY', headerClass: 'td-left', className:'td-left' },\n\t\t\t\t\t{ name: 'Updated', dataField: 'attributes.lastModifiedDate', dateFormat: 'DD/MM/YYYY', headerClass: 'td-left', className:'td-left' },\n\t\t\t\t\t{ dataField: 'attributes', displayComponent: (v,i) => this.tableActions(v,i), headerClass: 'td-center', className: 'td-center'},\n\t\t\t\t],\n\t\t\t}\n\n\t\t}\n\n\t\tlet content;\n\t\tif(items !== null && items.length > 0){\n\t\t\tcontent = <DataTable items={JSON.stringify(items)}\n\t\t\t\t\t\ttableClassName=\"data-table\"\n\t\t\t\t\t\tpagination={false}\n\t\t\t\t\t\tdisplayTotalElements={true}\n\t\t\t\t\t\tmetaData={JSON.stringify(metaData)}\n\t\t\t\t\t\ttableConfig={tableConfig}/>\n\t\t}\n\t\telse if(this.state.loading === true){\n\t\t\tcontent = <WaitingPane />\n\t\t}\n\t\telse {\n\t\t\tcontent = <EmptyPane hideMainMessage={true} secondaryMessage=\"No history\" />\n\t\t}\n\n\t\treturn content\n\t}\n}\n\nexport default AllIterations;\n\n\nconst  nameOf = (name) => {\n\treturn <td className={'td-left'}>\n\t\t{name}\n\t</td>\n}\n\nconst lockedIcon = (attributes) => {\n\tif(attributes.workInfo.isWorkingCopy === true){\n\t\treturn <td className=\"dt-left\">\n\t\t\t<RiPencilLine color=\"#000\" size=\"1.5em\"/>\n\t\t</td>\n\t}\n\telse if(attributes.iterationInfo.isLatestIteration === true){\n\t\treturn <td className={'td-left'}>\n\t\t\t<RiCheckLine color=\"#000\" size=\"1.5em\"/>\n\t\t</td>\n\t}\n\n\treturn <td></td>\n}\n","import React, { Component } from 'react';\nimport { revControlledService } from '_services/revcontrolled.services';\nimport { DataTable, WaitingPane, EmptyPane } from '_components/_common';\nimport { RiPencilLine, RiCheckLine } from \"react-icons/ri\";\nimport Button from \"react-bootstrap/Button\";\nimport {AllIterations} from \"_components/_common\";\n\nclass AllVersions extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t\tloading: true,\n\t\t}\n\n\t\tthis.allVersionView = this.allVersionView.bind(this)\n\t\tthis.onAllIterationsSelected = this.onAllIterationsSelected.bind(this)\n\t\tthis.tableActions = this.tableActions.bind(this)\n\t\tthis.toIterationDetails = this.toIterationDetails.bind(this)\n\t}\n\n\tcomponentDidMount(){\n\t\tlet revControlledId = this.props.revControlledId;\n\t\trevControlledService.allVersionsOf(revControlledId, this.props.containerId).then(response => {\n\t\t\tthis.setState({\n\t\t\t\titems: response && response.data ? response.data : [],\n\t\t\t\tmetaData: response && response.data ? response.metaData : {},\n\t\t\t\tloading: false\n\t\t\t})\n\t\t})\n\t\t.catch(error=> {\n\t\t\tthis.setState({loading: false})\n\t\t})\n\t}\n\n\tallVersionView(){\n\t\tthis.setState({\n\t\t\tviewMode: null,\n\t\t\tallIterationsItem: null\n\t\t})\n\t}\n\n\tonAllIterationsSelected(v, item){\n\t\tthis.setState({\n\t\t\tviewMode: 'allIterations',\n\t\t\tallIterationsItem: item\n\t\t})\n\t}\n\n\ttableActions(v, i){\n\t\treturn <td>\n\t\t\t<Button onClick={() => this.onAllIterationsSelected(v,i)}><i className=\"fa fa-list fa-sm\"></i></Button>\n\t\t</td>\n\t}\n\n\tallIterationsView(){\n\t\tconst data = this.state.allIterationsItem\n\t\tconst versionId = data.attributes.versionInfo.versionId\n\t\treturn <>\n\t\t\t<div className={'btn-toolbar btn-toolbar-right'}>\n\t\t\t\t<button onClick={this.allVersionView}>Toutes les versions</button>\n\t\t\t</div>\n\t\t\t<AllIterations\n\t\t\t\ttoIterationDetails={this.props.toIterationDetails}\n\t\t\t\tversionId={versionId}\n\t\t\t\tcontainerId={this.props.containerId}\n\t\t\t\tname={data.masterAttributes.name}\n\t\t\t\tdescription={data.masterAttributes.description}\n\t\t\t\trevControlledId={data.attributes.id}/>\n\t\t</>\n\t}\n\n\ttoIterationDetails(id){\n\n\t}\n\n\trender (){\n\n\t\tif(this.state.viewMode === 'allIterations'){\n\t\t\treturn this.allIterationsView()\n\t\t}\n\n\t\tlet items = this.state.items;\n\t\tlet metaData = this.state.metaData;\n\t\tlet tableConfig = {\n\t\t\tcolumnsConfig: [\n\t\t\t\t{ displayComponent: (v) => lockedIcon(v), dataField: 'attributes', defaultSortOrder: 'asc', headerClass: 'td-left', className:'td-left'},\n\t\t\t    { name: 'Name', dataField: 'attributes', displayComponent: (v) => nameOf(this.props.name), headerClass: 'td-left', className:'td-left'},\n\t\t\t\t{ name: 'Version', dataField: 'attributes.versionInfo.versionId', defaultSortOrder: 'asc', headerClass: 'td-left', className:'td-left' },\n\t\t\t    { name: 'Created', dataField: 'attributes.createDate', dateFormat: 'DD/MM/YYYY', headerClass: 'td-left', className:'td-left' },\n    \t\t    { name: 'Updated', dataField: 'attributes.lastModifiedDate', dateFormat: 'DD/MM/YYYY', headerClass: 'td-left', className:'td-left' },\n\t\t\t\t{ displayComponent: (v,i) => this.tableActions(v,i), headerClass: 'td-left', className: 'td-left'},\n\t\t\t],\n\t\t}\n\n\t\tlet content;\n\t\tif(items !== null && items.length > 0){\n\t\t\tcontent = <DataTable items={JSON.stringify(items)}\n\t\t\t\t\t\ttableClassName=\"data-table\"\n\t\t\t\t\t\tpagination={false}\n\t\t\t\t\t\tdisplayTotalElements={true}\n\t\t\t\t\t\tmetaData={JSON.stringify(metaData)}\n\t\t\t\t\t\ttableConfig={tableConfig}/>\n\t\t}\n\t\telse if(this.state.loading === true){\n\t\t\tcontent = <WaitingPane />\n\t\t}\n\t\telse {\n\t\t\tcontent = <EmptyPane hideMainMessage={true} secondaryMessage=\"No history\" />\n\t\t}\n\n\t\treturn content\n\t}\n}\n\nexport default AllVersions;\n\n\nconst  nameOf = (name) => {\n\treturn <td className={'td-left'}>\n\t\t{name}\n\t</td>\n}\n\nconst lockedIcon = (attributes) => {\n\tif(attributes.workInfo.isWorkingCopy === true){\n\t\treturn <td className=\"dt-left\">\n\t\t\t<RiPencilLine color=\"#000\" size=\"1.5em\"/>\n\t\t</td>\n\t}\n\telse if(attributes.iterationInfo.isLatestIteration === true){\n\t\treturn <td className={'td-left'}>\n\t\t\t<RiCheckLine color=\"#000\" size=\"1.5em\"/>\n\t\t</td>\n\t}\n\n\treturn <td></td>\n}\n","import React from 'react';\nimport Modal from 'react-bootstrap/Modal'\nimport Spinner from 'react-bootstrap/Spinner'\n\nexport default function ProcessingModal(props) {\n  return (\n    <>\n      <Modal\n      \tcentered\n      \tsize='sm'\n      \tclassName=\"processing-modal\"\n        show={props.show}\n        backdrop=\"static\"\n        keyboard={false}>\n        <Modal.Body><Spinner animation=\"border\" variant=\"warning\" /></Modal.Body>\n      </Modal>\n    </>\n  );\n}\n","import React, {useState} from \"react\";\nimport {fadeIn} from 'react-animations'\nimport Radium, {StyleRoot} from 'radium';\n\nconst styles = {\n    fadeIn: {\n        animation: 'x 100ms',\n        animationName: Radium.keyframes(fadeIn, 'fadeIn')\n    }\n}\n\nfunction Accordion(props) {\n\n    const [expanded, setEpanded] = useState(props.expanded ? props.expanded : expanded);\n\n    const expand = () => {\n        setEpanded(!expanded);\n    }\n\n    return <StyleRoot>\n        <div className={'accordion-pane'}>\n\n            {props.titleComponent}\n\n            {\n                props.title ? <h3 className=\"form-title-level-0 hand-hover\" onClick={expand}>{props.title}</h3> : <></>\n            }\n\n            {expanded && <div style={styles.fadeIn}>\n                {props.content}\n            </div>\n            }\n        </div>\n    </StyleRoot>\n}\n\nexport default Accordion;","import {_doGet, _doPost, buildURLQuery, API_ROOT, _doDelete} from './utils/services.config';\n/**\n * Default Export\n */\nexport const containerService = {\n    getAllLifecycles,\n    getAllFolderTemplates,\n    getAllEmailTemplates,\n    getAllTeamTemplates,\n    getRootTypes,\n    getAllMembers,\n    getApplicationRootContainer,\n    getChildrenContainers,\n    getById,\n    getByPath,\n    getParentContainer,\n    getAccessiblesChildrenContainers,\n    getOwnedChildrenContainers,\n    getAllAccessibleContainers,\n    isUserContainerAdmin,\n    countMembers,\n    createContainer,\n    getContainerSettings,\n    updateContainerSetting,\n    populateContainerSetting,\n    getContainersOfOwner,\n    populateFromSellsy,\n\tgetAllContainerAdmin,\n\tcontainerAdminAdd,\n\tcontainerAdminDelete\n}\nasync function populateFromSellsy(containerId){\n\tconst uri = '/api/secured/v1/katappult/contained/populateFromSellsy?containedId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPost(url);\n}\nasync function getContainersOfOwner(containerId, ownerId){\n\tconst uri = '/api/secured/v1/katappult/container/ofOwner?ownerId=' + ownerId + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\nasync function populateContainerSetting(containerId){\n\tconst uri = '/api/secured/v1/katappult/container/populateSettings?containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPost(url);\n}\nasync function getContainerSettings(containerId){\n\tconst uri = '/api/secured/v1/katappult/container/settings?containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\nasync function updateContainerSetting(formData, containerId, settingsId){\n\tconst uri = '/api/secured/v1/katappult/container/settings?containerId=' + containerId + '&settingsId=' + settingsId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPost(url, JSON.stringify(formData));\n}\nasync  function createContainer(formData, containerId){\n\tconst uri = '/api/secured/v1/katappult/contained/create?containedId=' + containerId ;\n\tconst url = `${API_ROOT}` + uri;\n    return _doPost(url, JSON.stringify(formData));\n}\nasync function countMembers (containerId){\n\tconst uri = '/api/secured/v1/katappult/container/countMembers?containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\nasync function isUserContainerAdmin(accountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/container/isUserContainerAdmin?accountId=' + accountId + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\nasync function getAllContainerAdmin(containerId){\n\tconst uri = '/api/secured/v1/katappult/container/allContainerAdmin?containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url)\n}\nasync function containerAdminAdd(accountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/container/containerAdmin?accountId=' + accountId + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doPost(url)\n}\nasync function containerAdminDelete(accountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/container/containerAdmin?accountId=' + accountId + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doDelete(url)\n}\n\nasync function getParentContainer(containerId){\n\tconst uri = '/api/secured/v1/katappult/container/parent?containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\nasync function getById(containerId){\n\tconst uri = '/api/secured/v1/katappult/container/byId?containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\nasync function getByPath(path){\n\tconst uri = '/api/secured/v1/katappult/container?path=' + encodeURI(path);\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\nasync function getChildrenContainers(containerId){\n\tconst uri = '/api/secured/v1/katappult/container/subContainers?containerId='+ containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\nasync function getAllAccessibleContainers(containerId, accountId){\n\tconst uri = '/api/secured/v1/katappult/container/allAccessibleContainers?userAccountId=' + accountId + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\n\nasync function getOwnedChildrenContainers(containerId, accountId){\n\tconst uri = '/api/secured/v1/katappult/container/ownerSubContainers?userAccountId=' + accountId + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\n\nasync function getAccessiblesChildrenContainers(containerId, accountId){\n\tconst uri = '/api/secured/v1/katappult/container/accessibleSubContainers?userAccountId=' + accountId + '&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\n/**\n * Get the root container\n * @returns\n */\nasync function getApplicationRootContainer(){\n\tconst uri = \"/api/secured/v1/katappult/container?path=%2F\";\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url)\n}\n/**\n * Get all lifecycles.\n *\n * @param page The page\n * @param pageSize The page size\n * @param includeParentItems Include parent items\n * @returns Promise\n */\nasync  function getAllLifecycles(containerId, page, pageSize, includeParentItems) {\n\tlet params = {page: page,pageSize:pageSize ,includeParentItems: includeParentItems};\n\tlet p = buildURLQuery(params);\n\tconst uri = '/api/secured/v1/katappult/lifecycles?'.concat(p).concat('&containerId=' + containerId);\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n * Get all folder templates.\n *\n * @param page The page\n * @param pageSize The page size\n * @param includeParentItems Include parent items\n * @returns Promise\n */\nasync  function getAllFolderTemplates(page, pageSize, includeParentItems, containerId) {\n\tlet params = {page: page,pageSize:pageSize ,includeParentItems: includeParentItems};\n\tlet p = buildURLQuery(params);\n\tconst uri = '/api/secured/v1/katappult/container/folderTemplates?'.concat(p).concat('&containerId=' + containerId);\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\nasync  function getAllEmailTemplates(page, pageSize, includeParentItems, containerId) {\n\tlet params = {page: page,pageSize:pageSize ,includeParentItems: includeParentItems};\n\tlet p = buildURLQuery(params);\n\tconst uri = '/api/secured/v1/katappult/container/enTemplates/list?containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n * Get all team templates.\n *\n * @param page The page\n * @param pageSize The page size\n * @param includeParentItems Include parent items\n * @returns Promise\n */\nasync  function getAllTeamTemplates(page, pageSize, includeParentItems, containerId) {\n\tlet params = {page: page,pageSize:pageSize ,includeParentItems: includeParentItems};\n\tlet p = buildURLQuery(params);\n\tconst uri = '/api/secured/v1/katappult/container/teamTemplates?'.concat(p).concat('&containerId=' + containerId);\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n * Get root types.\n *\n * @param includeParentItems Include parent items\n * @returns Promise\n */\nasync  function getRootTypes(page, pageSize, includeParentItems, containerId) {\n\tlet params = {page: page,pageSize:pageSize ,includeParentItems: includeParentItems};\n\tlet p = buildURLQuery(params);\n\tconst uri = '/api/secured/v1/katappult/types/rootTypes?'.concat(p).concat(\"&containerId=\" + containerId);\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n * Get all members.\n *\n * @param page The page\n * @param pageSize The page size\n * @param includeParentItems Include parent items\n * @returns Promise\n */\nasync  function getAllMembers(page, pageSize, includeParentItems, containerId) {\n\tlet params = {page: page,pageSize:pageSize ,includeParentItems: includeParentItems};\n\tlet p = buildURLQuery(params);\n\tconst uri = '/api/secured/v1/katappult/container/members?'.concat(p).concat('&containerId=' + containerId);\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n","import {_doGet, buildURLQuery, API_ROOT, _doPost, _doPut, _doPostMp} from './utils/services.config';\n\n/**\n * Export\n */\nexport const lifecycleService = {\n\tdetails,\n\tpromote,\n\tsetState,\n\tsetStateWithComment,\n\tsetLinkState,\n\tdenote,\n\tstatesBySetState,\n\tstatesByAction,\n\tstatesByPromote,\n\tstatesByDenote,\n\tgetAllPossibleStatesOfLifecyle,\n\tupdateMasterAttributes,\n\tsetStateFromExternalApp,\n\tcreateLifecycle,\n\tarchive,\n\tlifecycleTransitions\n};\nasync function archive(lifecycleId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycles/archive?containerId=' + containerId + '&entityId=' + lifecycleId;\n\tlet url = `${API_ROOT}` + uri\n\treturn _doPost(url)\n}\nasync function createLifecycle(formData, containerId){\n\tlet uri = '/api/secured/v1/katappult/lifecycles?containerId=' + containerId;\n\tlet url = `${API_ROOT}` + uri\n\treturn _doPostMp(url, formData)\n}\nasync function statesByAction(lifecycleId, fromState, actionName, containerId){\n\tconst uri = '/api/secured/v1/katappult/lifecycles/statesByAction?entityId=' + lifecycleId + '&fromState=' + fromState + '&actionName=' + actionName + '&containerId=' + containerId;\n\tlet url = `${API_ROOT}` + uri\n\treturn _doGet(url)\n}\nasync function updateMasterAttributes(lifecycleId, formData, containerId){\n\tconst uri = '/api/secured/v1/katappult/lifecycles/updateMasterAttributes?containerId=' + containerId + '&entityId=' + lifecycleId;\n\tlet url = `${API_ROOT}` + uri\n\treturn _doPut(url, formData)\n}\nasync function details(lifecycleId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycles/details?containerId=' + containerId + '&entityId=' + lifecycleId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function getAllPossibleStatesOfLifecyle(lifecycleName, containerId){\n\tconst uri = '/api/secured/v1/katappult/lifecycles/allStatesOf?name=' + lifecycleName +'&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n\nasync function lifecycleTransitions(lifecycleId, containerId){\n\tconst uri = '/api/secured/v1/katappult/lifecycles/transitions?entityId=' + lifecycleId +'&containerId=' + containerId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n\n\nasync function promote(lifecycleManagedId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/promote?containerId=' + containerId + '&entityId=' + lifecycleManagedId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doPost(url);\n}\nasync function denote(lifecycleManagedId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/denote?containerId=' + containerId + '&entityId=' + lifecycleManagedId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doPost(url);\n}\nasync function setState(lifecycleManagedId, state, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/setState?state=' + state + '&containerId=' + containerId + '&entityId=' + lifecycleManagedId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doPost(url);\n}\nasync function setStateWithComment(lifecycleManagedId, state, form, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/setStateWithComment?state=' + state + '&containerId=' + containerId + '&entityId=' + lifecycleManagedId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doPost(url, JSON.stringify(form));\n}\nasync function setStateFromExternalApp(lifecycleManagedId, state, actionName) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/setStateFromExternalApp?state=' + state + '&actionName=' + actionName + '&entityId=' + lifecycleManagedId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doPost(url);\n}\nasync function setLinkState(roleAid, roleBid, state, linkClass, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/setLinkState?state=' + state + '&linkClass=' + linkClass + '&containerId=' + containerId + '&roleBid=' + roleBid + '&roleAid=' + roleAid;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doPost(url);\n}\n\nasync function statesBySetState(lifecycleManagedId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/statesBySetState?containerId=' + containerId + '&entityId=' + lifecycleManagedId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function statesByPromote(lifecycleManagedId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/stateByPromote?containerId=' + containerId + '&entityId=' + lifecycleManagedId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\nasync function statesByDenote(lifecycleManagedId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/lifecycleManaged/stateByDenote?containerId=' + containerId + '&entityId=' + lifecycleManagedId;\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n","import produce from \"immer\"\n\nconst inialState = {\n    userContext: {\n        systemPreferences:[],\n        userPreferences: [],\n        rolesInApplicationContainer: [],\n        rolesInWorkingContainer: [],\n        applicationcContainer: {},\n        workingContainer: {},\n        userAccount: {},\n        userDetails: {},\n        sessionId: 'not_authentified'\n    }\n}\n\nexport const userContextReducer = (state = inialState, action) => {\n    switch (action.type) {\n        case 'UPDATE_USER_CONTEXT':\n\n            const ns2 = produce(state, nexState => {\n                nexState.userContext = action.payload\n            })\n\n            return ns2;\n        case 'CLEAR_USER_CONTEXT':\n            const ns3 = produce(state, nexState => {\n                nexState.userContext = inialState.userContext\n            })\n            return ns3;\n        case 'SET_USER_CONTEXT_NOT_AUTH':\n            const ns4 = produce(state, nexState => {\n                let userContext = {...nexState.userContext}\n                userContext.sessionId = 'not_authentified'\n                nexState.userContext = userContext\n            })\n            return ns4;\n        default:\n            return state;\n    }\n}\n\nexport const updateUserContext = (payload) => ({\n    type: 'UPDATE_USER_CONTEXT',\n    payload: payload,\n});\n\nexport const clearUserContext = (payload) => ({\n    type: 'CLEAR_USER_CONTEXT',\n    payload: payload,\n});\n\nexport const setUserContextNotAuthentified = (payload) => ({\n    type: 'SET_USER_CONTEXT_NOT_AUTH',\n    payload: payload,\n});\n","import React, { Component } from 'react';\n\nclass RevControlledDetailsHeader extends Component {\n\n    constructor(props){\n        super(props)\n    }\n\n    getLockStatusDisplay(){\n\t\tlet isWorkingCopy = this.props.workInfo && this.props.workInfo.isWorkingCopy === true;\n\t\tlet lockIcon, className;\n\t\tif(isWorkingCopy === true){\n\t\t\tlockIcon = <i className=\"fa fa-unlock fa-md\"></i>\n\t\t\tclassName = 'workinfo-details workinfo-unlocked'\n\t\t}\n\t\telse {\n\t\t\tlockIcon = <i className=\"fa fa-lock fa-md\"></i>\n\t\t\tclassName = 'workinfo-details workinfo-locked'\n\t\t}\n\t\treturn <span className={className}>\n\t\t\t{lockIcon}\n\t\t</span>\n\t}\n\n\tgetVersionDisplay(){\n\t\tlet version = '';\n\t\tif(this.props.versionInfo || this.props.iterationInfo){\n\t\t\tif(this.props.versionInfo){\n\t\t\t\tversion = version.concat(this.props.versionInfo.versionId).concat(\".\");\n\t\t\t}\n\t\t\tif(this.props.iterationInfo){\n\t\t\t\tversion = version.concat(this.props.iterationInfo.iterationNumber);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tversion = \"N/A\";\n\t\t}\n\t\treturn version;\n\t}\n\n\tgetNumberOrReference(){\n    \treturn <>{this.props.number}</>\n\t}\n\n\trender() {\n\t\tlet businessType = this.props.businessTypeDisplayName,\n\t\tlifecycle = this.props.lifecycleCurrentState;\n\n\t\tlet displayName = this.props.displayName,\n\t\tdescription = this.props.description;\n\n\t\tlet headerActions;\n\t\tif(this.props.headerActionsProvider){\n\t\t\theaderActions = this.props.headerActionsProvider();\n\t\t}\n\n\t\treturn (<div className={this.props.headerClassName}>\n\t\t\t\t\t<p className=\"page-title\">\n\t\t\t\t\t\t{displayName}\n\t\t\t\t\t\t{this.props.number && <span className={'rev-contr-head-ref'}>&nbsp;[{this.getNumberOrReference()}]&nbsp;</span>}\n\t\t\t\t\t\t<span>&nbsp;{this.getLockStatusDisplay()}</span> &nbsp;{this.getVersionDisplay()}\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"btn-toolbar\">{headerActions}</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default RevControlledDetailsHeader;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {contentHolderService} from '_services/contentHolder.services';\nimport ContentHolderPrimaryAction from '_components/_common/ContentHolder/ContentHolderAction'\n\nconst propTypes = {\n    contentHolderId: PropTypes.string.isRequired\n}\n\nconst defaultProps = {}\n\nfunction ContentHolderPrimaryInfo(props) {\n\n    const [primaryContent, setPrimaryContent] = useState();\n\n    useEffect(() => {\n        let contentHolderId = props.contentHolderId\n        contentHolderService.contentInfos(contentHolderId, 'primary', props.containerId).then(ci => {\n            setPrimaryContent(ci.data)\n        })\n    }, [props.contentHolderId])\n\n    const onUploadSuccess = () => {\n        let contentHolderId = props.contentHolderId\n        contentHolderService.contentInfos(contentHolderId, 'primary', props.containerId).then(ci => {\n            setPrimaryContent(ci.data)\n        })\n    }\n\n    if (primaryContent && primaryContent.length > 0) {\n        let item = primaryContent[0]\n        let displayContentSize = props.displayContentSize ? props.displayContentSize : false\n        let mime = item.attributes.contentFormat ? item.attributes.contentFormat.mimeType : '',\n            fileName = props.contentHolderFileName ? props.contentHolderFileName : 'Contenu primaire'\n\n        return <div className=\"content-holder-primary-info\" style={{display: 'flex', justifyContent: 'space-between'}}>\n            <div>\n                <div>{fileName}</div>\n                <div>{mime}</div>\n                {displayContentSize && <div>{item.attributes.contentSize} octet(s)</div>}\n            </div>\n            <div>\n                <ContentHolderPrimaryAction\n                    onUploadSuccess={onUploadSuccess}\n                    containerId={props.containerId}\n                    contentHolderId={props.contentHolderId}\n                    canUpload={props.canUpload}/>\n            </div>\n        </div>\n    } else {\n        return <div className=\"content-holder-primary-info\" style={{display: 'flex', justifyContent: 'space-between'}}>\n            <p>Pas de contenu primaire</p>\n            <ContentHolderPrimaryAction\n                onUploadSuccess={onUploadSuccess}\n                noContent={true}\n                containerId={props.containerId}\n                contentHolderId={props.contentHolderId}\n                canUpload={props.canUpload}/>\n        </div>\n    }\n}\n\nContentHolderPrimaryInfo.propTypes = propTypes;\nContentHolderPrimaryInfo.defaultProps = defaultProps;\n\nexport default ContentHolderPrimaryInfo;\n","import { _doPost,_doGet,_doPut, API_ROOT, _doDelete, buildURLQuery } from './utils/services.config';\n\nexport const accountService = {\n    lock,\n\tunlock,\n\tresetPassword,\n\tupdatePassword,\n\tlostPassword,\n\tupdateLostPasswordByUser,\n\taccountDetails,\n\taccountOfParty,\n\tupdatePersonProfile,\n\tupdateOrgProfile,\n\tactivateAccount,\n\tregisterPersonWithAccount,\n\tregisterOrgWithAccount,\n\tregisterPersonWithAccountAnon,\n\tregisterOrgWithAccountAnon,\n\tcontainersMembership,\n\tisUserInContainer,\n\taddContainerMembership,\n\tremoveContainerMembership,\n\townerType,\n\townersName,\n\tisValidAccountLockToken\n}\nfunction isValidAccountLockToken(token) {\n\tconst uri = '/api/anon/v1/katappult/security/auth/isValidAccountLockToken?token=' + token;\n\tlet url = `${API_ROOT}` + uri\n\treturn _doGet(url)\n}\n/**\n * Register a new user with account\n *\n * @param formData\n * @returns\n */\nfunction registerPersonWithAccount(formData){\n\tconst uri = '/api/secured/v1/katappult/person/create';\n    let url = `${API_ROOT}` + uri\n\treturn _doPost(url, JSON.stringify(formData))\n}\nfunction registerPersonWithAccountAnon(formData){\n\tconst uri = '/katappult/people/v1/anon/api/person/register';\n    let url = `${API_ROOT}` + uri\n\treturn _doPost(url, JSON.stringify(formData))\n}\n/**\n * Register a new org with account\n *\n * @param formData\n * @returns\n */\nfunction registerOrgWithAccount(formData){\n\tconst uri = '/api/secured/v1/katappult/organization/';\n    let url = `${API_ROOT}` + uri\n\treturn _doPost(url, JSON.stringify(formData))\n}\nfunction registerOrgWithAccountAnon(formData){\n\tconst uri = '/api/secured/v1/katappult/organization/register/';\n    let url = `${API_ROOT}` + uri\n\treturn _doPost(url, JSON.stringify(formData))\n}\n/**\n * Activate an account.\n *\n * @param accountId\n * @param formData\n * @returns\n */\nfunction activateAccount(login, formData, lockToken){\n\tconst uri = '/katappult/security/inactive/auth/activateAccount?login=' + login;\n  let url = `${API_ROOT}` + uri\n\treturn _doPost(url, JSON.stringify(formData))\n}\n/**\n * Load an account with details of owner loaded in links.\n */\nfunction accountDetails(accountId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/principals/account/details?containerId=' + containerId + '&accountId=' + accountId;\n    let url = `${API_ROOT}` + uri\n\treturn _doGet(url);\n}\n/**\n * Loads account of a party  with its details loaded in links.\n */\nfunction accountOfParty(partyId, containerId) {\n\tlet params = {partyId: partyId};\n\tlet p = buildURLQuery(params);\n\tconst uri = '/api/secured/v1/katappult/principals/account?containerId=' + containerId + '&' + p;\n    let url = `${API_ROOT}` + uri\n\treturn _doGet(url);\n}\n/**\n * Lock an account.\n *\n * @param {*} accountId\n */\nfunction lock(accountId, containerId) {\n\tconst uri = '/api/secured/v1/katappult/principals/account/lock?containerId=' + containerId + '&accountId=' + accountId;\n    let url = `${API_ROOT}` + uri\n\treturn _doPost(url);\n}\n/**\n * Unlock an account. Super admin can unlock user account without\n * lock token\n *\n * @param {*} accountId\n * @param {*} lockToken Mandatory if not superadmin\n */\nfunction unlock(accountId, lockToken, containerId) {\n\tlet params = {lockToken: lockToken ? lockToken : ''};\n\tlet p = buildURLQuery(params);\n    const uri = '/api/secured/v1/katappult/principals/account/unlock?containerId=' + containerId  + '&accountId=' + accountId + '&'.concat(p);\n\tlet url = `${API_ROOT}` + uri\n\treturn _doPost(url);\n}\n/**\n * Rest current password.\n *\n * @param {*} accountId\n */\nfunction resetPassword(accountId, containerId) {\n    const uri = '/api/secured/v1/katappult/principals/account/resetPassword?containerId=' + containerId + '&accountId=' + accountId;\n\tlet url = `${API_ROOT}` + uri\n\treturn _doPut(url);\n}\n/**\n * Update user password.\n *\n * @param {*} accountId\n * @param {*} formData\n */\nfunction updatePassword(accountId, formData, containerId) {\n    const uri = '/api/secured/v1/katappult/principals/account/updatePassword?containerId=' + containerId + '&accountId=' + accountId;\n    let url = `${API_ROOT}` + uri\n    return _doPut(url, formData);\n}\n/**\n * Send an email to user with its token.\n *\n * @param {*} accountId\n */\nfunction lostPassword(login) {\n    const uri = '/api/anon/v1/katappult/security/auth/lostPassword?login=' + login;\n    let url = `${API_ROOT}` + uri\n    return _doGet(url);\n}\n// by user, another reset is by admin\nfunction updateLostPasswordByUser(lockToken, formdata) {\n    const uri = '/api/anon/v1/katappult/security/auth/resetPassword?token=' + lockToken;\n\tlet url = `${API_ROOT}` + uri\n\treturn _doPut(url, formdata);\n}\n/**\n * Update profile.\n *\n * @param profileId\n * @param formData\n * @returns\n */\nfunction updatePersonProfile(profileId, formData, containerId){\n\tconst uri = '/api/secured/v1/katappult/person/update?containerId=' + containerId + '&id=' + profileId;\n    let url = `${API_ROOT}` + uri\n    return _doPut(url, formData);\n}\n/**\n * Update profile.\n *\n * @param profileId\n * @param formData\n * @returns\n */\nfunction updateOrgProfile(profileId, formData, containerId){\n\tconst uri = '/api/secured/v1/katappult/organization?containerId=' + containerId + '&id=' + profileId;\n    let url = `${API_ROOT}` + uri\n    return _doPut(url, formData);\n}\n/**\n * Get all container memberships of given user account.\n *\n * @param accountId\n * @returns\n */\nfunction containersMembership(accountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/principals/account/containersMembership?containerId=' + containerId + '&accountId=' + accountId;\n    let url = `${API_ROOT}` + uri\n\treturn _doGet(url);\n}\n/**\n * Return true is the account is declared member in that container.\n *\n * @returns\n */\nfunction isUserInContainer(accountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/principals/account/containersMembership/isMember?containerId=' + containerId + '&accountId=' + accountId;\n    let url = `${API_ROOT}` + uri\n\treturn _doGet(url);\n}\n/**\n * Add account as member of container.\n *\n * @param accountId\n * @param containerId\n * @returns\n */\nfunction addContainerMembership(accountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/principals/account/containersMembership?containerId=' + containerId + '&accountId=' + accountId;\n    let url = `${API_ROOT}` + uri\n\treturn _doPost(url);\n}\n/**\n * Remove an account from container members\n *\n * @param accountId\n * @param containerId\n * @returns\n */\nfunction removeContainerMembership(accountId, containerId){\n\tconst uri = '/api/secured/v1/katappult/principals/account/containersMembership?containerId=' + containerId + '&accountId=' + accountId;\n    let url = `${API_ROOT}` + uri\n\treturn _doDelete(url);\n}\n/**\n * Returns the type of the owner.\n *\n * @param accoundId\n * @returns\n */\nasync function ownerType(accoundId, containerId){\n\tconst uri = \"/api/secured/v1/katappult/principals/account/ownerType?containerId=\" + containerId + '&accountId=' + accoundId;\n\tconst url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n\nasync function ownersName(ownersName, containerId){\n\tconst uri = '/api/secured/v1/katappult/principals/account/ownersName?ownersLogin=' + ownersName + '&containerId=' + containerId\n\tconst url = `${API_ROOT}` + uri;\n\treturn _doGet(url);\n}\n","import {commons} from \"_helpers/commons\";\nimport packageJson from '../../../package.json';\n\nexport const backendRootContext = process.env.REACT_APP_CONTEXT_ROOT;\nconst proxyURL = process.env.REACT_APP_PROXY_URL;\nconst hostname = window && window.location && window.location.hostname;\nconst port = window && window.location && window.location.port;\nconst origin = window && window.location && window.location.origin;\n\nlet API_ROOTV;\nif (proxyURL) {\n    API_ROOTV = proxyURL;\n} else {\n    if (/^localhost/.test(hostname) && port && (port === '3000' || port === '3001')) {\n        if (port === '3000') {\n            API_ROOTV = backendRootContext\n                ? `http://${hostname}:8080/${backendRootContext}`\n                : `http://${hostname}:8080`;\n        }\n\n        if (port === '3001') {\n            API_ROOTV = backendRootContext\n                ? `http://${hostname}:8081/${backendRootContext}`\n                : `http://${hostname}:8081`;\n        }\n\n    } else {\n        API_ROOTV = backendRootContext\n            ? `${origin}/${backendRootContext}`\n            : `${origin}`\n    }\n}\n\nexport const API_ROOT = API_ROOTV;\n/*------------------------------------------------------------------------------------------------\n*\n* URI PROCESSOR\n*\n*------------------------------------------------------------------------------------------------*/\n/**\n * Usage buildURLQuery({name: 'x', gender: 'y'});\n * ==> name=x&gender=y\n */\nexport const buildURLQuery = params => {\n    return Object.keys(params)\n        .map(k => `${k}=${encodeURI(params[k])}`)\n        .join('&');\n};\n/*------------------------------------------------------------------------------------------------\n *\n * POST QUERY ROOT\n *\n *------------------------------------------------------------------------------------------------*/\n/**\n * Constructs a default POST query.\n *\n * @param {*} url Full URL\n * @param {*} data Data to post\n */\nexport const _doPost = async function (url, data, options) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    if (data) {\n        return fetch(appendAccessToken(finalurl), {\n            timeout: options && options.timeout ? options.timeout : 15000,\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n            body: data,\n        }).then(response => {\n            handleJWTError(response);\n            return response.json();\n        })\n\n    } else {\n        return fetch(appendAccessToken(finalurl), {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n        }).then(response => {\n            handleJWTError(response);\n            return response.json();\n        })\n    }\n}\n/**\n * Constructs a default POST query.\n *\n * @param {*} url Full URL\n * @param {*} data Data to post\n */\nexport const _doPostMp = async function (url, data, options) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    if (data) {\n        return fetch(appendAccessToken(finalurl), {\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n            body: data,\n        }).then(response => {\n            handleJWTError(response);\n            return response.json();\n        })\n    }\n}\n\nexport const _doPostWithoutResponse = async function (url, data, options) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    if (data) {\n        return fetch(appendAccessToken(finalurl), {\n            timeout: options && options.timeout ? options.timeout : 15000,\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n            body: data,\n        });\n\n    } else {\n        return fetch(appendAccessToken(finalurl), {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n        })\n    }\n}\n\n/*------------------------------------------------------------------------------------------------\n*\n* GET QUERY ROOT\n*\n*------------------------------------------------------------------------------------------------*/\n/**\n * Constructs a GET query.\n *\n * @param {*} url Full URL\n */\nexport const _doGet = async function (url, addSessionId, authorization, options) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    finalurl = appendAccessToken(finalurl);\n\n    let response = await fetch(finalurl, {\n        timeout: options && options.timeout ? options.timeout : 15000,\n        method: \"GET\",\n        credentials: 'include',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n            'Authorization': authorization ? authorization : commons.authorizationCookie()\n        },\n    }).then(response => {\n        return response;\n    })\n\n    handleJWTError(response);\n\n    let json;\n    if (response.status === 200) {\n        json = await response.json();\n    } else if (response.status === 204) {\n        json = {'error': '204'};\n    } else if (response && response.status === 500) {\n        json = {'error': '500'};\n    }\n\n    return json;\n}\n\nexport const _doGetText = async function (url) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    return fetch(appendAccessToken(finalurl), {\n        method: \"GET\",\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n            'Authorization': commons.authorizationCookie()\n        },\n    }).then(response => {\n        handleJWTError(response);\n        return response.text();\n    })\n}\n\nexport const _doGetImage = async function (url) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    let response = await fetch(appendAccessToken(finalurl), {\n        method: \"GET\",\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n            'Authorization': commons.authorizationCookie()\n        },\n    })\n        .then(response => {\n            if (response.status === 200) {\n                return response;\n            }\n            return null;\n        })\n\n    if (response === null) return response;\n    handleJWTError(response)\n\n    let text = await response.text()\n    let img = new Buffer(text, \"binary\").toString();\n    let image = btoa(\n        new Uint8Array(text)\n            .reduce((data, byte) => data + String.fromCharCode(byte), '')\n    );\n    return `data:image/png;base64,${img}`;\n}\n\nexport const _doGetBlob = async function (url) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    return fetch(appendAccessToken(finalurl), {\n        method: \"GET\",\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/octet-stream',\n            'Authorization': commons.authorizationCookie()\n        },\n    })\n        .then(response => {\n            if(response.status != 200) return null;\n\n            handleJWTError(response);\n            return response.blob();\n        })\n}\n\nexport const _doPut = async function (url, data, options) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    if (data) {\n        return fetch(appendAccessToken(finalurl), {\n            timeout: options && options.timeout ? options.timeout : 15000,\n            method: \"PUT\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n            body: JSON.stringify(data),\n        }).then(response => {\n            handleJWTError(response)\n            return response.json()\n        })\n    } else {\n        return fetch(appendAccessToken(finalurl), {\n            timeout: options && options.timeout ? options.timeout : 15000,\n            method: \"PUT\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n        }).then(response => {\n            handleJWTError(response)\n            return response.json()\n        })\n    }\n}\nexport const _doDelete = async function (url, data, options) {\n    let finalurl = url.replace(\":containerId\", '_replace_this_');\n    if (data) {\n        return fetch(appendAccessToken(finalurl), {\n            timeout: options && options.timeout ? options.timeout : 15000,\n            method: \"DELETE\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n            body: JSON.stringify(data),\n        }).then(response => {\n            handleJWTError(response)\n            return response.json()\n        })\n    } else {\n        return fetch(appendAccessToken(finalurl), {\n            method: \"DELETE\",\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n                'Authorization': commons.authorizationCookie()\n            },\n        }).then(response => {\n            handleJWTError(response)\n            return response.json()\n        })\n    }\n}\n\nfunction appendAccessToken(url) {\n    let finalUrl = url;\n    if (url.includes('/api/anon/v1/katappult/security/auth/login')) finalUrl = url;\n    if (url.includes('/v1/anon/auth/lostPassword')) finalUrl = url;\n    if (url.includes('/v1/anon/auth/resetPassword')) finalUrl = url;\n    if (url.includes('?')) {\n        finalUrl = url + '&lang=fr';\n    } else {\n        finalUrl = url + '?lang=fr';\n    }\n\n    return finalUrl.replace(/([^:])(\\/{2,})/g, \"$1/\");\n    //abc.replace(/([^:]\\/)\\/+/g, \"$1\");\n}\n\nasync function handleApplicationVersion(response, url) {\n    let token = response?.headers?.get('X-Application-Version');\n    const version = packageJson.version;\n\n    let isProd = false;\n    let isLocalhost = /^localhost/.test(hostname);\n\n    if(!isLocalhost) {\n        if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n            // dev code\n            isProd = false;\n        } else {\n            // production code\n            isProd = true;\n        }\n    }\n\n    if(isProd){\n        if (!token || !version || token !== version) {\n           await refreshCacheAndReload();\n        }\n    }\n}\n\nfunction handleJWTError(response) {\n    if (response && (response === 511 || response.status === 511)) {\n        forwardToLoginPage();\n    }\n}\n\nfunction forwardToLoginPage() {\n    if (commons.authorizationCookie()) {\n        commons.katappult_core_logout();\n    }\n\n    // this will reload the application and web app resources\n    let configuredLoginURL = process.env.REACT_APP_CLIENT_LOGIN_URL;\n    window.location.href = configuredLoginURL;\n    //refreshCacheAndReload().then(r->);\n    window.location.reload(true);\n}\n\nconst refreshCacheAndReload = async () => {\n    try {\n        if (window?.caches) {\n            const { caches } = window;\n            const cacheNames = await caches.keys();\n            for (const cacheName of cacheNames) {\n                await caches.delete(cacheName);\n            }\n\n            console.log('The cache has been deleted.');\n        }\n\n        //window.location.reload(true);\n    } catch (error) {\n        console. log('An error occurred while deleting the cache.', true);\n        console.log(error, true);\n    }\n};","/**\n * This file contains all action type constants.\n * Can be used to dispatch action with redux.\n * \n * It is a common usage to have all actions types constants in one file,\n * easing maintenance and merge.\n */\n\n/**\n * Container and session id\n */\nexport const SET_USER_WORKING_CONTAINER = 'SET_USER_WORKING_CONTAINER'; \nexport const SET_APPLICATION_CONTAINER = 'SET_APPLICATION_CONTAINER';\n\n/**\n * Login and logout\n */\nexport const LOGIN_USER = 'LOGIN_USER';\nexport const LOGOUT_USER = 'LOGOUT_USER';\nexport const DOLOGIN_USER = 'DOLOGIN_USER';\n\n/**\n * GENERIC ACTIONS\n */\nexport const EDIT_FORM = 'EDIT_FORM';\nexport const CANCEL_EDIT_FORM = 'CANCEL_EDIT_FORM';\nexport const SAVE_FORM = 'SAVE_FORM';\n/**\n * PROFILE MANAGEMENT\n */\nexport const EDIT_PROFILE_SUMMARY='EDIT_PROFILE_SUMMARY'\nexport const UPDATE_PROFILE_SUMMARY='UPDATE_PROFILE_SUMMARY'\n/**\n * Account management\n */\nexport const USER_ACCOUNT_LOCKED='USER_ACCOUNT_LOCKED'\nexport const USER_ACCOUNT_UNLOCKED='USER_ACCOUNT_UNLOCKED'\nexport const USER_ACCOUNT_UPDATE_PASS='USER_ACCOUNT_UPDATE_PASS'\n/**\n * Search members\n */\nexport const SEARCHTERM_UPDATE='SEARCHTERM_UPDATE'\nexport const SEARCH_RESULTS='SEARCH_RESULTS'\n/**\n * Search header components\n */\nexport const SEARCH_HEADER_COMP_SEARCHTERM_UPDATE='SEARCH_HEADER_COMP_SEARCHTERM_UPDATE'\nexport const SEARCH_HEADER_COMP_SEARCH_RESULTS='SEARCH_HEADER_COMP_SEARCH_RESULTS'\n/**\n * Business rules\n */\nexport const BUSINESS_RULES_SEARCHCRITERIAS_UPDATE = 'BUSINESS_RULES_SEARCHCRITERIAS_UPDATE'\n/**\n * Enumerations\n */\nexport const ENUMERATIONS_LIST_UPDATE = 'ENUMERATIONS_LIST_UPDATE'\nexport const ENUMERATIONS_SELECTION_UPDATE = 'ENUMERATIONS_SELECTION_UPDATE'\n\t\t\n\nexport const SWITCH_TO_CONTAINER = 'SWITCH_TO_CONTAINER'\n\t\n\t\n\t\n\n","module.exports = __webpack_public_path__ + \"static/media/profile.9dc38257.png\";","/*\n* required polyfills\n*/\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\n// import 'core-js/es6/symbol'\n// import 'core-js/es6/object'\n// import 'core-js/es6/function'\n// import 'core-js/es6/parse-int'\n// import 'core-js/es6/parse-float'\n// import 'core-js/es6/number'\n// import 'core-js/es6/math'\n// import 'core-js/es6/string'\n// import 'core-js/es6/date'\n//import 'core-js/es6/array'\n// import 'core-js/es6/regexp'\n//import 'core-js/es6/map'\n// import 'core-js/es6/weak-map'\n//import 'core-js/es6/set'\n//import 'core-js/es7/object'\n\n/** IE10 and IE11 requires the following for the Reflect API. */\n// import 'core-js/es6/reflect'\n\n/** Evergreen browsers require these. **/\n// Used for reflect-metadata in JIT. If you use AOT (and only Angular decorators), you can remove.\n// import 'core-js/es7/reflect'\n\n// CustomEvent() constructor functionality in IE9, IE10, IE11\n(function () {\n\n  if ( typeof window.CustomEvent === \"function\" ) return false\n\n  function CustomEvent ( event, params ) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined }\n    let evt = document.createEvent( 'CustomEvent' )\n    evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail )\n    return evt\n  }\n\n  CustomEvent.prototype = window.Event.prototype\n\n  window.CustomEvent = CustomEvent\n})()\n","import {commons} from \"_helpers/commons\";\n\nexport const coreUri = {\n  clientSideRenderedURL,\n  backOfficeViewURL,\n  backOfficeHomeURL,\n  backOfficeRealViewURL\n}\n\nfunction backOfficeHomeURL(){\n  return \"/backoffice/#/view?tab=platform&name=businessRules\";\n}\n\nfunction backOfficeRealViewURL(tabName, viewName, params){\n  let targetURL = '/view?tab=' + tabName + '&name=' + viewName;\n  if(params){\n    params.map(param => {\n      targetURL =  targetURL + '&' + param;\n    })\n  }\n\n  return targetURL;\n}\n\nfunction backOfficeViewURL(tabName, viewName, params){\n  let currentTabName = commons.getValueFromUrl('tab');\n  let targetURL = '/view?tab=' + currentTabName + '&name=' + viewName;\n\n  if(params){\n    params.map(param => {\n      targetURL =  targetURL + '&' + param;\n    })\n  }\n\n  return targetURL;\n}\n\nfunction clientSideRenderedURL(uri){\n  return process.env.PUBLIC_URL + '/backOffice/#' + uri;\n}\n\n","import React from 'react';\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom';\nimport {createBrowserHistory} from 'history'\nimport {WaitingPane} from '_components/_common';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\nconst AdminLayout = React.lazy(() => import('_layouts/AdminLayout'));\nconst LoginLayout = React.lazy(() => import('_layouts/LoginLayout'));\n\n// history\nexport const browserHistory = createBrowserHistory();\nconst loading = () => <div className=\"animated fadeIn pt-3 text-center\"><WaitingPane/></div>;\n\n\nfunction App(props) {\n\n    return <>\n        <HashRouter history={browserHistory}>\n            <React.Suspense fallback={loading()}>\n                <Switch>\n                    <Route exact path=\"/login\" name=\"Login\" render={props => <LoginLayout {...props}/>}/>\n                    <Route exact path=\"/logout\" name=\"Logout\" render={props => <LoginLayout {...props}/>}/>\n                    <Route path={'/view'} name=\"Back office\" component={AdminLayout}/>\n                    <Route path='*' name=\"Unkown\" component={AdminLayout}>\n                        <Redirect to={{pathname: '/view?tab=platform&view=businessRules'}}/>\n                    </Route>\n                </Switch>\n            </React.Suspense>\n        </HashRouter>\n    </>\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n\n  const serviceWorkerInNavigator = 'serviceWorker' in navigator;\n  console.log('There is a service worker in navigator ')\n\n  if (serviceWorkerInNavigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      console.log('aborting : ' +  window.location.origin )\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        console.log('Current host is localhost, checkValidServiceWorker')\n        checkValidServiceWorker(swUrl, config);\n\n        console.log('End checkValidServiceWorker')\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log('ready checkValidServiceWorker')\n          console.log(\n              'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        console.log('Is not localhost. Just register service worker')\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  console.log('processing a registration')\n  navigator.serviceWorker\n      .register(swUrl)\n      .then(registration => {\n\n        console.log('processing a registration')\n\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          if (installingWorker == null) {\n            return;\n          }\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                console.log(\n                    'New content is available and will be used when all ' +\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n                );\n\n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log('Content is cached for offline use.');\n\n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch(error => {\n        console.error('Error during service worker registration:', error);\n      });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  console.log('CCC:: ' + swUrl)\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n      .then(response => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get('content-type');\n        if (\n            response.status === 404 ||\n            (contentType != null && contentType.indexOf('javascript') === -1)\n        ) {\n          console.log('contentType:: ' + swUrl)\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then(registration => {\n            console.log('ready:: ' + swUrl)\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          console.log('processing a registration')\n          registerValidSW(swUrl, config);\n        }\n      })\n      .catch(() => {\n        console.log(\n            'No internet connection found. App is running in offline mode.',\n        );\n      });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}","import * as types from '_actions/actionTypes.js';\nimport produce from \"immer\"\n\nconst inialState = {\n\t\n}\n/**\n * Reducers for people searching\n */\nexport const searchMembersReducer = (state = inialState, action) => {\n\t  switch(action.type) {\n\t    case types.SEARCHTERM_UPDATE:\n\t    \tconst nextState = produce(state, search => {\n\t    \t\tsearch.searchTerm = action.payload.searchTerm\n\t    \t\tsearch.searchType = action.payload.searchType\n\t\t\t})\n\t    \treturn nextState\n\t    case types.SEARCH_RESULTS:\n\t    \tconst ns = produce(state, search => {\n\t    \t\tsearch.searchResults = action.payload\t\n\t\t\t})\n\t\t\treturn ns\n\t    default:\n\t    \treturn state;\n\t  }\n}","import * as types from '_actions/actionTypes.js';\nimport produce from \"immer\"\n\nconst inialState = {\n\t\n}\n/**\n * Reducers for business rules searching\n */\nexport const searchBusinessRulesReducer = (state = inialState, action) => {\n\t  switch(action.type) {\n\t    case types.BUSINESS_RULES_SEARCHCRITERIAS_UPDATE:\n\t    \tconst nextState = produce(state, search => {\n\t    \t\tsearch.rules = action.payload.rules\n\t\t\t\tsearch.types = action.payload.types\n\t\t\t\tsearch.businessType = action.payload.businessType\n\t\t\t\tsearch.businessClass = action.payload.businessClass\n\t\t\t\tsearch.searchTerm = action.payload.searchTerm\n\t\t\t})\n\t    \treturn nextState\n\t    default:\n\t    \treturn state\n\t  }\n}","import * as types from '_actions/actionTypes.js';\nimport produce from \"immer\"\n\nconst inialState = {\n\n}\nexport const enumerationsReducer = (state = inialState, action) => {\n\t  switch(action.type) {\n\t    case types.ENUMERATIONS_SELECTION_UPDATE:\n\t    \tconst nextState = produce(state, enumds => {\n\t    \t\tenumds.en = action.payload[0]\n\t    \t\tenumds.fr = action.payload[1]\n\t\t\t})\n\t    \treturn nextState\n\t    default:\n\t    \treturn state;\n\t  }\n}\n","import * as types from '_actions/actionTypes.js';\nimport produce from \"immer\"\n\nconst inialState = {\n}\n/**\n * Reducers for people searching\n */\nexport const headerSearchReducer = (state = inialState, action) => {\n\t  switch(action.type) {\n\t    case types.SEARCH_HEADER_COMP_SEARCHTERM_UPDATE:\n\t    \tconst nextState = produce(state, search => {\n\t    \t\tsearch.searchTerm = action.payload.searchTerm\n\t    \t\tsearch.criterias = action.payload.criterias\n\t\t\t})\n\t    \treturn nextState\n\t    case types.SEARCH_HEADER_COMP_SEARCH_RESULTS:\n\t    \tconst ns = produce(state, search => {\n\t    \t\tsearch.searchResults = action.payload\t\n\t\t\t})\n\t\t\treturn ns\n\t    default:\n\t    \treturn state;\n\t  }\n}","import produce from \"immer\"\n\nconst inialState = {\n\tappConfig: {\n\t\t// used in forward layout, to display page title in header\n\t\tcurrentPageTitle: '',\n\t},\n}\nexport const applicationReducer = (state = inialState, action) => {\n\t  switch(action.type) {\n\t    case 'UPDATE_APPLICATION_PROPERTIES_PAGE_TITLE':\n\t    \tconst ns1 = produce(state, appConfig => {\n\t    \t\tappConfig.currentPageTitle = action.payload\n\t\t\t\t// TODO update document title here\n\t\t\t})\n\t    \treturn ns1\n\t    \n\t    case 'APPLICATION_SET_ADMIN_HOME_ACTIVE_TAB':\n\t    \tconst ns7 = produce(state, appConfig => {\n\t    \t\tappConfig.adminHome = action.payload\n\t\t\t})\n\t    return ns7\n\n\t    case 'APPLICATION_UPDATE_LIFECYCLE_NAV_CRITERIAS':\n\t    \tconst ns9 = produce(state, appConfig => {\n\t    \t\tappConfig.lifecycleNavCriterias = action.payload\n\t\t\t})\n\t\t\treturn ns9\n\t    case 'APPLICATION_UPDATE_EMAIL_TEMPLATES_NAV_CRITERIAS':\n\t    \tconst ns10 = produce(state, appConfig => {\n\t    \t\tappConfig.emailTemplatesNavCriterias = action.payload\n\t\t\t})\n\t\t\treturn ns10\n\t    default:\n\t    \treturn state;\n\t  }\n}","import produce from \"immer\"\n\nconst inialState = {\n}\n\nexport const imagesCachesReducer = (state = inialState, action) => {\n\t  switch(action.type) {\n\t    case 'ADD_BASE64_IMAGE_TO_CACHE':\n\t    \tconst ns1 = produce(state, imageCache => {\n\t    \t\timageCache[action.payload.key] = action.payload.image\n\t\t\t})\n\t    \treturn ns1;\n\t    \t\n\t    case 'CLEAR_IMAGE_CACHE':\n\t    \tconst ns2 = produce(state, imageCache => {\n\t    \t\t\n\t\t\t})\n\t    \treturn inialState;\n\t    default:\n\t    \treturn state;\n\t  }\n}\n","import produce from \"immer\"\n\n\nconst inialState = {\n\tconfig: {\n\t\tviewName: 'emailTemplates',\n    \tlocation: 'Règles métiers',\n    \tbreadItems: [{href:'#', title:'Règles métiers'}],\n    \tviewMode: 'viewList',\n    \tmenuGroup: 'platformAdministration',\n\t},\n}\n\nexport const navigationReducer = (state = inialState, action) => {\n  switch(action.type) {\n\tcase 'SET_ADMIN_HOME_ACTIVE_TAB':\n    \tconst ns13 = produce(state, actualState => {\n    \t\tactualState.config = action.payload\n    \t\tactualState.config.activeMenu = action.payload.viewName\n\t\t})\n\t\treturn ns13\n    default:\n    \treturn state;\n  }\n}","import 'react-app-polyfill/ie9'; // For IE 9-11 support\nimport 'react-app-polyfill/ie11'; // For IE 11 support\nimport './polyfill'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { combineReducers, createStore } from 'redux';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// reducers\nimport {searchMembersReducer} from '_reducers/searchMembersReducer.js';\nimport {searchBusinessRulesReducer} from '_reducers/searchBusinessRulesReducer.js';\nimport {enumerationsReducer} from '_reducers/enumerationsReducer.js';\nimport {headerSearchReducer} from '_reducers/headerSearchReducer.js';\nimport {applicationReducer} from '_reducers/applicationReducer.js';\nimport {imagesCachesReducer} from '_reducers/imagesCachesReducer.js';\nimport {navigationReducer} from '_reducers/navigationReducer.js';\nimport {userContextReducer} from '_reducers/coreUserContextReducer.js';\n/*--------------------------------------------------------------------------------------------\n* REDUX STORE\n*--------------------------------------------------------------------------------------------*/\n/**\n * All reducers combined.\n * Be aware: key of reducers are crucial (Ex: 'currentUser', 'currentContainers'), it can no be renamed because\n * mapStateToProps access data inside store through this key.\n *\n */\nconst allReducers = combineReducers({\n  searchMembers: searchMembersReducer,\n  searchBusinessRules: searchBusinessRulesReducer,\n  enumerations: enumerationsReducer,\n  headerSearchComp: headerSearchReducer,\n  applicationConfig: applicationReducer,\n  imagesCaches: imagesCachesReducer,\n  navigationConfig: navigationReducer,\n  userContextStore: userContextReducer,\n    rootReducer: rootReducer,\n    serviceWorkerInitialized: false,\n    serviceWorkerUpdated: false,\n    serviceWorkerRegistration: null,\n\n});\n\nexport const store = createStore(allReducers);\nexport const SW_INIT = 'SW_INIT';\nexport const SW_UPDATE = 'SW_UPDATE';\n/*--------------------------------------------------------------------------------------------\n* ReactDOM RENDER APP\n*--------------------------------------------------------------------------------------------*/\n// make the store available to all container components in the application without passing it explicitly.\n// We only need to use it once when rendering the root component, like bellow.\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n//serviceWorker.register({\n//    onSuccess: () => store.dispatch({ type: SW_INIT }),\n//    onUpdate: reg => store.dispatch({ type: SW_UPDATE, payload: reg }),\n//});\n\n\nfunction rootReducer(state = {}, action) {\n    switch (action.type) {\n        case SW_INIT:\n            return {\n                ...state,\n                serviceWorkerInitialized: !state.serviceWorkerInitialized,\n            };\n        case SW_UPDATE:\n            return {\n                ...state,\n                serviceWorkerUpdated: !state.serviceWorkerUpdated,\n                serviceWorkerRegistration: action.payload,\n            };\n        default:\n            return state;\n    }\n}\n","/**\n * This file is all actions creators. An action creator takes a single argument in,\n * and returns an object which we refer to as an 'action'\n * \n * An action is an object that has two properties on it: 'type' and 'payload'\n * \n * -> payload: is the data we want to send to our reducer (is optional)\n * -> type: is a string for filtering actions\n */\n\nimport * as types from './actionTypes.js';\n\n/**\n * Login action, payload should be the user details and \n * account informations and session_id.\n */\nexport const loginUser = (userDetails) => ({\n    type: types.LOGIN_USER,\n    payload: userDetails\n});\nexport const logoutUser = (payload) => ({\n    type: types.LOGOUT_USER,\n    payload: payload\n});\nexport const doLoginUser = (payload)=> ({\n    type: types.DOLOGIN_USER,\n    payload: payload\n});\n\n/**\n * Set current connected user working container.\n * Some user can switch container, according to business rules.\n */\nexport const setUserWorkingContainer = (container) => ({\n    type: types.SET_USER_WORKING_CONTAINER,\n    payload: container\n});\nexport const setApplicationContainer = (container) => ({\n    type: types.SET_APPLICATION_CONTAINER,\n    payload: container\n});\n/**\n * Edit attributes group reducers\n */\nexport const updateAttributesGroup = (payload, filter) => ({\n    type: types.SET_APPLICATION_CONTAINER,\n    payload: payload,\n    filter: filter\n});\n/**\n * Account management\n */\nexport const userAccountLocked = (payload) => ({\n    type: types.USER_ACCOUNT_LOCKED,\n    payload: payload,\n});\nexport const userAccountUnLocked = (payload) => ({\n    type: types.USER_ACCOUNT_UNLOCKED,\n    payload: payload,\n});\nexport const userAccountUpdatePass = (payload) => ({\n    type: types.USER_ACCOUNT_UPDATE_PASS,\n    payload: payload,\n});\n/**\n * Search members components\n */\nexport const updateSearchMembersTerm = (payload) => ({\n    type: types.SEARCHTERM_UPDATE,\n    payload: payload,\n});\nexport const updateSearchResults = (payload) => ({\n    type: types.SEARCH_RESULTS,\n    payload: payload,\n});\n/**\n * Search all types from client header\n */\nexport const updateHeaderSearchCompSearchTerm = (payload) => ({\n    type: types.SEARCH_HEADER_COMP_SEARCHTERM_UPDATE,\n    payload: payload,\n});\nexport const updateHeaderSearchCompSearchResults = (payload) => ({\n    type: types.SEARCH_HEADER_COMP_SEARCH_RESULTS,\n    payload: payload,\n});\n/**\n * Business rules management\n */\nexport const updateBusinessRulesSearchCriterias = (payload) => ({\n    type: types.BUSINESS_RULES_SEARCHCRITERIAS_UPDATE,\n    payload: payload,\n});\n/**\n * enumerations\n */\nexport const updateEnumerationsSelection = (payload) => ({\n    type: types.ENUMERATIONS_SELECTION_UPDATE,\n    payload: payload,\n});\n\n","import {\n\t_doGet,\n\t_doGetText,\n\t_doPostMp,\n\t_doGetBlob,\n\tAPI_ROOT, _doPost, _doDelete\n}\n\tfrom './utils/services.config';\n/**\n * Default Export\n */\nexport const contentHolderService = {\n\tdownloadPrimaryContent,\n\tdownloadPrimaryContentBlob,\n\tdownloadAttachment,\n    contentInfos,\n    setPrimaryContentFile,\n    addAttachment,\n\tdeletePrimaryContent\n}\n\nasync function addAttachment(contentHolderId, formData){\n\n}\nfunction downloadAttachment(contentHolderId, attachementId){\n\n}\n\nfunction deletePrimaryContent(contentHolderId, containerId) {\n\tlet uri = '/api/secured/v1/katappult/contentHolder/deleteContent?role=primary&containerId=' + containerId + '&contentHolderId=' + contentHolderId\n\tlet url = `${API_ROOT}` + uri\n\treturn _doDelete(url)\n}\n/**\n * Download the primary content\n *\n * @param contentHolderId\n * @returns\n */\nfunction downloadPrimaryContent(contentHolderId, containerId) {\n\tlet uri = '/api/secured/v1/katappult/contentHolder/downloadContent?role=primary&containerId=' + containerId + '&contentHolderId=' + contentHolderId\n    let url = `${API_ROOT}` + uri\n\treturn _doGetText(url)\n}\n/**\n * Download primary content.\n *\n * @param contentHolderId\n * @returns\n */\nfunction downloadPrimaryContentBlob(contentHolderId, containerId) {\n\tlet uri = '/api/secured/v1/katappult/contentHolder/downloadContent?role=primary&containerId=' + containerId + '&contentHolderId=' + contentHolderId\n    let url = `${API_ROOT}` + uri\n\treturn _doGetBlob(url)\n}\n/**\n * Set primary content.\n *\n * @param contentHolderId\n * @param formData\n * @returns\n */\nfunction setPrimaryContentFile(contentHolderId, formData, containerId){\n\tlet uri = '/api/secured/v1/katappult/contentHolder/setContentFile?role=primary&containerId=' + containerId + '&contentHolderId=' + contentHolderId\n    let url = `${API_ROOT}` + uri\n\treturn _doPostMp(url, formData)\n}\n/**\n * Get content infos of given content holder.\n *\n * @param contentHolderId\n * @param role primary, attachments, all\n * @returns\n */\nfunction contentInfos(contentHolderId, role, containerId){\n\tlet uri = '/api/secured/v1/katappult/contentHolder/getContentInfo?role=' + role + '&containerId=' + containerId + '&contentHolderId=' + contentHolderId\n    let url = `${API_ROOT}` + uri\n\treturn _doGet(url)\n}\n","import {_doPost, _doGet, buildURLQuery, API_ROOT, _doPostWithoutResponse} from './utils/services.config';\n\nexport const loginService = {\n    login,\n    logout,\n    loginAsAnon,\n    postLogin\n};\n/**\n * Login to remote server\n */\nfunction login(formdata) {\n    const url = `${API_ROOT}/api/anon/v1/katappult/security/auth/login`;\n    let bodyson = \"{'username': '\".concat(formdata.login)\n        .concat(\"',\").concat(\"'password': '\").concat(formdata.password)\n        .concat(\"'}\");\n    return _doPostWithoutResponse(url, bodyson);\n}\nfunction loginAsAnon() {\n    const url = `${API_ROOT}/api/anon/v1/katappult/security/auth/login`;\n    let bodyson = \"{'username': '\".concat('epanon')\n        .concat(\"',\").concat(\"'password': '\").concat('epadmin').concat(\"'}\");\n    return _doPostWithoutResponse(url, bodyson);\n}\n/**\n * Logout\n */\nfunction logout() {\n    const url = `${API_ROOT}/api/secured/v1/katappult/security/auth/logout`;\n    return _doPost(url);\n}\n/**\n* With authorization because in some cases,\n* authorization is not in local storage yet\n*/\nasync function postLogin(authorization, containerId){\n    let contId = containerId ? containerId : ''\n\tconst url = `${API_ROOT}/api/secured/v1/katappult/security/auth/postlogin?defaultContainerId=${contId}`;\n\treturn _doGet(url, authorization);\n}\n","import { _doPost, _doGet, buildURLQuery, API_ROOT } from './utils/services.config';\n/**\n *\n */\nexport const workableService = {\n    checkin,\n    checkout,\n    undoCheckout,\n    workingCopy,\n    originalCopy,\n}\n/**\n * Get the original copy.\n *\n * @param workableId\n * @returns\n */\nfunction originalCopy(workableId, idOnly, containerId){\n    const uri = '/api/secured/v1/katappult/workables/originalCopy?containerId=' + containerId + \"&workableId=\" + workableId + \"&idOnly=\" + idOnly;\n    const url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n * Get the working copy\n *\n * @param workableId\n * @param comment\n * @returns\n */\nfunction workingCopy(workableId, idOnly, containerId){\n    const uri = '/api/secured/v1/katappult/rc/workingCopy?containerId=' + containerId + \"&workableId=\" + workableId + \"&idOnly=\" + idOnly;\n    const url = `${API_ROOT}` + uri;\n    return _doGet(url);\n}\n/**\n * Checkout\n * @param workableId\n * @param comment\n * @returns\n */\nfunction checkout(workableId, idOnly, comment, containerId){\n    const uri = '/api/secured/v1/katappult/workables/checkout?containerId=' + containerId + \"&workableId=\" + workableId + \"&idOnly=\" + idOnly;\n    const url = `${API_ROOT}` + uri;\n    return _doPost(url);\n}\n/**\n * Checkin\n * @param workableId\n * @param comment\n * @returns\n */\nfunction checkin(workableId, comment, containerId){\n    const uri = '/api/secured/v1/katappult/workables/checkin?containerId=' + containerId  + \"&workableId=\" + workableId;\n    const url = `${API_ROOT}` + uri;\n    return _doPost(url, {'comment':'no comment'});\n}\n/**\n * Undo checkout\n * @param workableId\n * @param comment\n * @returns\n */\nfunction undoCheckout(workableId, comment, containerId){\n    const uri = '/api/secured/v1/katappult/workables/undoCheckout?containerId=' + containerId + \"&workableId=\" + workableId;\n    const url = `${API_ROOT}` + uri;\n    return _doPost(url);\n}\n","import React, { Component } from 'react';\nimport {\n\tButton,\n\tButtonGroup,\n\tInput,\n\tLabel,\n\tTable\n} from 'reactstrap';\nimport {commons} from '_helpers/commons';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n\titems: PropTypes.array.isRequired,\n\tattribute: PropTypes.array.object,\n\tfirstRowLabel: PropTypes.bool,\n\tnewObjectFormData: PropTypes.object.isRequired,\n};\n\nconst defaultProps = {\n\titems: [],\n\tfirstRowLabel: false\n};\n/**\n *\n */\nclass AttributeArrayGroup extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t'mode': 'view',\n\t\t\t'items': props.items,\n\t\t\t'initalItems': props.items\n\t\t}\n\n\t\tthis.moveDown = this.moveDown.bind(this)\n\t\tthis.moveUp = this.moveUp.bind(this)\n\t\tthis.delete = this.delete.bind(this)\n\t\tthis.save = this.save.bind(this)\n\t\tthis.footerActions = this.footerActions.bind(this)\n\t\tthis.add = this.add.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.handleFormChange = this.handleFormChange.bind(this)\n\t\tthis.isEditing = this.isEditing.bind(this)\n\t}\n\n\thandleFormChange(event){\n\t\tlet name = event.target.name.split('_')[0]\n\t\tlet index = event.target.name.split('_')[1]\n\t\tlet items = this.state.items.slice();\n\n\t\t//console.log('change : ' + event.target.name\t + ' , ' + event.target.value)\n\t\t//console.log('index : ' + index)\n\t\t//console.log('1 : ' + JSON.stringify(items))\n\t\t//console.log('2 : ' + JSON.stringify(this.state.items))\n\n\t\tlet d = items[index]\n\t\td[name] = event.target.value\n\t\tthis.setState({\n\t\t\titems: items,\n\t\t})\n\t}\n\n\tcancel(e){\n\t\te.preventDefault();\n\t\tlet items = this.state.initalItems.slice();\n\t\tthis.setState({\n\t\t\titems: items,\n\t\t\tmode: 'view'\n\t\t})\n\n\t\t// THIS ACTION IS VALID ONLY IN INDIVIDUAL FORM\n\t\t// IN OTHER CASE, OT IS THE RESPONSABILITY OF THE\n\t\t// WRAPPER\n\t\tif(this.props.wrapInform){\n\t\t\tlet form = document.getElementById(this.props.wrapInform)\n\t\t\tif(form) form.reset();\n\t\t}\n\t}\n\n\tsave(e){\n\t\te.preventDefault();\n\t\tlet items = this.state.items.slice();\n\t\tthis.setState({\n\t\t\tmode: 'view',\n\t\t\tinitalItems: items\n\t\t})\n\t\tthis.props.attributesListConfig.onSubmit(items)\n\t}\n\n\tadd(e){\n\t\te.preventDefault();\n\t\tlet newItems = this.state.items.slice();\n\t\tnewItems[newItems.length] = commons.clone(this.props.newObjectFormData)\n\t\tthis.setState({\n\t\t\titems: newItems\n\t\t})\n\t}\n\n\tmoveUp(e, item){\n\t\te.preventDefault();\n\n\t\tlet newItems = this.state.items.slice();\n\t\tlet a = newItems.indexOf(item);\n\t\tnewItems.splice(a, 1);\n\n\t\tlet newplace = a - 1;\n\t\tif(newplace < 0) {\n\t\t\tnewItems.splice(newItems.length + 1, 0, item);\n\t\t}\n\t\telse {\n\t\t\tnewItems.splice(newplace, 0, item);\n\t\t}\n\n\t\tthis.setState({\n\t\t\titems: newItems,\n\t\t})\n\t}\n\n\tmoveDown(e, item) {\n\t\te.preventDefault();\n\n\t\tlet newItems = this.state.items.slice();\n\t\tlet a = newItems.indexOf(item);\n\t\tnewItems.splice(a, 1);\n\n\t\tlet newplace = a + 1;\n\t\tif(newplace === newItems.length) {\n\t\t\tnewItems.splice(newItems.length, 0, item);\n\t\t}\n\t\telse if(newplace > newItems.length) {\n\t\t\tnewItems.splice(0, 0, item);\n\t\t}\n\t\telse {\n\t\t\tnewItems.splice(newplace, 0, item);\n\t\t}\n\n\t\tthis.setState({\n\t\t\titems: newItems,\n\t\t})\n\t}\n\n\tdelete(e, item){\n\t\te.preventDefault();\n\t\tlet newItems = this.state.items.slice();\n\t\tlet a = newItems.indexOf(item);\n\n\t\tnewItems.splice(a, 1);\n\t\tthis.setState({\n\t\t\titems: newItems,\n\t\t})\n\t}\n\n\tedit(e){\n\t\te.preventDefault();\n\t\tthis.setState({\n\t\t\tmode: 'edit'\n\t\t})\n\t}\n\n\tisEditing(){\n\t\treturn this.state.mode && this.state.mode ===  'edit'\n\t}\n\n\trowActions(item, colspan){\n\t\tif(this.isEditing()){\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td align=\"right\" colspan={colspan ?  colspan:4}>\n\t\t\t\t\t\t\t<table width=\"100%\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td align=\"right\" colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t\t<ButtonGroup className=\"btn-toolbar-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={(e) => this.moveUp(e, item)} ><i className=\"fa fa-arrow-circle-up\"></i></Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={(e) => this.moveDown(e, item)}><i className=\"fa fa-arrow-circle-down\"></i></Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={(e) => this.delete(e, item)}><i className=\"fa fa-trash\"></i> Supprimer</Button>\n\t\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t\telse {\n\t\t\treturn (<React.Fragment><tr></tr></React.Fragment>)\n\t\t}\n\t}\n\n\tfooterActions() {\n\t\tif(this.isEditing()){\n\t\t\treturn <React.Fragment>\n\t\t\t\t<div className=\"btn-toolbar-right\">\n\t\t\t\t\t<Button onClick={(e) => this.save(e)}><i className=\"fa fa-save\"></i> Sauvegarder</Button>\n\t\t\t\t\t<Button onClick={(e) => this.cancel(e)}><i className=\"fa fa-undo\"></i> Annuler</Button>\n\t\t\t\t\t<Button onClick={(e) => this.add(e)}><i className=\"fa fa-plus\"></i> Ajouter</Button>\n\t\t\t\t</div>\n\t        </React.Fragment>\n\t\t}\n\t\telse {\n\t\t\tif(this.props.canEdit === true){\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"btn-toolbar-right\">\n\t\t\t\t\t\t<Button onClick={(e) => this.edit(e)}><i className=\"fa fa-edit\"></i>&nbsp;MODIFIER</Button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t}\n\t}\n\n\trender(){\n\t\tlet rows = [];\n\t\t// if empty\n\t\tif(this.state.items && this.state.items.length === 0){\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colspan=\"3\">\n\t\t\t\t\t\t\t<div className=\"empty-pane\">\n\t\t\t\t\t\t\t\t<strong>Pas d'éléments</strong>\n\t\t\t\t\t\t\t\t{this.footerActions(this.props.attribute)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\n\t\t// if having data to display\n\t\telse {\n\t\t\tlet childRows = [], colspan = 0,  index = 0\n\n\t\t\tif(this.props.firstRowLabel === 'true'){\n\t\t\t\tthis.props.attribute.items.attributes.map(rowDef => {\n\t\t\t\t\tlet label = rowDef.name;\n\t\t\t\t\tchildRows.push(<td><strong>{label}</strong></td>);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(this.state.items){\n\t\t\t\tthis.state.items.map(data => {\n\t\t\t\t\tlet cols = [], colspan = 0;\n\t\t\t\t\tthis.props.attribute.items.attributes.map(rowDef => {\n\t\t\t\t\t\tlet datakey = rowDef.dataField + \"_\" + index\n\t\t\t\t\t\tlet value = commons.getPropByString(data, rowDef.dataField);\n\t\t\t\t\t\tlet editor = commons.getInputType(rowDef);\n\n\t\t\t\t\t\tif(this.isEditing()){\n\t\t\t\t\t\t\tcols.push(\n\t\t\t\t\t\t\t\t<td><Input type={editor} defaultValue={value} name={datakey} onChange={(e) => this.handleFormChange(e)}/></td>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcols.push(\n\t\t\t\t\t\t\t\t<td><Label>{value}</Label></td>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tchildRows.push(<tr>{cols}</tr>);\n\t\t\t\t\tchildRows.push(this.rowActions(data, colspan, this.props.attribute));\n\t\t\t\t\tindex++\n\t\t\t\t})\n\t\t\t}\n\n\n\t\t\t// footer actions\n\t\t\tchildRows.push(\n\t\t\t\t<tr>\n\t\t\t\t\t<td colSpan={colspan === colspan ? 4 : colspan}>\n\t\t\t\t\t\t{this.footerActions(this.props.attribute)}\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t)\n\n\t\t\tif(this.props.wrapInform) {\n\t\t\t\tlet formId = this.props.wrapInform\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td colSpan={colspan + 1}>\n\t\t\t\t\t\t\t\t<form id={formId}>\n\t\t\t\t\t\t\t\t\t<Table size=\"sm\" borderless className=\"noBorder\">\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{childRows}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td colSpan={colspan + 1}>\n\t\t\t\t\t\t\t\t<Table size=\"sm\" borderless className=\"noBorder\">\n\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t{childRows}\n\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n}\n\nAttributeArrayGroup.propTypes = propTypes;\nAttributeArrayGroup.defaultProps = defaultProps;\n\n\n/**\n * Get the first key of the json data.\n * Ex: {'dod':'toto'} => dod\n * @param {*} json\n */\nconst getJsonKey = (json) => {\n\tfor(let k in json){\n\t\treturn k\n\t}\n}\nconst getJsonValue = (json) => {\n\tfor(let k in json){\n\t\treturn json[k]\n\t}\n}\n\nexport default AttributeArrayGroup;\n","import React, { Component } from 'react';\nimport { \n\tButton, \n\tButtonGroup,\n\tInput,\n} from 'reactstrap';\nimport {commons} from '_helpers/commons';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n\titems: PropTypes.array.isRequired,\n\tattribute: PropTypes.array.object,\n};\n\nconst defaultProps = {\n\titems: [],\n};\n/**\n * Remarques :\n * 1. mode hide label (afficher que les inputs)\n * 2. layout horizontal \n */\nclass AttributeArrayObjectGroup extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t'editingItems': [],\n\t\t\t'items': props.items,\n\t\t\t'initalItems': props.items,\n\t\t\t'addingNewItem': false\n\t\t}\n\n\t\tthis.delete = this.delete.bind(this)\n\t\tthis.save = this.save.bind(this)\n\t\tthis.footerActions = this.footerActions.bind(this)\n\t\tthis.add = this.add.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.cancel = this.cancel.bind(this)\n\t\tthis.isEditingThisItem = this.isEditingThisItem.bind(this)\n\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t}\n\n\thandleFormChange(event, item){\n\t\tlet editingItems = this.state.editingItems.slice();\n\t\tlet editingindex = commons.indexOfItemInArray(item, editingItems);\n\t\tlet editingItem = editingItems[editingindex]\n\n\t\teditingItem[event.target.name] = event.target.value\n\t\tthis.setState({\n\t\t\t'editingItems': editingItems,\n\t\t})\n\t}\n\n\tcancel(e, item, formId){\n\t\te.preventDefault();\n\n\t\tif(item.id){\n\t\t\t// REPLACE EDITING ITEM BY INITIAL ITEM VALUE\n\t\t\t// AND RESET FORM\n\t\t\tlet editingItems = this.state.editingItems.slice();\n\t\t\tlet initalItems = this.state.initalItems.slice();\n\t\t\tlet items = this.state.items.slice();\n\t\t\t\n\t\t\tlet initialindex = commons.indexOfItemInArray(item, initalItems);\n\t\t\tlet editingindex = commons.indexOfItemInArray(item, editingItems);\n\t\t\tlet currentIndex = commons.indexOfItemInArray(item, items);\n\n\t\t\teditingItems.splice(editingindex, 1)\n\t\t\titems[currentIndex] = initalItems[initialindex]\n\n\t\t\tthis.setState({\n\t\t\t\t'editingItems': editingItems,\n\t\t\t})\n\n\t\t\tdocument.getElementById(formId).reset();\n\t\t}\n\t}\n\n\tsave(e, item, formId){\n\t\te.preventDefault();\n\n\t\t// REPLACE INITIAL ITEM BY EDITING ITEM VALUE\n\t\t// AND UPDATE ITEMS\n\t\tlet editingItems = this.state.editingItems.slice();\n\t\tlet initalItems = this.state.initalItems.slice();\n\t\tlet items = this.state.items.slice();\n\t\t\n\t\tlet initialindex = commons.indexOfItemInArray(item, initalItems);\n\t\tlet editingindex = commons.indexOfItemInArray(item, editingItems);\n\t\tlet currentIndex = commons.indexOfItemInArray(item, items);\n\n\t\tlet newItem = JSON.parse(JSON.stringify(editingItems[editingindex]));\n\t\titems[currentIndex] = newItem;\n\t\tinitalItems[initialindex] = newItem;\n\n\t\teditingItems.splice(editingindex, 1)\n\t\tthis.setState({\n\t\t\t'editingItems': editingItems,\n\t\t\t'initalItems': initalItems,\n\t\t\t'items': items,\n\t\t\t'addingNewItem': false\n\t\t})\n\n\t}\n\n\tadd(e){\n\t\te.preventDefault();\n\t\tlet editingItems = this.state.editingItems.slice();\n\t\tlet items = this.state.items.slice();\n\n\t\tlet clone = commons.clone(this.props.newObjectFormData)\n\t\teditingItems[editingItems.length] = clone\n\t\titems[items.length] = clone\n\t\tthis.setState({\n\t\t\t'editingItems': editingItems,\n\t\t\t'items': items,\n\t\t\t'addingNewItem': true\n\t\t})\n\t}\n\n\tdelete(e, item){\n\t\te.preventDefault();\n\t\tlet newItems = this.state.items.slice();\n\t\tlet a = newItems.indexOf(item);\n\n\t\tnewItems.splice(a, 1);\n\t\tthis.setState({\n\t\t\titems: newItems,\n\t\t})\n\t}\n\n\tedit(e, item){\n\t\te.preventDefault();\n\t\t\n\t\tlet isEditingThisItem = this.isEditingThisItem(item)\n\t\tif(!isEditingThisItem){\n\t\t\tlet editingItems = this.state.editingItems.slice()\n\t\t\tconst clone = JSON.parse(JSON.stringify(item));\n\t\t\teditingItems.push(clone)\n\t\t\tthis.setState({\n\t\t\t\t'editingItems': editingItems\n\t\t\t})\n\t\t}\n\t}\n\n\tisEditingThisItem(item){\n\t\tlet res = false\n\t\tthis.state.editingItems.map(m => {\n\t\t\tif(m.id === item.id){\n\t\t\t\tres = true\n\t\t\t}\n\t\t})\n\t\treturn res\n\t}\n\n\trowActions(item, formId){\n\t\tif(!this.isEditingThisItem(item)){\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td align=\"right\" colspan=\"2\">\n\t\t\t\t\t\t\t<table width=\"100%\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td align=\"right\" colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"katappult-btn\" color=\"warning\" size=\"xs\" onClick={(e) => this.edit(e, item)} ><i className=\"fa fa-edit\"></i> Modifier</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"katappult-btn\" color=\"warning\" size=\"xs\" onClick={(e) => this.delete(e, item)}><i className=\"fa fa-trash\"></i> Supprimer</Button>\n\t\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td align=\"right\" colspan=\"2\">\n\t\t\t\t\t\t\t<table width=\"100%\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<td align=\"right\" colspan=\"2\">\n\t\t\t\t\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"katappult-btn\" color=\"warning\" size=\"xs\" onClick={(e) => this.cancel(e, item, formId)}><i className=\"fa fa-rotate-left\"></i> Annuler</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"katappult-btn\" color=\"warning\" size=\"xs\" onClick={(e) => this.save(e, item)} ><i className=\"fa fa-save\"></i> Sauvegarder</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"katappult-btn\" color=\"warning\" size=\"xs\" onClick={(e) => this.delete(e, item)}><i className=\"fa fa-trash\"></i> Supprimer</Button>\n\t\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t}\n\n\tfooterActions() {\n\t\tif(this.state.addingNewItem){\n\t\t\treturn <React.Fragment>\n\t\t\t\t<div></div>\n\t\t\t</React.Fragment>\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<Button block className=\"katappult-btn\" color=\"white\" size=\"md\" onClick={(e) => this.add(e)}><i className=\"fa fa-plus\"></i> AJouter</Button>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n\n\trender() {\n\t\t// FOOTER ACTIONS IS COMMON TO ALL BLOCS\n\t\tlet footerActions = ( \n\t\t\t<tr>\n\t\t\t\t<td colspan=\"3\" align='right'>\n\t\t\t\t\t{this.footerActions(this.props.attribute)}\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t)\n\n\t\tif(this.state.items && this.state.items.length === 0){\n\t\t\tlet rows = [];\n\t\t\trows.push(\n\t\t\t\t<div>\n\t\t\t\t\t<strong>This section is empty.</strong>\n\t\t\t\t</div>\n\t\t\t)\n\t\t\trows.push(footerActions)\n\t\t\treturn rows\n\t\t}\n\t\telse {\n\t\t\tlet blocs = []\n\t\t\tif(this.props.attribute.items && this.props.attribute.items.attributes) {\n\t\t\t\tlet indexdata = 11\n\t\t\t\tthis.state.items.map(data => {\n\n\t\t\t\t\t// FORM ID IS NEED TO RESET EACH BLOC\n\t\t\t\t\tlet formId = 'katappult_array_form_' + indexdata\n\t\t\t\t\tindexdata++\n\n\t\t\t\t\t// EACH BLOC OF DATA IS A FORM\n\t\t\t\t\t// SUBMITTED ALONE\n\t\t\t\t\tlet rows = [];\n\n\t\t\t\t\t// generates title of group here because it may depend\n\t\t\t\t\t// on some datas\n\t\t\t\t\tlet headerActions;\n\t\t\t\t\tif(this.props.attribute.headerActions) headerActions = this.props.attribute.headerActions();\n\t\t\t\t\tlet title =  this.props.attribute.title;\n\t\t\t\t\tif(this.props.attribute.arrayTitleProvider){\n\t\t\t\t\t\ttitle = this.props.attribute.arrayTitleProvider(data)\n\t\t\t\t\t}\n\n\t\t\t\t\t// THE HEADER AND HEADER ACTION OF THE BLOC\n\t\t\t\t\trows.push(\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"3\">\n\t\t\t\t\t\t\t\t\t\t<label className=\"katappult-form-title-level-1\">{title}</label>\n\t\t\t\t\t\t\t\t\t\t{headerActions}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</React.Fragment>  \n\t\t\t\t\t)\n\n\t\t\t\t\t// EACH ROW OF DATA\n\t\t\t\t\tthis.props.attribute.items.attributes.map(rowDef => {\n\t\t\t\t\t\tlet label = rowDef.name\n\t\t\t\t\t\tlet value = commons.getPropByString(data, rowDef.dataField);\n\t\t\t\t\t\tlet editor = commons.getInputType(this.props.attribute);\n\t\t\t\t\t\trows.push(\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><label>{label}</label></td> \n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<Input type={editor} defaultValue={value} name={rowDef.dataField} \n\t\t\t\t\t\t\t\t\t\tid={rowDef.dataField}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => this.handleFormChange(e, data)}/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\t// action on the row (group)\n\t\t\t\t\trows.push(this.rowActions(data, formId));\n\n\t\t\t\t\tblocs.push(\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<form id={formId}>\n\t\t\t\t\t\t\t\t\t<table width=\"100%\">\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t{rows}\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t)\n\t\t\t\t})\n\n\t\t\t\t// FOOTER ACTIONS IS COMMON TO ALL BLOCS\n\t\t\t\tblocs.push(footerActions)\n\t\t\t}\t\n\n\t\t\treturn (<React.Fragment>\n\t\t\t\t{blocs}\n\t\t\t</React.Fragment>)\n\t\t}\n\t}\n}\n\nAttributeArrayObjectGroup.propTypes = propTypes;\nAttributeArrayObjectGroup.defaultProps = defaultProps;\n\nexport default AttributeArrayObjectGroup;\n\n\n","import React, { Component } from 'react';\nimport {Label, Table, Input} from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport {commons} from '_helpers/commons';\nimport AttributeArrayGroup from './AttributeArrayGroup.js';\nimport AttributeArrayObjectGroup from './AttributeArrayObjectGroup.js';\nimport { Form } from 'react-bootstrap'\nimport DatePicker from \"react-datepicker\";\nimport moment from 'moment';\nimport Button from 'react-bootstrap/Button'\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst propTypes = {\n\tdata: PropTypes.object,\n\tattributesListConfig: PropTypes.object.isRequired,\n\tcardClassName: PropTypes.string,\n\torientation: PropTypes.string,\n\tdisplayHeader: PropTypes.bool,\n\tactions: PropTypes.func,\n};\n\nconst defaultProps = {\n\tcardClassName: \" no-border\",\n\torientation: \"horizontal\",\n\tdisplayHeader: false\n};\n\n/**\n * Displays a list of attributes grouped in table.\n */\nclass AttributeListGroup extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tformsState: [],\n\t\t\tformValidated: false,\n\t\t\teditingFormData: props.data === undefined ? '{}' : props.data.attributes,\n\t\t\tinitialData: props.data === undefined ? '{}' : props.data,\n\t\t\terrors: []\n\t\t}\n\n\t\tthis.standardFooterActions = this.standardFooterActions.bind(this)\n\t\tthis.standardEditForm = this.standardEditForm.bind(this)\n\t\tthis.standardSaveForm = this.standardSaveForm.bind(this)\n\t\tthis.standardResetForm = this.standardResetForm.bind(this)\n\t\tthis.handleFormChange = this.handleFormChange.bind(this)\n\t\tthis.isEditing = this.isEditing.bind(this)\n\t}\n\n\thandleFileChange(event){\n\n\t}\n\n\thandleFormChange(event, name, type, pattern){\n\t\tlet editingFormData = {...this.state.editingFormData}\n\t\tlet attPath = name ? name : event.target.name\n\t\t/*if(attPath.includes('.')) {\n\t\t\tlet one = attPath.split('.')[0]\n\t\t\tlet two = attPath.split('.')[1]\n\t\t\tattPath = two;\n\t\t}*/\n\n\t\t//attPath = attPath.startsWith('yes_no_') ? attPath.split('yes_no_')[1] : attPath;\n\n\t\t/*let one = attPath.split('.')[0]\n        let two = attPath.split('.')[1]\n        console.log('attPath :: ' + attPath)\n        console.log('editingFormData :: ' + editingFormData)\n        let editingFormData0 = editingFormData[one]\n        editingFormData0[two] = event.target.value\n    }\n    else {*/\n\t\t// for date field, returns date directly not the\n\t\t// component\n\t\tif(event && event.target && event.target.type === 'checkbox'){\n\t\t\tif(event.target.name.startsWith('yes_no_')){\n\t\t\t\teditingFormData[attPath.split('yes_no_')[1]] = event.target.checked\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet datas = editingFormData[attPath] ? editingFormData[attPath].split(';') : []\n\t\t\t\tif(event.target.checked){\n\t\t\t\t\tdatas.push(event.target.value)\n\t\t\t\t\teditingFormData[attPath] = datas.join(';')\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif(datas.length <= 1){\n\t\t\t\t\t\teditingFormData[attPath] = ''\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconst index = datas.indexOf(event.target.value);\n\t\t\t\t\t\tif(index !== -1) datas.splice(index, 1);\n\t\t\t\t\t\teditingFormData[attPath] = datas.join(';')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if(event && event.target && event.target.type === 'radio'){\n\t\t\teditingFormData[attPath] = event.target.value\n\t\t}\n\t\telse if(type && type === 'date'){\n\t\t\teditingFormData[attPath] = event != null ? moment(event).format(\"YYYYMMDD\") : null\n\t\t}\n\t\telse if(type && type === 'datetime'){\n\t\t\teditingFormData[attPath] = event != null ? moment(event).format(\"YYYYMMDDHHmmss\") : null\n\t\t}\n\t\telse {\n\t\t\teditingFormData[attPath] = event.target ? event.target.value : event;\n\t\t\tif(event.target.type === 'file') {\n\t\t\t\tthis.setState({masterFile: event.target.files[0]})\n\t\t\t}\n\t\t}\n\t\t//}\n\n\t\tif(pattern){\n\t\t\tif(event.target.value.match(pattern)){\n\t\t\t\tif(this.props.onFormChange) this.props.onFormChange(editingFormData)\n\t\t\t\tthis.setState({editingFormData: editingFormData})\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif(this.props.onFormChange) this.props.onFormChange(editingFormData)\n\t\t\tthis.setState({editingFormData: editingFormData})\n\t\t}\n\t}\n\n\tsetFormDataValue(key, value){\n\t\tlet editingFormData = {...this.state.editingFormData}\n\t\teditingFormData[key] = value\n\t\tthis.setState({\n\t\t\teditingFormData: editingFormData,\n\t\t})\n\t}\n\n\tstandardEditForm(e, token){\n\t\te.preventDefault()\n\t\tlet formsState = [...this.state.formsState]\n\t\tformsState[token] = 'edit'\n\n\t\tif(!this.state.editingFormData){\n\t\t\tthis.setState({\n\t\t\t\tformsState: formsState,\n\t\t\t\teditingFormData: {}\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tformsState: formsState,\n\t\t\t})\n\t\t}\n\t}\n\n\tstandardSaveForm(e, token, attributesListConfig){\n\t\te.preventDefault()\n\n\t\tif(attributesListConfig.processing){\n\t\t\tattributesListConfig.processing()\n\t\t}\n\n\t\tlet formData = {...this.state.editingFormData}\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tlet newErrors = []\n\t\tif(attributesListConfig.formValidity) {\n\t\t\tnewErrors = attributesListConfig.formValidity(formData)\n\t\t}\n\n\t\tif (attributesListConfig.endProcessing) {\n\t\t\tattributesListConfig.endProcessing()\n\t\t}\n\n\t\tif (Object.keys(newErrors).length > 0) {\n\t\t\tthis.setState({errors: newErrors})\n\t\t} else {\n\t\t\tlet formsState = [...this.state.formsState]\n\t\t\tformsState[token] = 'view'\n\t\t\tif(this.state.masterFile){\n\t\t\t\tformData.masterFile = this.state.masterFile\n\t\t\t}\n\n\t\t\t// THIS METHOD SHOULD COLLECT FORM DATA\n\t\t\t// SEND REDUX ACTION EVENT TO INFORM FORM OWNER TO UPDATE DATA IN REMOTE API\n\t\t\t// THE OWNER WILL THE UPDATE STATE AND VIEW WILL BE REFRESHED\n\t\t\tif(attributesListConfig.onSubmit){\n\t\t\t\tlet result = attributesListConfig.onSubmit(formData)\n\t\t\t\tif(result){ // is always undefined, client should update view\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tformsState: formsState,\n\t\t\t\t\t\tformValidated: true\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tstandardResetForm(e, token){\n\t\te.preventDefault()\n\t\tlet formsState = this.state.formsState.slice()\n\t\tformsState[token] = 'view'\n\t\tlet editingFormData = {...this.state.initialData}\n\t\tthis.setState({\n\t\t\tformsState: formsState,\n\t\t\teditingFormData: editingFormData.attributes\n\t\t})\n\n\t\tlet form = document.getElementById(token.split('_view')[0]);\n\t\tif(form) form.reset();\n\t}\n\n\tstandardFooterActions = (formId, attributesListConfig) => {\n\t\tlet token = formId + \"_view\",\n\t\t\tsaveButtonTitle = attributesListConfig.saveButtonTitle ? attributesListConfig.saveButtonTitle : \"Sauvegarder\";\n\n\t\tif(this.state.formsState[token] === 'edit' || this.props.formMode === 'create_object') {\n\t\t\tif(this.props.formMode === 'create_object'){\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t{this.props.additionalWizardLeftActions && this.props.additionalWizardLeftActions()}\n\t\t\t\t\t\t\t<Button block className={attributesListConfig.saveButtonClassName}\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.standardSaveForm(e, token, attributesListConfig)}> {saveButtonTitle}\n\t\t\t\t\t\t\t\t{attributesListConfig.saveButtonIcon}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t\t<Button onClick={(e) => this.standardSaveForm(e, token, attributesListConfig)}> <i className=\"fa fa-save\"></i> Enregistrer</Button>\n\t\t\t\t\t\t\t<Button onClick={(e) => this.standardResetForm(e, token)}> <i className=\"fa fa-undo\"></i> Annuler</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\telse if(!this.state.formsState[token] || this.state.formsState[token] === 'view') {\n\t\t\tif(this.props.canEdit){\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t\t<Button onClick={(e) => this.standardEditForm(e, token)}><i className=\"fa fa-edit\"></i> Modifier</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn <hr/>\n\t\t\t}\n\t\t}\n\t}\n\n\tprocessGroup(attributes) {\n\t\tconst attrs = [];\n\t\tif(attributes && attributes.length > 0){\n\t\t\tlet index = 0;\n\n\t\t\tattributes.map(attribute => {\n\n\t\t\t\tindex++;\n\t\t\t\tlet lastRow = index === attributes.length;\n\n\t\t\t\tif(attribute.type && (attribute.type === 'custom')) {\n\t\t\t\t\tif(attribute.displayComponent){\n\t\t\t\t\t\tattrs.push(attribute.displayComponent())\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(attribute.type && (attribute.type === 'object')) {\n\t\t\t\t\tattrs.push(\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<tr className=\"noBorder\">\n\t\t\t\t\t\t\t\t<td colSpan=\"3\">\n\t\t\t\t\t\t\t\t\t<div className=\"spacer-20\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr className=\"noBorder\">\n\t\t\t\t\t\t\t\t<td colSpan=\"3\" className=\"paddingless\">\n\t\t\t\t\t\t\t\t\t<label className=\"katappult-form-title-level-1\">{attribute.title}</label>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t)\n\t\t\t\t\tattribute.items.map(a => {\n\t\t\t\t\t\tattrs.push(this.simpleHRow(a));\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse if(attribute.type && (attribute.type === 'objectarray'\n\t\t\t\t\t|| attribute.type === 'editableLabelObjectarray')) {\n\n\t\t\t\t\t// for objectarray form, title is computed on this level\n\t\t\t\t\t// when it does not repeated on each bloc of array.\n\t\t\t\t\t// If need to repeat it, use arrayTitleProvider\n\t\t\t\t\tlet headerActions;\n\t\t\t\t\tif(attribute.headerActions) headerActions = attribute.headerActions();\n\t\t\t\t\tlet title =  attribute.title;\n\t\t\t\t\tif(attribute.title || attribute.titleProvider){\n\t\t\t\t\t\ttitle = attribute.title ? attribute.title : attribute.titleProvider()\n\t\t\t\t\t\tattrs.push(\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td colSpan=\"3\" className=\"paddingless\">\n\t\t\t\t\t\t\t\t\t\t<label className=\"katappult-form-title-level-1\">{title}</label>\n\t\t\t\t\t\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t\t{headerActions}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tattrs.push(this.simpleArrayRow(attribute));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tlet rowActions = attribute.rowActions ? attribute.rowActions() : \"\";\n\t\t\t\t\tif(\"horizontal\" === this.props.orientation) {\n\t\t\t\t\t\tif(rowActions){\n\t\t\t\t\t\t\tattrs.push(this.actionableHRow(attribute));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tattrs.push(this.simpleHRow(attribute, lastRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tattrs.push(this.simpleVRow(attribute, lastRow))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn attrs;\n\t}\n\n\tprocessHeader(){\n\t\tlet header, headerActions;\n\t\tif(this.props.displayHeader === true && this.props.attributesListConfig.headerActions) {\n\t\t\theaderActions = this.props.attributesListConfig.headerActions()\n\t\t}\n\n\t\tif(this.props.displayHeader === true && this.props.attributesListConfig.title) {\n\t\t\theader = <tr width=\"100%\">\n\t\t\t\t<td colSpan=\"3\" className=\"paddingless\">\n\t\t\t\t\t<h3 className=\"form-title-level-0\">{this.props.attributesListConfig.title}</h3>\n\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t{headerActions}\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t}\n\n\t\tif(this.props.displayHeader === true && this.props.attributesListConfig.titleProvider) {\n\t\t\theader = <tr>\n\t\t\t\t<td colSpan=\"3\" className=\"paddingless\">\n\t\t\t\t\t<h3>{this.props.attributesListConfig.titleProvider()}</h3>\n\t\t\t\t\t<div className=\"float-right\">\n\t\t\t\t\t\t{headerActions}\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t}\n\t\treturn header;\n\t}\n\n\t/**\n\t * Attribute array ca be:\n\t * 1. An array of string\n\t * 2. An array of object\n\t *\n\t * Array of string (stringarray) example: {email:[\n\t *  'toto@me.com','tata@me.com',\n\t * ]\n\t *\n\t * Array of object (editableLabelObjectarray) example:\n\t * phones: [\n\t *   \t{'Home phone': '33 11 123 12'},\n\t *   \t{'Mobile phone': '32 12 123 12'},\n\t * ]\n\t * Array of object labels can be editable\n\t */\n\tsimpleArrayRow(attribute) {\n\t\tconst rootdata = this.props.data;\n\t\tif(attribute.type === 'objectarray' || attribute.type === 'editableLabelObjectarray') {\n\n\t\t\tlet arrayOfvalues = commons.getPropByString(rootdata, attribute.dataField);\n\t\t\tif(!arrayOfvalues || arrayOfvalues === '') arrayOfvalues = []\n\t\t\t// in this case, the header is not repeated for each line bloc\n\t\t\t// we just display each row with action, unique header and footer actions\n\t\t\tif(attribute.type === 'editableLabelObjectarray'){\n\t\t\t\tlet formId = 'formid_array_group_1'\n\t\t\t\treturn <AttributeArrayGroup {...this.props}\n\t\t\t\t\t\t\t\t\t\t\tcanEdit={this.props.canEdit}\n\t\t\t\t\t\t\t\t\t\t\titems={arrayOfvalues}\n\t\t\t\t\t\t\t\t\t\t\tattribute={attribute}\n\t\t\t\t\t\t\t\t\t\t\twrapInform={formId}/>\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet rows = <AttributeArrayObjectGroup {...this.props} items={arrayOfvalues} attribute={attribute}/>\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td colSpan=\"3\">\n\t\t\t\t\t\t\t\t<table width=\"100%\" id=\"dt-form\">\n\t\t\t\t\t\t\t\t\t<tbody>{rows}</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td colSpan=\"3\"></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\trowActions(attribute){\n\t\tconst rowActions = attribute.items.rowActions ? attribute.items.rowActions() : '';\n\t\treturn \t(\n\t\t\t<tr>\n\t\t\t\t<td colspan=\"2\"  align=\"right\">{rowActions}</td>\n\t\t\t</tr>\n\t\t)\n\t}\n\n\tsimpleVRow(attribute) {\n\t\tconst data = this.state.editingFormData;\n\t\tlet val = commons.getPropByString(data, attribute.dataField);\n\t\tlet editor = attribute.type ? attribute.type : 'text';\n\t\tlet pattern = attribute.pattern;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<tr className=\"td-left\">\n\t\t\t\t\t<td>{attribute.name}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr className=\"td-left\">\n\t\t\t\t\t<td><Input type={editor} defaultValue={val}\n\t\t\t\t\t\t\t   autoComplete={'off'}\n\t\t\t\t\t\t\t   onChange={(e) => this.handleFormChange(e, null, null, pattern)}\n\t\t\t\t\t\t\t   name={attribute.dataField} pattern={attribute.pattern}/>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n\n\tsimpleHRow(attribute, lastRow) {\n\n\t\tif(this.isEditing() && !attribute.readOnly){\n\n\t\t\tconst data = this.state.editingFormData;\n\t\t\tlet val = data ? commons.getPropByString(data, attribute.dataField) : '';\n\t\t\tlet editor = commons.getInputType(attribute);\n\t\t\tlet showLabel = attribute.labelLess !== 'true';\n\n\t\t\tlet feedBack =  <Form.Control.Feedback type=\"invalid\">\n\t\t\t\t{attribute.invalidFeedBack ? attribute.invalidFeedBack : 'Valeur requise'}\n\t\t\t</Form.Control.Feedback>\n\n\t\t\tif(attribute.editorComponent){\n\t\t\t\treturn  <Form.Group className=\"field field-string\" >\n\t\t\t\t\t{showLabel && <Form.Label>{attribute.name}</Form.Label>}\n\t\t\t\t\t{attribute.editorComponent()}\n\t\t\t\t</Form.Group>\n\t\t\t}\n\n\t\t\tif(\"select\" === editor && attribute.enumProvider){\n\t\t\t\tlet options = [], enums = attribute.enumProvider(this.state.editingFormData);\n\t\t\t\tif(!attribute.required){\n\t\t\t\t\toptions.push(<option value=''>...</option>)\n\t\t\t\t}\n\n\t\t\t\tenums.map(e => {\n\t\t\t\t\tlet opt = <option value={e.key}>{e.value}</option>\n\t\t\t\t\toptions.push(opt)\n\t\t\t\t})\n\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<Form.Group className=\"field field-string\">\n\t\t\t\t\t\t\t{showLabel && <Form.Label>{attribute.name}</Form.Label>}\n\t\t\t\t\t\t\t<Form.Control as=\"select\"\n\t\t\t\t\t\t\t\t\t\t  className={'field-select'}\n\t\t\t\t\t\t\t\t\t\t  type={'select'}\n\t\t\t\t\t\t\t\t\t\t  value={val}\n\t\t\t\t\t\t\t\t\t\t  isInvalid={!!this.state.errors[attribute.dataField]}\n\t\t\t\t\t\t\t\t\t\t  onChange={this.handleFormChange}\n\t\t\t\t\t\t\t\t\t\t  name={attribute.dataField}>\n\t\t\t\t\t\t\t\t{options}\n\t\t\t\t\t\t\t</Form.Control>\n\t\t\t\t\t\t\t{feedBack}\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif('yesno' === editor){\n\t\t\t\treturn <Form.Group className=\"field field-string\" >\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype={'checkbox'}\n\t\t\t\t\t\tlabel={attribute.name}\n\t\t\t\t\t\tonChange={e=>this.handleFormChange(e)}\n\t\t\t\t\t\tname={'yes_no_' + attribute.dataField}\n\t\t\t\t\t\tchecked={val === true ? 'checked' : ''}\n\t\t\t\t\t\tisInvalid={!!this.state.errors[attribute.dataField]}\n\t\t\t\t\t\tvalue={val}\n\t\t\t\t\t\trequired={attribute.required}>\n\t\t\t\t\t</Form.Check>\n\t\t\t\t\t{feedBack}\n\t\t\t\t</Form.Group>\n\t\t\t}\n\n\n\t\t\tif(\"date\" === editor){\n\t\t\t\t// date must be converted in that format\n\t\t\t\t// otherwise the dislayed date in input is wrong\n\t\t\t\t//val = val.split(' ')[0]\n\t\t\t\t//val = moment(str, 'YYYY-MM-DD')\n\t\t\t\tval = val ? moment(val, 'YYYYMMDD') : null\n\t\t\t\tlet date = val ? val.toDate() : null;\n\t\t\t\tconst placeholder = attribute.placeHolder ? attribute.placeHolder : 'dd/mm/yyyy'\n\t\t\t\treturn (\n\t\t\t\t\t<Form.Group className=\"field field-string\" >\n\t\t\t\t\t\t{showLabel && <Form.Label>{attribute.name}</Form.Label>}\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tselected={date}\n\t\t\t\t\t\t\tisInvalid={!!this.state.errors[attribute.dataField]}\n\t\t\t\t\t\t\tonChange={e => this.handleFormChange(e, attribute.dataField, 'date')}\n\t\t\t\t\t\t\tplaceholderText={attribute.placeHolder}\n\t\t\t\t\t\t\tdateFormat=\"dd-MM-yyyy\"\n\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{feedBack}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t)\n\t\t\t}\n\t\t\tif(\"datetime\" === editor){\n\t\t\t\t// date must be converted in that format\n\t\t\t\t// otherwise the dislayed date in input is wrong\n\t\t\t\t//val = val.split(' ')[0]\n\t\t\t\t//val = moment(str, 'YYYY-MM-DD')\n\t\t\t\tval = val ? moment(val, 'YYYYMMDDHHmmss') : null\n\t\t\t\tlet date = val ? val.toDate() : null;\n\t\t\t\treturn (\n\t\t\t\t\t<Form.Group className=\"field field-string\" >\n\t\t\t\t\t\t{showLabel && <Form.Label>{attribute.name}</Form.Label>}\n\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\tselected={date}\n\t\t\t\t\t\t\tshowTimeSelect\n\t\t\t\t\t\t\twithPortal\n\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\tisInvalid={!!this.state.errors[attribute.dataField]}\n\t\t\t\t\t\t\tonChange={e => this.handleFormChange(e, attribute.dataField, 'datetime')}\n\t\t\t\t\t\t\tplaceholderText={attribute.placeHolder}\n\t\t\t\t\t\t\tdateFormat=\"dd-MM-yyyy HH:mm\"\n\t\t\t\t\t\t\ttimeFormat=\"HH:mm\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{feedBack}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif('textarea' === editor){\n\t\t\t\treturn (\n\t\t\t\t\t<Form.Group className=\"field field-string\" >\n\t\t\t\t\t\t{showLabel && <Form.Label>{attribute.name}</Form.Label>}\n\t\t\t\t\t\t<Form.Control placeholder={attribute.placeHolder}\n\t\t\t\t\t\t\t\t\t  autoComplete={'off'}\n\t\t\t\t\t\t\t\t\t  className={''}\n\t\t\t\t\t\t\t\t\t  isInvalid={!!this.state.errors[attribute.dataField]}\n\t\t\t\t\t\t\t\t\t  onChange={e=>this.handleFormChange(e)}\n\t\t\t\t\t\t\t\t\t  name={attribute.dataField}\n\t\t\t\t\t\t\t\t\t  defaultValue={val}\n\t\t\t\t\t\t\t\t\t  value={val} type={attribute.type ? attribute.type: 'textarea'}\n\t\t\t\t\t\t\t\t\t  as=\"textarea\" rows=\"4\"\n\t\t\t\t\t\t\t\t\t  required={attribute.required}/>\n\t\t\t\t\t\t{feedBack}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tif('checkbox' === editor && attribute.enumProvider) {\n\t\t\t\tconst result = attribute.enumProvider(this.state.editingFormData).map((data) =>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype={'checkbox'}\n\t\t\t\t\t\tonChange={e=> this.handleFormChange(e)}\n\t\t\t\t\t\tisInvalid={!!this.state.errors[attribute.dataField]}\n\t\t\t\t\t\tname={attribute.dataField}\n\t\t\t\t\t\tchecked={val.split(';').includes(data.key) ? 'checked' : ''}\n\t\t\t\t\t\tvalue={data.key}\n\t\t\t\t\t\tlabel={data.value}\n\t\t\t\t\t\trequired={attribute.required}/>\n\t\t\t\t);\n\n\t\t\t\treturn <Form.Group className=\"field field-string\" >\n\t\t\t\t\t<Form.Label>{attribute.name}</Form.Label>\n\t\t\t\t\t<div style={{display: 'flex'}}>{result}</div>\n\t\t\t\t</Form.Group>\n\t\t\t}\n\n\t\t\tif('radio' === editor){\n\t\t\t\tif(attribute.enumProvider){\n\t\t\t\t\tconst result = attribute.enumProvider(this.state.editingFormData).map((data) =>\n\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\ttype={'radio'}\n\t\t\t\t\t\t\tonChange={e=>this.handleFormChange(e)}\n\t\t\t\t\t\t\tname={attribute.dataField}\n\t\t\t\t\t\t\tchecked={val === data.key}\n\t\t\t\t\t\t\tisInvalid={!!this.state.errors[attribute.dataField]}\n\t\t\t\t\t\t\tvalue={data.key}\n\t\t\t\t\t\t\tlabel={data.value}\n\t\t\t\t\t\t\trequired={attribute.required}>\n\t\t\t\t\t\t</Form.Check>\n\t\t\t\t\t);\n\n\t\t\t\t\treturn <Form.Group className=\"field field-string\" >\n\t\t\t\t\t\t<Form.Label>{attribute.name}</Form.Label>\n\t\t\t\t\t\t{result}\n\t\t\t\t\t</Form.Group>\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Form.Group className=\"field field-string\" >\n\t\t\t\t\t{showLabel && <Form.Label>{attribute.name}</Form.Label>}\n\t\t\t\t\t<Form.Control placeholder={attribute.placeHolder}\n\t\t\t\t\t\t\t\t  autoComplete={'off'}\n\t\t\t\t\t\t\t\t  className={''}\n\t\t\t\t\t\t\t\t  onChange={e=>this.handleFormChange(e)}\n\t\t\t\t\t\t\t\t  name={attribute.dataField}\n\t\t\t\t\t\t\t\t  isInvalid={!!this.state.errors[attribute.dataField]}\n\t\t\t\t\t\t\t\t  defaultValue={val}\n\t\t\t\t\t\t\t\t  value={val} type={attribute.type ? attribute.type: 'text'}\n\t\t\t\t\t\t\t\t  pattern={attribute.pattern}\n\t\t\t\t\t\t\t\t  required={attribute.required}/>\n\t\t\t\t\t{feedBack}\n\t\t\t\t</Form.Group>\n\t\t\t)\n\t\t}\n\t\telse {\n\t\t\tconst data = this.state.initialData.attributes;\n\t\t\tlet dataKey = attribute.dataField;\n\t\t\tif(dataKey.startsWith('attributes.')){\n\t\t\t\tdataKey = attribute.dataField.split('attributes.')[1]\n\t\t\t}\n\n\t\t\tlet value = data ? commons.getPropByString(data, dataKey) : '';\n\t\t\tconst display = commons.getAttributeViewer(attribute, value)\n\t\t\tconst suffix = attribute.suffix ? attribute.suffix : ''\n\t\t\tlet selectValue  = [];\n\t\t\tif(attribute.enumProvider){\n\t\t\t\tattribute.enumProvider(this.state.editingFormData).map(val => {\n\t\t\t\t\tif(value.split(';').includes(val.key)) {\n\t\t\t\t\t\tselectValue.push(val.value)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tif(attribute.type === 'yesno'){\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<table width=\"100%\" className={lastRow ? 'dt-form-last-row': ''}>\n\t\t\t\t\t\t\t<tr className=\"td-left\">\n\t\t\t\t\t\t\t\t<td width=\"40%\" className=\"dt-form td-left\"><Label className=\"control-label-view\">{attribute.name}</Label></td>\n\t\t\t\t\t\t\t\t<td width=\"60%\" className=\"dt-form td-left\" style={{'word-wrap':'break-word'}}>\n\t\t\t\t\t\t\t\t\t<input type={'checkbox'} disabled checked={value}/>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<table width=\"100%\" className={lastRow ? 'dt-form-last-row': ''}>\n\t\t\t\t\t\t<tr className=\"td-left\">\n\t\t\t\t\t\t\t<td width=\"40%\" className=\"dt-form td-left\"><Label className=\"control-label-view\">{attribute.name}</Label></td>\n\t\t\t\t\t\t\t<td width=\"60%\" className=\"dt-form td-left\" style={{'word-wrap':'break-word'}}>{selectValue.length > 0 ? selectValue.join(', ') : display} {suffix}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t}\n\n\n\tactionableHRow(attribute) {\n\t\tconst data = this.state.editingFormData;\n\t\tlet val = commons.getPropByString(data, attribute.dataField);\n\t\tlet rowActions = attribute.rowActions ? attribute.rowActions() : \"\";\n\t\tlet rowGroupActions = attribute.rowGroupActions ? attribute.rowGroupActions() : \"\";\n\t\tlet editor = commons.getInputType(attribute);\n\t\treturn(\n\t\t\t<React.Fragment>\n\t\t\t\t<tr>\n\t\t\t\t\t<td><Label className=\"control-label-view\">{attribute.name}</Label></td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<table width=\"100%\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td><Input type={editor} defaultValue={val} onChange={(e) => this.handleFormChange(e)} name={attribute.dataField} pattern={attribute.pattern}/></td>\n\t\t\t\t\t\t\t\t<td>{rowActions}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>{attribute.empty}</td>\n\t\t\t\t\t\t\t\t<td>{rowGroupActions}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n\n\tprocessFooter(){\n\t\tlet action;\n\t\tif(this.props.attributesListConfig.footerActions){\n\t\t\taction = this.props.attributesListConfig.footerActions();\n\t\t}\n\t\telse if(this.props.standardFooterActions) {\n\t\t\taction = this.standardFooterActions(this.props.attributesListConfig.formId,\n\t\t\t\tthis.props.attributesListConfig)\n\t\t}\n\t\treturn action;\n\t}\n\n\tisEditing(){\n\t\tlet formId = this.props.attributesListConfig.formId;\n\t\treturn this.state.formsState[formId + '_view'] === 'edit' || this.props.formMode === 'create_object'\n\t}\n\n\tcomponentWillReceiveProps(props) {\n\t\tthis.setState({\n\t\t\teditingFormData: props.data.attributes,\n\t\t\tinitialData: props.data\n\t\t})\n\t}\n\n\trender() {\n\t\tconst attributes = this.props.attributesListConfig.attributes;\n\t\tlet attrs = this.processGroup(attributes);\n\n\t\t// TOP LEVEL COMMONE HEADER OF THE GROUP\n\t\t// IF THERE IS ONE\n\t\tlet finalheader;\n\t\tif(this.props.displayHeader === true){\n\t\t\tlet header = this.processHeader();\n\t\t\tfinalheader = (\n\t\t\t\t<table width=\"100%\" id=\"dt-form\">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t{header}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t)\n\t\t}\n\n\t\t// COMMONS FOOTER\n\t\tlet finalFooter;\n\t\tlet footer = this.processFooter();\n\t\tif(footer){\n\t\t\tfinalFooter = (\n\t\t\t\t<div className=\"btn-toolbar-right\">{footer}</div>\n\t\t\t)\n\t\t}\n\n\t\t// body classname\n\t\tlet bodyClassName = \"no-border\";\n\t\tif(this.props.attributesListConfig.addHeaderMargin || this.props.addHeaderMargin){\n\t\t\tbodyClassName = \"no-border noBorder katappult-top-margin-20\";\n\t\t}\n\n\t\t// IF TOP LEVEL CONFIGURATION HAS DEFINED A FORMID ATTRIBUTE,\n\t\t// MEANS THAT ALL BLOCS BELONGS TO SAME FORM\n\t\tlet body\n\t\tif(this.props.attributesListConfig.formId){\n\t\t\tif(this.isEditing()){\n\t\t\t\tbody = <div className={this.props.cardClassName}>\n\t\t\t\t\t<Form ref={form => this.formEl = form} validated={this.state.formValidated} id={this.props.attributesListConfig.formId}>\n\t\t\t\t\t\t{attrs}\n\t\t\t\t\t</Form>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbody = <div className={this.props.cardClassName}>\n\t\t\t\t\t<Table id=\"dt-form\" borderless={this.props.attributesListConfig.borderLess}\n\t\t\t\t\t\t   size=\"sm\" className={bodyClassName}>\n\t\t\t\t\t\t<tbody>{attrs}</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t}\n\t\telse {\n\t\t\tbody = <div className={this.props.cardClassName}>\n\t\t\t\t<Table id=\"dt-form\" borderless={this.props.attributesListConfig.borderLess || this.isEditing()}\n\t\t\t\t\t   size=\"sm\" className={bodyClassName}>\n\t\t\t\t\t<tbody>{attrs}</tbody>\n\t\t\t\t</Table>\n\t\t\t</div>\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"attributes-list\">\n\t\t\t\t{finalheader}\n\t\t\t\t{body}\n\t\t\t\t{finalFooter}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nAttributeListGroup.propTypes = propTypes;\nAttributeListGroup.defaultProps = defaultProps;\n\n\nexport default AttributeListGroup;\n"],"sourceRoot":""}